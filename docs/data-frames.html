<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data Frames | Data Science with R</title>
  <meta name="description" content="A comprehensive guide to data science using R, covering fundamentals, visualization, statistics, machine learning with tidymodels, and generative AI integration. Third Edition by Daniel Paredes." />
  <meta name="generator" content="bookdown 0.46 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data Frames | Data Science with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="A comprehensive guide to data science using R, covering fundamentals, visualization, statistics, machine learning with tidymodels, and generative AI integration. Third Edition by Daniel Paredes." />
  <meta name="github-repo" content="dparedesi/Data-Science-with-R-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data Frames | Data Science with R" />
  
  <meta name="twitter:description" content="A comprehensive guide to data science using R, covering fundamentals, visualization, statistics, machine learning with tidymodels, and generative AI integration. Third Edition by Daniel Paredes." />
  

<meta name="author" content="Author: Mg. Daniel Paredes Inilupu" />


<meta name="date" content="2025-12-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functions.html"/>
<link rel="next" href="advanced-techniques.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics: Sin Vista -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VJJ963010J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VJJ963010J');
</script>

<!-- Global site tag (gtag.js) - Google Analytics: Vista -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165839710-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-165839710-1');
</script>

<!-- Global site tag (gtag.js) - Google Analytics: Agentedec4mbio -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-17876479-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-17876479-1');
</script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#support-this-work"><i class="fa fa-check"></i>Support This Work</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#stay-connected"><i class="fa fa-check"></i>Stay Connected</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a>
<ul>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html#family"><i class="fa fa-check"></i>Family</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html#mentors-and-inspirations"><i class="fa fa-check"></i>Mentors and Inspirations</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#installing-r"><i class="fa fa-check"></i>Installing R</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#installing-rstudio"><i class="fa fa-check"></i>Installing RStudio</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#rstudio-sections"><i class="fa fa-check"></i>RStudio Sections</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#essential-keyboard-shortcuts"><i class="fa fa-check"></i>Essential Keyboard Shortcuts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#testing-your-installation"><i class="fa fa-check"></i>Testing Your Installation</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#writing-scripts"><i class="fa fa-check"></i>Writing Scripts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#whats-next"><i class="fa fa-check"></i>What’s Next?</a></li>
</ul></li>
<li class="part"><span><b>I Fundamentals and Key Tools</b></span></li>
<li class="chapter" data-level="1" data-path="objects.html"><a href="objects.html"><i class="fa fa-check"></i><b>1</b> Objects</a>
<ul>
<li class="chapter" data-level="1.1" data-path="objects.html"><a href="objects.html#what-are-objects-in-r"><i class="fa fa-check"></i><b>1.1</b> What are objects in R?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="objects.html"><a href="objects.html#r-as-an-object-oriented-language"><i class="fa fa-check"></i><b>1.1.1</b> R as an object-oriented language</a></li>
<li class="chapter" data-level="1.1.2" data-path="objects.html"><a href="objects.html#the-power-of-abstraction"><i class="fa fa-check"></i><b>1.1.2</b> The power of abstraction</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="objects.html"><a href="objects.html#variables-the-first-objects-on-your-journey"><i class="fa fa-check"></i><b>1.2</b> Variables: The first objects on your journey</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="objects.html"><a href="objects.html#creating-variables-in-r"><i class="fa fa-check"></i><b>1.2.1</b> Creating variables in R</a></li>
<li class="chapter" data-level="1.2.2" data-path="objects.html"><a href="objects.html#operations-with-variables"><i class="fa fa-check"></i><b>1.2.2</b> Operations with variables</a></li>
<li class="chapter" data-level="1.2.3" data-path="objects.html"><a href="objects.html#best-practices-for-naming-variables"><i class="fa fa-check"></i><b>1.2.3</b> Best practices for naming variables</a></li>
<li class="chapter" data-level="1.2.4" data-path="objects.html"><a href="objects.html#data-types"><i class="fa fa-check"></i><b>1.2.4</b> Data types</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="objects.html"><a href="objects.html#object-types-for-complex-data"><i class="fa fa-check"></i><b>1.3</b> Object types for complex data</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="objects.html"><a href="objects.html#vectors-organizing-information-of-the-same-type"><i class="fa fa-check"></i><b>1.3.1</b> Vectors: organizing information of the same type</a></li>
<li class="chapter" data-level="1.3.2" data-path="objects.html"><a href="objects.html#lists-grouping-objects-of-different-types"><i class="fa fa-check"></i><b>1.3.2</b> Lists: grouping objects of different types</a></li>
<li class="chapter" data-level="1.3.3" data-path="objects.html"><a href="objects.html#matrices-organizing-data-in-rows-and-columns"><i class="fa fa-check"></i><b>1.3.3</b> Matrices: organizing data in rows and columns</a></li>
<li class="chapter" data-level="1.3.4" data-path="objects.html"><a href="objects.html#arrays-multidimensional-matrices"><i class="fa fa-check"></i><b>1.3.4</b> Arrays: multidimensional matrices</a></li>
<li class="chapter" data-level="1.3.5" data-path="objects.html"><a href="objects.html#factors-representing-categorical-data"><i class="fa fa-check"></i><b>1.3.5</b> Factors: representing categorical data</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="objects.html"><a href="objects.html#the-universe-of-objects-in-r"><i class="fa fa-check"></i><b>1.4</b> The Universe of Objects in R</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="objects.html"><a href="objects.html#philosophy-of-objects-in-r"><i class="fa fa-check"></i><b>1.4.1</b> Philosophy of objects in R</a></li>
<li class="chapter" data-level="1.4.2" data-path="objects.html"><a href="objects.html#comparison-with-other-languages"><i class="fa fa-check"></i><b>1.4.2</b> Comparison with other languages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="objects.html"><a href="objects.html#exercises"><i class="fa fa-check"></i><b>1.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>2</b> Functions</a>
<ul>
<li class="chapter" data-level="2.1" data-path="functions.html"><a href="functions.html#introduction-to-the-world-of-functions"><i class="fa fa-check"></i><b>2.1</b> Introduction to the world of functions</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="functions.html"><a href="functions.html#what-are-functions"><i class="fa fa-check"></i><b>2.1.1</b> What are functions?</a></li>
<li class="chapter" data-level="2.1.2" data-path="functions.html"><a href="functions.html#why-use-functions"><i class="fa fa-check"></i><b>2.1.2</b> Why use functions?</a></li>
<li class="chapter" data-level="2.1.3" data-path="functions.html"><a href="functions.html#first-functions-exploring-basic-r-functions"><i class="fa fa-check"></i><b>2.1.3</b> First functions: exploring basic R functions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="functions.html"><a href="functions.html#anatomy-of-a-function"><i class="fa fa-check"></i><b>2.2</b> Anatomy of a function</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="functions.html"><a href="functions.html#arguments-the-ingredients-of-the-function"><i class="fa fa-check"></i><b>2.2.1</b> Arguments: the ingredients of the function</a></li>
<li class="chapter" data-level="2.2.2" data-path="functions.html"><a href="functions.html#body-the-instructions-of-the-function"><i class="fa fa-check"></i><b>2.2.2</b> Body: the instructions of the function</a></li>
<li class="chapter" data-level="2.2.3" data-path="functions.html"><a href="functions.html#return-value-the-result-of-the-function"><i class="fa fa-check"></i><b>2.2.3</b> Return value: the result of the function</a></li>
<li class="chapter" data-level="2.2.4" data-path="functions.html"><a href="functions.html#examples-creating-simple-functions-step-by-step"><i class="fa fa-check"></i><b>2.2.4</b> Examples: creating simple functions step by step</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="functions.html"><a href="functions.html#mastering-the-use-of-functions"><i class="fa fa-check"></i><b>2.3</b> Mastering the use of functions</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="functions.html"><a href="functions.html#functions-with-a-variable-number-of-arguments-...-adapting-to-different-situations"><i class="fa fa-check"></i><b>2.3.1</b> Functions with a variable number of arguments (<code>...</code>): Adapting to different situations</a></li>
<li class="chapter" data-level="2.3.2" data-path="functions.html"><a href="functions.html#variable-scope-local-and-global-variables"><i class="fa fa-check"></i><b>2.3.2</b> Variable scope: local and global variables</a></li>
<li class="chapter" data-level="2.3.3" data-path="functions.html"><a href="functions.html#examples-functions-to-calculate-taxes-discounts-etc."><i class="fa fa-check"></i><b>2.3.3</b> Examples: functions to calculate taxes, discounts, etc.</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="functions.html"><a href="functions.html#higher-order-functions"><i class="fa fa-check"></i><b>2.4</b> Higher-order functions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="functions.html"><a href="functions.html#lapply-and-sapply-applying-a-function-to-each-element"><i class="fa fa-check"></i><b>2.4.1</b> <code>lapply()</code> and <code>sapply()</code>: applying a function to each element</a></li>
<li class="chapter" data-level="2.4.2" data-path="functions.html"><a href="functions.html#apply-applying-a-function-to-rows-or-columns"><i class="fa fa-check"></i><b>2.4.2</b> <code>apply()</code>: applying a function to rows or columns</a></li>
<li class="chapter" data-level="2.4.3" data-path="functions.html"><a href="functions.html#mapply-applying-a-function-to-multiple-arguments"><i class="fa fa-check"></i><b>2.4.3</b> <code>mapply()</code>: applying a function to multiple arguments</a></li>
<li class="chapter" data-level="2.4.4" data-path="functions.html"><a href="functions.html#examples-data-analysis-with-higher-order-functions"><i class="fa fa-check"></i><b>2.4.4</b> Examples: data analysis with higher-order functions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="functions.html"><a href="functions.html#closures-functions-with-memory"><i class="fa fa-check"></i><b>2.5</b> Closures: functions with memory</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="functions.html"><a href="functions.html#concept-functions-that-remember"><i class="fa fa-check"></i><b>2.5.1</b> Concept: functions that “remember”</a></li>
<li class="chapter" data-level="2.5.2" data-path="functions.html"><a href="functions.html#applications-creating-counters-functions-with-internal-state"><i class="fa fa-check"></i><b>2.5.2</b> Applications: creating counters, functions with internal state</a></li>
<li class="chapter" data-level="2.5.3" data-path="functions.html"><a href="functions.html#examples-simulating-a-game-creating-an-operation-history"><i class="fa fa-check"></i><b>2.5.3</b> Examples: simulating a game, creating an operation history</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="functions.html"><a href="functions.html#debugging-and-error-handling-solving-the-mysteries-of-your-code"><i class="fa fa-check"></i><b>2.6</b> Debugging and error handling: solving the mysteries of your code</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="functions.html"><a href="functions.html#identifying-errors-common-error-messages-in-r"><i class="fa fa-check"></i><b>2.6.1</b> Identifying errors: common error messages in R</a></li>
<li class="chapter" data-level="2.6.2" data-path="functions.html"><a href="functions.html#debugging-tools-debug-traceback"><i class="fa fa-check"></i><b>2.6.2</b> Debugging tools: <code>debug()</code>, <code>traceback()</code></a></li>
<li class="chapter" data-level="2.6.3" data-path="functions.html"><a href="functions.html#error-handling-trycatch"><i class="fa fa-check"></i><b>2.6.3</b> Error handling: <code>tryCatch()</code></a></li>
<li class="chapter" data-level="2.6.4" data-path="functions.html"><a href="functions.html#examples-debugging-functions-with-errors-handling-exceptions"><i class="fa fa-check"></i><b>2.6.4</b> Examples: debugging functions with errors, handling exceptions</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="functions.html"><a href="functions.html#exercises-1"><i class="fa fa-check"></i><b>2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>3</b> Data Frames</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-frames.html"><a href="data-frames.html#introduction-to-data-frames"><i class="fa fa-check"></i><b>3.1</b> Introduction to Data Frames</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-frames.html"><a href="data-frames.html#what-are-data-frames"><i class="fa fa-check"></i><b>3.1.1</b> What are data frames?</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-frames.html"><a href="data-frames.html#why-data-frames"><i class="fa fa-check"></i><b>3.1.2</b> Why data frames?</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-frames.html"><a href="data-frames.html#data-frames-in-action-exploring-information-about-the-united-states"><i class="fa fa-check"></i><b>3.1.3</b> Data Frames in action: exploring information about the United States</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-frames.html"><a href="data-frames.html#creating-data-frames-building-your-database-for-the-move"><i class="fa fa-check"></i><b>3.2</b> Creating Data Frames: Building your database for the move</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-frames.html"><a href="data-frames.html#importing-data-from-files-csv-excel"><i class="fa fa-check"></i><b>3.2.1</b> Importing data from files: CSV, Excel</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-frames.html"><a href="data-frames.html#creating-data-frames-manually"><i class="fa fa-check"></i><b>3.2.2</b> Creating data frames manually</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-frames.html"><a href="data-frames.html#examples"><i class="fa fa-check"></i><b>3.2.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-frames.html"><a href="data-frames.html#exploring-data-frames-discovering-the-secrets-of-your-data"><i class="fa fa-check"></i><b>3.3</b> Exploring Data Frames: Discovering the secrets of your data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-frames.html"><a href="data-frames.html#accessing-rows-columns-and-cells"><i class="fa fa-check"></i><b>3.3.1</b> Accessing rows, columns, and cells</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-frames.html"><a href="data-frames.html#functions-for-exploring-data-frames"><i class="fa fa-check"></i><b>3.3.2</b> Functions for exploring data frames</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-frames.html"><a href="data-frames.html#examples-exploring-data-frames-with-move-information"><i class="fa fa-check"></i><b>3.3.3</b> Examples: exploring data frames with move information</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-frames.html"><a href="data-frames.html#manipulating-data-frames-transforming-your-data"><i class="fa fa-check"></i><b>3.4</b> Manipulating Data Frames: Transforming your data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-frames.html"><a href="data-frames.html#introduction-to-the-pipeline-operator"><i class="fa fa-check"></i><b>3.4.1</b> Introduction to the pipeline operator (<code>|&gt;</code>)</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-frames.html"><a href="data-frames.html#transforming-a-table-with-mutate"><i class="fa fa-check"></i><b>3.4.2</b> Transforming a table with <code>mutate()</code></a></li>
<li class="chapter" data-level="3.4.3" data-path="data-frames.html"><a href="data-frames.html#filtering-data-selecting-cities-that-interest-you"><i class="fa fa-check"></i><b>3.4.3</b> Filtering data: selecting cities that interest you</a></li>
<li class="chapter" data-level="3.4.4" data-path="data-frames.html"><a href="data-frames.html#sorting-data-finding-the-safest-cities"><i class="fa fa-check"></i><b>3.4.4</b> Sorting data: finding the safest cities</a></li>
<li class="chapter" data-level="3.4.5" data-path="data-frames.html"><a href="data-frames.html#aggregating-and-summarizing-data-obtaining-general-overview"><i class="fa fa-check"></i><b>3.4.5</b> Aggregating and summarizing data: obtaining general overview</a></li>
<li class="chapter" data-level="3.4.6" data-path="data-frames.html"><a href="data-frames.html#joining-data-frames-combining-information"><i class="fa fa-check"></i><b>3.4.6</b> Joining data frames: combining information</a></li>
<li class="chapter" data-level="3.4.7" data-path="data-frames.html"><a href="data-frames.html#examples-1"><i class="fa fa-check"></i><b>3.4.7</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-frames.html"><a href="data-frames.html#exercises-2"><i class="fa fa-check"></i><b>3.5</b> Exercises</a></li>
<li class="chapter" data-level="3.6" data-path="data-frames.html"><a href="data-frames.html#data-frames-in-plots"><i class="fa fa-check"></i><b>3.6</b> Data frames in plots</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-frames.html"><a href="data-frames.html#scatter-plots"><i class="fa fa-check"></i><b>3.6.1</b> Scatter plots</a></li>
<li class="chapter" data-level="3.6.2" data-path="data-frames.html"><a href="data-frames.html#histograms"><i class="fa fa-check"></i><b>3.6.2</b> Histograms</a></li>
<li class="chapter" data-level="3.6.3" data-path="data-frames.html"><a href="data-frames.html#box-plot"><i class="fa fa-check"></i><b>3.6.3</b> Box plot</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-frames.html"><a href="data-frames.html#data-interpretation"><i class="fa fa-check"></i><b>3.7</b> Data interpretation</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="data-frames.html"><a href="data-frames.html#quartiles"><i class="fa fa-check"></i><b>3.7.1</b> Quartiles</a></li>
<li class="chapter" data-level="3.7.2" data-path="data-frames.html"><a href="data-frames.html#interpretation-of-box-plot"><i class="fa fa-check"></i><b>3.7.2</b> Interpretation of box plot</a></li>
<li class="chapter" data-level="3.7.3" data-path="data-frames.html"><a href="data-frames.html#examples-2"><i class="fa fa-check"></i><b>3.7.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-frames.html"><a href="data-frames.html#exercises-3"><i class="fa fa-check"></i><b>3.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="advanced-techniques.html"><a href="advanced-techniques.html"><i class="fa fa-check"></i><b>4</b> Advanced Techniques</a>
<ul>
<li class="chapter" data-level="4.1" data-path="advanced-techniques.html"><a href="advanced-techniques.html#metaprogramming-writing-code-that-writes-code"><i class="fa fa-check"></i><b>4.1</b> Metaprogramming: writing code that writes code</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="advanced-techniques.html"><a href="advanced-techniques.html#manipulating-expressions-the-art-of-sculpting-code"><i class="fa fa-check"></i><b>4.1.1</b> Manipulating expressions: The art of sculpting code</a></li>
<li class="chapter" data-level="4.1.2" data-path="advanced-techniques.html"><a href="advanced-techniques.html#examples-3"><i class="fa fa-check"></i><b>4.1.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="advanced-techniques.html"><a href="advanced-techniques.html#functional-programming-a-new-paradigm"><i class="fa fa-check"></i><b>4.2</b> Functional programming: a new paradigm</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="advanced-techniques.html"><a href="advanced-techniques.html#basic-principles-of-functional-programming"><i class="fa fa-check"></i><b>4.2.1</b> Basic principles of functional programming</a></li>
<li class="chapter" data-level="4.2.2" data-path="advanced-techniques.html"><a href="advanced-techniques.html#higher-order-functions-in-r"><i class="fa fa-check"></i><b>4.2.2</b> Higher-order functions in R</a></li>
<li class="chapter" data-level="4.2.3" data-path="advanced-techniques.html"><a href="advanced-techniques.html#examples-4"><i class="fa fa-check"></i><b>4.2.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="advanced-techniques.html"><a href="advanced-techniques.html#r6-the-future-of-oop-in-r"><i class="fa fa-check"></i><b>4.3</b> R6: The future of OOP in R</a></li>
<li class="chapter" data-level="4.4" data-path="advanced-techniques.html"><a href="advanced-techniques.html#exercises-4"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Data Visualization and Summarization</b></span></li>
<li class="chapter" data-level="5" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html"><i class="fa fa-check"></i><b>5</b> Ggplot and dplyr</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#creating-the-ggplot-object"><i class="fa fa-check"></i><b>5.1</b> Creating the ggplot object</a></li>
<li class="chapter" data-level="5.2" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#aesthetic-mapping-layer"><i class="fa fa-check"></i><b>5.2</b> Aesthetic mapping layer</a></li>
<li class="chapter" data-level="5.3" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#geoms-layer"><i class="fa fa-check"></i><b>5.3</b> Geoms layer</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#tweaking-aes-and-geoms"><i class="fa fa-check"></i><b>5.3.1</b> Tweaking aes and geoms</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#scale-layer"><i class="fa fa-check"></i><b>5.4</b> Scale layer</a></li>
<li class="chapter" data-level="5.5" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#label-title-and-legend-layer"><i class="fa fa-check"></i><b>5.5</b> Label, title and legend layer</a></li>
<li class="chapter" data-level="5.6" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#reference-lines"><i class="fa fa-check"></i><b>5.6</b> Reference lines</a></li>
<li class="chapter" data-level="5.7" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#changing-the-plot-style"><i class="fa fa-check"></i><b>5.7</b> Changing the plot style</a></li>
<li class="chapter" data-level="5.8" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#saving-plots"><i class="fa fa-check"></i><b>5.8</b> Saving plots</a></li>
<li class="chapter" data-level="5.9" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#summarizing-data-with-dplyr"><i class="fa fa-check"></i><b>5.9</b> Summarizing data with dplyr</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#summarize-function"><i class="fa fa-check"></i><b>5.9.1</b> Summarize function</a></li>
<li class="chapter" data-level="5.9.2" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#group-by-function"><i class="fa fa-check"></i><b>5.9.2</b> Group By Function</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#exercises-5"><i class="fa fa-check"></i><b>5.10</b> Exercises</a></li>
<li class="chapter" data-level="5.11" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#key-takeaways"><i class="fa fa-check"></i><b>5.11</b> Key Takeaways</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="gapminder.html"><a href="gapminder.html"><i class="fa fa-check"></i><b>6</b> Gapminder</a>
<ul>
<li class="chapter" data-level="6.1" data-path="gapminder.html"><a href="gapminder.html#initial-gapminder-plots"><i class="fa fa-check"></i><b>6.1</b> Initial gapminder plots</a></li>
<li class="chapter" data-level="6.2" data-path="gapminder.html"><a href="gapminder.html#facets"><i class="fa fa-check"></i><b>6.2</b> Facets</a></li>
<li class="chapter" data-level="6.3" data-path="gapminder.html"><a href="gapminder.html#time-series"><i class="fa fa-check"></i><b>6.3</b> Time series</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="gapminder.html"><a href="gapminder.html#individual-time-series"><i class="fa fa-check"></i><b>6.3.1</b> Individual time series</a></li>
<li class="chapter" data-level="6.3.2" data-path="gapminder.html"><a href="gapminder.html#multiple-time-series"><i class="fa fa-check"></i><b>6.3.2</b> Multiple time series</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="gapminder.html"><a href="gapminder.html#exercises-6"><i class="fa fa-check"></i><b>6.4</b> Exercises</a></li>
<li class="chapter" data-level="6.5" data-path="gapminder.html"><a href="gapminder.html#histograms-with-ggplot"><i class="fa fa-check"></i><b>6.5</b> Histograms with ggplot</a></li>
<li class="chapter" data-level="6.6" data-path="gapminder.html"><a href="gapminder.html#box-plots-with-ggplot"><i class="fa fa-check"></i><b>6.6</b> Box plots with ggplot</a></li>
<li class="chapter" data-level="6.7" data-path="gapminder.html"><a href="gapminder.html#comparison-of-distributions"><i class="fa fa-check"></i><b>6.7</b> Comparison of distributions</a></li>
<li class="chapter" data-level="6.8" data-path="gapminder.html"><a href="gapminder.html#exercises-7"><i class="fa fa-check"></i><b>6.8</b> Exercises</a></li>
<li class="chapter" data-level="6.9" data-path="gapminder.html"><a href="gapminder.html#key-takeaways-1"><i class="fa fa-check"></i><b>6.9</b> Key Takeaways</a></li>
</ul></li>
<li class="part"><span><b>III Statistics</b></span></li>
<li class="chapter" data-level="" data-path="introduction-to-probabilities.html"><a href="introduction-to-probabilities.html"><i class="fa fa-check"></i>Introduction to Probabilities</a></li>
<li class="chapter" data-level="7" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html"><i class="fa fa-check"></i><b>7</b> Discrete Probabilities</a>
<ul>
<li class="chapter" data-level="7.1" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#calculation-using-the-mathematical-definition"><i class="fa fa-check"></i><b>7.1</b> Calculation using the mathematical definition</a></li>
<li class="chapter" data-level="7.2" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#monte-carlo-simulation-for-discrete-variables"><i class="fa fa-check"></i><b>7.2</b> Monte Carlo Simulation for Discrete Variables</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#other-functions-to-create-vectors"><i class="fa fa-check"></i><b>7.2.1</b> Other functions to create vectors</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#exercises-8"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
<li class="chapter" data-level="7.4" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#combinations-and-permutations"><i class="fa fa-check"></i><b>7.4</b> Combinations and Permutations</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#permutations"><i class="fa fa-check"></i><b>7.4.1</b> Permutations</a></li>
<li class="chapter" data-level="7.4.2" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#combinations"><i class="fa fa-check"></i><b>7.4.2</b> Combinations</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#sufficient-experiments-with-monte-carlo-simulation"><i class="fa fa-check"></i><b>7.5</b> Sufficient Experiments with Monte Carlo Simulation</a></li>
<li class="chapter" data-level="7.6" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#case-birthdays-in-classrooms"><i class="fa fa-check"></i><b>7.6</b> Case: Birthdays in Classrooms</a></li>
<li class="chapter" data-level="7.7" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#exercises-9"><i class="fa fa-check"></i><b>7.7</b> Exercises</a></li>
<li class="chapter" data-level="7.8" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#integrative-exercise"><i class="fa fa-check"></i><b>7.8</b> Integrative Exercise</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#monty-hall-problem"><i class="fa fa-check"></i><b>7.8.1</b> Monty Hall Problem</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html"><i class="fa fa-check"></i><b>8</b> Continuous Probabilities</a>
<ul>
<li class="chapter" data-level="8.1" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#learning-objectives"><i class="fa fa-check"></i><b>8.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="8.2" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#empirical-distribution"><i class="fa fa-check"></i><b>8.2</b> Empirical Distribution</a></li>
<li class="chapter" data-level="8.3" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#theoretical-distribution"><i class="fa fa-check"></i><b>8.3</b> Theoretical Distribution</a></li>
<li class="chapter" data-level="8.4" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#key-takeaways-2"><i class="fa fa-check"></i><b>8.4</b> Key Takeaways</a></li>
<li class="chapter" data-level="8.5" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#exercises-10"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
<li class="chapter" data-level="8.6" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#monte-carlo-simulation-for-continuous-variables"><i class="fa fa-check"></i><b>8.6</b> Monte Carlo Simulation for Continuous Variables</a></li>
<li class="chapter" data-level="8.7" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#exercises-11"><i class="fa fa-check"></i><b>8.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="statistical-inference.html"><a href="statistical-inference.html"><i class="fa fa-check"></i><b>9</b> Statistical Inference</a>
<ul>
<li class="chapter" data-level="9.1" data-path="statistical-inference.html"><a href="statistical-inference.html#learning-objectives-1"><i class="fa fa-check"></i><b>9.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="statistical-inference.html"><a href="statistical-inference.html#expected-value"><i class="fa fa-check"></i><b>9.2</b> Expected Value</a></li>
<li class="chapter" data-level="9.3" data-path="statistical-inference.html"><a href="statistical-inference.html#central-limit-theorem"><i class="fa fa-check"></i><b>9.3</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="9.4" data-path="statistical-inference.html"><a href="statistical-inference.html#key-takeaways-3"><i class="fa fa-check"></i><b>9.4</b> Key Takeaways</a></li>
<li class="chapter" data-level="9.5" data-path="statistical-inference.html"><a href="statistical-inference.html#exercises-12"><i class="fa fa-check"></i><b>9.5</b> Exercises</a></li>
<li class="chapter" data-level="9.6" data-path="statistical-inference.html"><a href="statistical-inference.html#parameter-estimation-method"><i class="fa fa-check"></i><b>9.6</b> Parameter Estimation Method</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="statistical-inference.html"><a href="statistical-inference.html#margin-of-error"><i class="fa fa-check"></i><b>9.6.1</b> Margin of Error</a></li>
<li class="chapter" data-level="9.6.2" data-path="statistical-inference.html"><a href="statistical-inference.html#confidence-intervals"><i class="fa fa-check"></i><b>9.6.2</b> Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="statistical-inference.html"><a href="statistical-inference.html#spread-estimation"><i class="fa fa-check"></i><b>9.7</b> Spread Estimation</a></li>
<li class="chapter" data-level="9.8" data-path="statistical-inference.html"><a href="statistical-inference.html#estimates-outside-election-polls"><i class="fa fa-check"></i><b>9.8</b> Estimates Outside Election Polls</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="statistical-inference.html"><a href="statistical-inference.html#example-estimating-average-height"><i class="fa fa-check"></i><b>9.8.1</b> Example: Estimating Average Height</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="statistical-inference.html"><a href="statistical-inference.html#exercises-13"><i class="fa fa-check"></i><b>9.9</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Data Wrangling</b></span></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="10" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html"><i class="fa fa-check"></i><b>10</b> Data import and consolidation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#importing-from-files"><i class="fa fa-check"></i><b>10.1</b> Importing from files</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#working-directory"><i class="fa fa-check"></i><b>10.1.1</b> Working Directory</a></li>
<li class="chapter" data-level="10.1.2" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#readr-and-readxl-packages"><i class="fa fa-check"></i><b>10.1.2</b> readr and readxl packages</a></li>
<li class="chapter" data-level="10.1.3" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#importing-files-from-the-internet"><i class="fa fa-check"></i><b>10.1.3</b> Importing files from the internet</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#tidy-data"><i class="fa fa-check"></i><b>10.2</b> Tidy data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#transforming-to-tidy-data"><i class="fa fa-check"></i><b>10.2.1</b> Transforming to tidy data</a></li>
<li class="chapter" data-level="10.2.2" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#separate-function"><i class="fa fa-check"></i><b>10.2.2</b> separate function</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#exercises-14"><i class="fa fa-check"></i><b>10.3</b> Exercises</a></li>
<li class="chapter" data-level="10.4" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#joining-tables"><i class="fa fa-check"></i><b>10.4</b> Joining tables</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#join-functions"><i class="fa fa-check"></i><b>10.4.1</b> Join functions</a></li>
<li class="chapter" data-level="10.4.2" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#joining-without-a-common-identifier"><i class="fa fa-check"></i><b>10.4.2</b> Joining without a common identifier</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#web-scraping"><i class="fa fa-check"></i><b>10.5</b> Web Scraping</a></li>
<li class="chapter" data-level="10.6" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#exercises-15"><i class="fa fa-check"></i><b>10.6</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>V Machine learning</b></span></li>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="10.7" data-path="introduction-2.html"><a href="introduction-2.html#learning-objectives-2"><i class="fa fa-check"></i><b>10.7</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.8" data-path="introduction-2.html"><a href="introduction-2.html#chapter-structure"><i class="fa fa-check"></i><b>10.8</b> Chapter Structure</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>11</b> Supervised Learning</a>
<ul>
<li class="chapter" data-level="11.1" data-path="supervised-learning.html"><a href="supervised-learning.html#classification-and-regression"><i class="fa fa-check"></i><b>11.1</b> Classification and Regression</a></li>
<li class="chapter" data-level="11.2" data-path="supervised-learning.html"><a href="supervised-learning.html#knn-k-nearest-neighbors"><i class="fa fa-check"></i><b>11.2</b> kNN: k-Nearest Neighbors</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="supervised-learning.html"><a href="supervised-learning.html#two-variables-as-input"><i class="fa fa-check"></i><b>11.2.1</b> Two variables as input</a></li>
<li class="chapter" data-level="11.2.2" data-path="supervised-learning.html"><a href="supervised-learning.html#multiple-variables-as-input"><i class="fa fa-check"></i><b>11.2.2</b> Multiple variables as input</a></li>
<li class="chapter" data-level="11.2.3" data-path="supervised-learning.html"><a href="supervised-learning.html#diverse-values-of-k"><i class="fa fa-check"></i><b>11.2.3</b> Diverse values of k</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="supervised-learning.html"><a href="supervised-learning.html#tidymodels-framework"><i class="fa fa-check"></i><b>11.3</b> tidymodels Framework</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="supervised-learning.html"><a href="supervised-learning.html#creation-of-training-and-test-data"><i class="fa fa-check"></i><b>11.3.1</b> Creation of training and test data</a></li>
<li class="chapter" data-level="11.3.2" data-path="supervised-learning.html"><a href="supervised-learning.html#training-our-prediction-algorithm"><i class="fa fa-check"></i><b>11.3.2</b> Training our prediction algorithm</a></li>
<li class="chapter" data-level="11.3.3" data-path="supervised-learning.html"><a href="supervised-learning.html#data-pre-processing-with-recipes"><i class="fa fa-check"></i><b>11.3.3</b> Data Pre-processing with Recipes</a></li>
<li class="chapter" data-level="11.3.4" data-path="supervised-learning.html"><a href="supervised-learning.html#creating-a-workflow"><i class="fa fa-check"></i><b>11.3.4</b> Creating a Workflow</a></li>
<li class="chapter" data-level="11.3.5" data-path="supervised-learning.html"><a href="supervised-learning.html#parameter-tuning-with-cross-validation"><i class="fa fa-check"></i><b>11.3.5</b> Parameter Tuning with Cross-Validation</a></li>
<li class="chapter" data-level="11.3.6" data-path="supervised-learning.html"><a href="supervised-learning.html#finalizing-the-model"><i class="fa fa-check"></i><b>11.3.6</b> Finalizing the Model</a></li>
<li class="chapter" data-level="11.3.7" data-path="supervised-learning.html"><a href="supervised-learning.html#testing-the-prediction-model"><i class="fa fa-check"></i><b>11.3.7</b> Testing the prediction model</a></li>
<li class="chapter" data-level="11.3.8" data-path="supervised-learning.html"><a href="supervised-learning.html#model-evaluation-with-yardstick"><i class="fa fa-check"></i><b>11.3.8</b> Model Evaluation with yardstick</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="supervised-learning.html"><a href="supervised-learning.html#confusion-matrix"><i class="fa fa-check"></i><b>11.4</b> Confusion Matrix</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="supervised-learning.html"><a href="supervised-learning.html#accuracy"><i class="fa fa-check"></i><b>11.4.1</b> Accuracy</a></li>
<li class="chapter" data-level="11.4.2" data-path="supervised-learning.html"><a href="supervised-learning.html#sensitivity"><i class="fa fa-check"></i><b>11.4.2</b> Sensitivity</a></li>
<li class="chapter" data-level="11.4.3" data-path="supervised-learning.html"><a href="supervised-learning.html#specificity"><i class="fa fa-check"></i><b>11.4.3</b> Specificity</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="supervised-learning.html"><a href="supervised-learning.html#exercises-16"><i class="fa fa-check"></i><b>11.5</b> Exercises</a></li>
<li class="chapter" data-level="11.6" data-path="supervised-learning.html"><a href="supervised-learning.html#simple-linear-regression"><i class="fa fa-check"></i><b>11.6</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="11.7" data-path="supervised-learning.html"><a href="supervised-learning.html#multiple-linear-regression"><i class="fa fa-check"></i><b>11.7</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="11.8" data-path="supervised-learning.html"><a href="supervised-learning.html#standard-method-for-evaluating-accuracy"><i class="fa fa-check"></i><b>11.8</b> Standard Method for Evaluating Accuracy</a></li>
<li class="chapter" data-level="11.9" data-path="supervised-learning.html"><a href="supervised-learning.html#selection-of-the-most-optimal-model"><i class="fa fa-check"></i><b>11.9</b> Selection of the Most Optimal Model</a>
<ul>
<li class="chapter" data-level="11.9.1" data-path="supervised-learning.html"><a href="supervised-learning.html#k-nearest-neighbors-model"><i class="fa fa-check"></i><b>11.9.1</b> k-Nearest Neighbors Model</a></li>
<li class="chapter" data-level="11.9.2" data-path="supervised-learning.html"><a href="supervised-learning.html#generalized-linear-model---glm"><i class="fa fa-check"></i><b>11.9.2</b> Generalized Linear Model - GLM</a></li>
<li class="chapter" data-level="11.9.3" data-path="supervised-learning.html"><a href="supervised-learning.html#random-forest-model"><i class="fa fa-check"></i><b>11.9.3</b> Random Forest Model</a></li>
<li class="chapter" data-level="11.9.4" data-path="supervised-learning.html"><a href="supervised-learning.html#support-vector-machine-model---svm"><i class="fa fa-check"></i><b>11.9.4</b> Support Vector Machine Model - SVM</a></li>
<li class="chapter" data-level="11.9.5" data-path="supervised-learning.html"><a href="supervised-learning.html#naive-bayes-model"><i class="fa fa-check"></i><b>11.9.5</b> Naive Bayes Model</a></li>
<li class="chapter" data-level="11.9.6" data-path="supervised-learning.html"><a href="supervised-learning.html#model-comparison"><i class="fa fa-check"></i><b>11.9.6</b> Model Comparison</a></li>
<li class="chapter" data-level="11.9.7" data-path="supervised-learning.html"><a href="supervised-learning.html#predicting-using-the-best-model"><i class="fa fa-check"></i><b>11.9.7</b> Predicting using the best model</a></li>
</ul></li>
<li class="chapter" data-level="11.10" data-path="supervised-learning.html"><a href="supervised-learning.html#exercises-17"><i class="fa fa-check"></i><b>11.10</b> Exercises</a></li>
<li class="chapter" data-level="11.11" data-path="supervised-learning.html"><a href="supervised-learning.html#ethics-bias-in-algorithmic-decision-making"><i class="fa fa-check"></i><b>11.11</b> Ethics: Bias in Algorithmic Decision Making</a>
<ul>
<li class="chapter" data-level="11.11.1" data-path="supervised-learning.html"><a href="supervised-learning.html#the-risk-of-proxy-variables"><i class="fa fa-check"></i><b>11.11.1</b> The Risk of Proxy Variables</a></li>
<li class="chapter" data-level="11.11.2" data-path="supervised-learning.html"><a href="supervised-learning.html#feedback-loops"><i class="fa fa-check"></i><b>11.11.2</b> Feedback Loops</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>12</b> Unsupervised Learning</a>
<ul>
<li class="chapter" data-level="12.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#learning-objectives-3"><i class="fa fa-check"></i><b>12.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="12.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#applications-of-unsupervised-learning"><i class="fa fa-check"></i><b>12.2</b> Applications of Unsupervised Learning</a></li>
<li class="chapter" data-level="12.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-clustering"><i class="fa fa-check"></i><b>12.3</b> K-Means Clustering</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-with-k-2"><i class="fa fa-check"></i><b>12.3.1</b> Clustering with k = 2</a></li>
<li class="chapter" data-level="12.3.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-with-k-3"><i class="fa fa-check"></i><b>12.3.2</b> Clustering with k &gt;= 3</a></li>
<li class="chapter" data-level="12.3.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#determination-of-optimal-clusters"><i class="fa fa-check"></i><b>12.3.3</b> Determination of Optimal Clusters</a></li>
<li class="chapter" data-level="12.3.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-for-more-than-2-variables"><i class="fa fa-check"></i><b>12.3.4</b> k-means for more than 2 variables</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#hierarchical-clustering"><i class="fa fa-check"></i><b>12.4</b> Hierarchical Clustering</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-with-two-variables"><i class="fa fa-check"></i><b>12.4.1</b> Clustering with two variables</a></li>
<li class="chapter" data-level="12.4.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#determination-of-optimal-clusters-1"><i class="fa fa-check"></i><b>12.4.2</b> Determination of Optimal Clusters</a></li>
<li class="chapter" data-level="12.4.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#obtain-the-grouping"><i class="fa fa-check"></i><b>12.4.3</b> Obtain the grouping</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#dimensionality-reduction"><i class="fa fa-check"></i><b>12.5</b> Dimensionality Reduction</a></li>
<li class="chapter" data-level="12.6" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#exercises-18"><i class="fa fa-check"></i><b>12.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html"><i class="fa fa-check"></i><b>13</b> String processing and text mining</a>
<ul>
<li class="chapter" data-level="13.1" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#basic-functions"><i class="fa fa-check"></i><b>13.1</b> Basic functions</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#replacing-characters"><i class="fa fa-check"></i><b>13.1.1</b> Replacing characters</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#regular-expressions"><i class="fa fa-check"></i><b>13.2</b> Regular expressions</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#alternation"><i class="fa fa-check"></i><b>13.2.1</b> Alternation</a></li>
<li class="chapter" data-level="13.2.2" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#anchoring"><i class="fa fa-check"></i><b>13.2.2</b> Anchoring</a></li>
<li class="chapter" data-level="13.2.3" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#repetitions"><i class="fa fa-check"></i><b>13.2.3</b> Repetitions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#from-strings-to-dates"><i class="fa fa-check"></i><b>13.3</b> From strings to dates</a></li>
<li class="chapter" data-level="13.4" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#exercises-19"><i class="fa fa-check"></i><b>13.4</b> Exercises</a></li>
<li class="chapter" data-level="13.5" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#text-mining-using-tidy-data"><i class="fa fa-check"></i><b>13.5</b> Text Mining using Tidy Data</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#importing-data-and-tokenization"><i class="fa fa-check"></i><b>13.5.1</b> Importing data and Tokenization</a></li>
<li class="chapter" data-level="13.5.2" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#text-cleaning-and-tokenization"><i class="fa fa-check"></i><b>13.5.2</b> Text cleaning and Tokenization</a></li>
<li class="chapter" data-level="13.5.3" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#word-cloud"><i class="fa fa-check"></i><b>13.5.3</b> Word Cloud</a></li>
<li class="chapter" data-level="13.5.4" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#word-frequency-plot"><i class="fa fa-check"></i><b>13.5.4</b> Word Frequency Plot</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#sentiment-analysis"><i class="fa fa-check"></i><b>13.6</b> Sentiment Analysis</a></li>
<li class="chapter" data-level="13.7" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#exercises-20"><i class="fa fa-check"></i><b>13.7</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>VI Generative AI</b></span></li>
<li class="chapter" data-level="14" data-path="genai-intro.html"><a href="genai-intro.html"><i class="fa fa-check"></i><b>14</b> Data Science in the Age of AI</a>
<ul>
<li class="chapter" data-level="14.1" data-path="genai-intro.html"><a href="genai-intro.html#what-is-a-large-language-model"><i class="fa fa-check"></i><b>14.1</b> What is a Large Language Model?</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="genai-intro.html"><a href="genai-intro.html#its-all-about-probability"><i class="fa fa-check"></i><b>14.1.1</b> It’s all about Probability</a></li>
<li class="chapter" data-level="14.1.2" data-path="genai-intro.html"><a href="genai-intro.html#tokens-vs.-words"><i class="fa fa-check"></i><b>14.1.2</b> Tokens vs. Words</a></li>
<li class="chapter" data-level="14.1.3" data-path="genai-intro.html"><a href="genai-intro.html#temperature-controlling-creativity"><i class="fa fa-check"></i><b>14.1.3</b> Temperature: Controlling Creativity</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="genai-intro.html"><a href="genai-intro.html#setting-up-your-ai-environment"><i class="fa fa-check"></i><b>14.2</b> Setting Up Your AI Environment</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="genai-intro.html"><a href="genai-intro.html#the-solution-local-llms"><i class="fa fa-check"></i><b>14.2.1</b> The Solution: Local LLMs</a></li>
<li class="chapter" data-level="14.2.2" data-path="genai-intro.html"><a href="genai-intro.html#the-.renviron-file"><i class="fa fa-check"></i><b>14.2.2</b> The <code>.Renviron</code> File</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="genai-intro.html"><a href="genai-intro.html#ai-as-the-pair-programmer"><i class="fa fa-check"></i><b>14.3</b> AI as the “Pair Programmer”</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="genai-intro.html"><a href="genai-intro.html#the-great-refactorer"><i class="fa fa-check"></i><b>14.3.1</b> The Great Refactorer</a></li>
<li class="chapter" data-level="14.3.2" data-path="genai-intro.html"><a href="genai-intro.html#the-translator"><i class="fa fa-check"></i><b>14.3.2</b> The Translator</a></li>
<li class="chapter" data-level="14.3.3" data-path="genai-intro.html"><a href="genai-intro.html#pro-tip-prompt-engineering-101"><i class="fa fa-check"></i><b>14.3.3</b> Pro Tip: Prompt Engineering 101</a></li>
<li class="chapter" data-level="14.3.4" data-path="genai-intro.html"><a href="genai-intro.html#the-regex-master"><i class="fa fa-check"></i><b>14.3.4</b> The Regex Master</a></li>
<li class="chapter" data-level="14.3.5" data-path="genai-intro.html"><a href="genai-intro.html#the-error-decoder"><i class="fa fa-check"></i><b>14.3.5</b> The Error Decoder</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="genai-intro.html"><a href="genai-intro.html#the-risks-hallucinations"><i class="fa fa-check"></i><b>14.4</b> The Risks: Hallucinations</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="genai-intro.html"><a href="genai-intro.html#the-package-hallucination"><i class="fa fa-check"></i><b>14.4.1</b> The “Package” Hallucination</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="genai-intro.html"><a href="genai-intro.html#building-a-robust-request"><i class="fa fa-check"></i><b>14.5</b> Building a Robust Request</a></li>
<li class="chapter" data-level="14.6" data-path="genai-intro.html"><a href="genai-intro.html#the-holy-grail-structured-data-extraction"><i class="fa fa-check"></i><b>14.6</b> The Holy Grail: Structured Data extraction</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="genai-intro.html"><a href="genai-intro.html#forcing-json-output"><i class="fa fa-check"></i><b>14.6.1</b> Forcing JSON Output</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="genai-intro.html"><a href="genai-intro.html#batch-processing-the-purrr-workflow"><i class="fa fa-check"></i><b>14.7</b> Batch Processing: The <code>purrr</code> Workflow</a></li>
<li class="chapter" data-level="14.8" data-path="genai-intro.html"><a href="genai-intro.html#summary"><i class="fa fa-check"></i><b>14.8</b> Summary</a></li>
<li class="chapter" data-level="14.9" data-path="genai-intro.html"><a href="genai-intro.html#beyond-generation-embeddings"><i class="fa fa-check"></i><b>14.9</b> Beyond Generation: Embeddings</a>
<ul>
<li class="chapter" data-level="14.9.1" data-path="genai-intro.html"><a href="genai-intro.html#r-implementation"><i class="fa fa-check"></i><b>14.9.1</b> R Implementation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="genai-embeddings.html"><a href="genai-embeddings.html"><i class="fa fa-check"></i><b>15</b> Text Analysis with Embeddings</a>
<ul>
<li class="chapter" data-level="15.1" data-path="genai-embeddings.html"><a href="genai-embeddings.html#beyond-bag-of-words"><i class="fa fa-check"></i><b>15.1</b> Beyond Bag-of-Words</a></li>
<li class="chapter" data-level="15.2" data-path="genai-embeddings.html"><a href="genai-embeddings.html#what-is-an-embedding"><i class="fa fa-check"></i><b>15.2</b> What is an Embedding?</a></li>
<li class="chapter" data-level="15.3" data-path="genai-embeddings.html"><a href="genai-embeddings.html#getting-embeddings-in-r"><i class="fa fa-check"></i><b>15.3</b> Getting Embeddings in R</a></li>
<li class="chapter" data-level="15.4" data-path="genai-embeddings.html"><a href="genai-embeddings.html#visualizing-meaning-dimensionality-reduction"><i class="fa fa-check"></i><b>15.4</b> Visualizing Meaning (Dimensionality Reduction)</a></li>
<li class="chapter" data-level="15.5" data-path="genai-embeddings.html"><a href="genai-embeddings.html#building-a-semantic-search-engine"><i class="fa fa-check"></i><b>15.5</b> Building a Semantic Search Engine</a></li>
<li class="chapter" data-level="15.6" data-path="genai-embeddings.html"><a href="genai-embeddings.html#summary-the-ai-workflow"><i class="fa fa-check"></i><b>15.6</b> Summary: The AI Workflow</a></li>
</ul></li>
<li class="part"><span><b>VII Real Cases</b></span></li>
<li class="chapter" data-level="" data-path="introduction-3.html"><a href="introduction-3.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="16" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html"><i class="fa fa-check"></i><b>16</b> Case Study: Real Estate Market Analysis</a>
<ul>
<li class="chapter" data-level="16.1" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#objectives"><i class="fa fa-check"></i><b>16.1</b> Objectives</a></li>
<li class="chapter" data-level="16.2" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#loading-libraries"><i class="fa fa-check"></i><b>16.2</b> Loading Libraries</a></li>
<li class="chapter" data-level="16.3" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#exploring-the-data"><i class="fa fa-check"></i><b>16.3</b> Exploring the Data</a></li>
<li class="chapter" data-level="16.4" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#data-cleaning"><i class="fa fa-check"></i><b>16.4</b> Data Cleaning</a></li>
<li class="chapter" data-level="16.5" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#exploratory-analysis"><i class="fa fa-check"></i><b>16.5</b> Exploratory Analysis</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#market-volume-over-time"><i class="fa fa-check"></i><b>16.5.1</b> Market Volume Over Time</a></li>
<li class="chapter" data-level="16.5.2" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#comparing-cities"><i class="fa fa-check"></i><b>16.5.2</b> Comparing Cities</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#creating-indicators"><i class="fa fa-check"></i><b>16.6</b> Creating Indicators</a></li>
<li class="chapter" data-level="16.7" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#try-it-yourself"><i class="fa fa-check"></i><b>16.7</b> Try It Yourself</a></li>
<li class="chapter" data-level="16.8" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#conclusions"><i class="fa fa-check"></i><b>16.8</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html"><i class="fa fa-check"></i><b>17</b> Google Analytics from R</a>
<ul>
<li class="chapter" data-level="17.1" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html#problem"><i class="fa fa-check"></i><b>17.1</b> Problem</a></li>
<li class="chapter" data-level="17.2" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html#access-to-data"><i class="fa fa-check"></i><b>17.2</b> Access to data</a></li>
<li class="chapter" data-level="17.3" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html#visualization"><i class="fa fa-check"></i><b>17.3</b> Visualization</a></li>
<li class="chapter" data-level="17.4" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html#conclusion"><i class="fa fa-check"></i><b>17.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ethics-checklist.html"><a href="ethics-checklist.html"><i class="fa fa-check"></i><b>18</b> Appendix A: Responsible AI Checklist</a>
<ul>
<li class="chapter" data-level="18.1" data-path="ethics-checklist.html"><a href="ethics-checklist.html#data-quality-lineage"><i class="fa fa-check"></i><b>18.1</b> Data Quality &amp; Lineage</a></li>
<li class="chapter" data-level="18.2" data-path="ethics-checklist.html"><a href="ethics-checklist.html#fairness-bias"><i class="fa fa-check"></i><b>18.2</b> Fairness &amp; Bias</a></li>
<li class="chapter" data-level="18.3" data-path="ethics-checklist.html"><a href="ethics-checklist.html#transparency-explainability"><i class="fa fa-check"></i><b>18.3</b> Transparency &amp; Explainability</a></li>
<li class="chapter" data-level="18.4" data-path="ethics-checklist.html"><a href="ethics-checklist.html#reproducibility-integrity"><i class="fa fa-check"></i><b>18.4</b> Reproducibility &amp; Integrity</a></li>
<li class="chapter" data-level="18.5" data-path="ethics-checklist.html"><a href="ethics-checklist.html#genai-specifics"><i class="fa fa-check"></i><b>18.5</b> GenAI Specifics</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="r6-intro.html"><a href="r6-intro.html"><i class="fa fa-check"></i><b>19</b> Appendix B: Object Oriented Programming with R6</a>
<ul>
<li class="chapter" data-level="19.1" data-path="r6-intro.html"><a href="r6-intro.html#the-r6-package-classes-methods-encapsulation-and-inheritance"><i class="fa fa-check"></i><b>19.1</b> The R6 package: Classes, methods, encapsulation, and inheritance</a></li>
<li class="chapter" data-level="19.2" data-path="r6-intro.html"><a href="r6-intro.html#exercises-21"><i class="fa fa-check"></i><b>19.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-frames" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data Frames<a href="data-frames.html#data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-to-data-frames" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Introduction to Data Frames<a href="data-frames.html#introduction-to-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In previous chapters, we explored different types of objects in R, such as variables, vectors, lists, and matrices. These objects allow us to store information in more efficient ways. Now, in this chapter, we will delve into the world of <strong>data frames</strong>, an essential tool for organizing and analyzing information that will help you make the best decision about your move to the United States.</p>
<div id="what-are-data-frames" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> What are data frames?<a href="data-frames.html#what-are-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Imagine a spreadsheet, with rows and columns organizing information in a tabular way. In R, a data frame is precisely that: a data structure that stores information in a tabular format, with rows representing <strong>observations</strong> (for example, every US city) and columns representing <strong>variables</strong> (such as population, cost of living, crime rate).</p>
<p>Each column of a data frame can contain a different data type: numeric, character, logical, factor, etc. This makes data frames very versatile for storing diverse information.</p>
<p>For example, a data frame about US cities could serve as a comprehensive record. It might contain a character column for the <code>city</code> name and another for the <code>state</code> it belongs to. Numeric columns could store the <code>population</code> and the <code>area</code> in square kilometers, while a logical column like <code>has_beach</code> could indicate whether the city is coastal.</p>
</div>
<div id="why-data-frames" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Why data frames?<a href="data-frames.html#why-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In R, there are various structures for organizing data, such as vectors, lists, and matrices. However, data frames stand out as a fundamental tool in data analysis. Why?</p>
<p>Data frames offer a unique combination of features that make them ideal for representing and manipulating complex information:</p>
<p>Data frames are uniquely suited for data analysis because of their specific features. Their <strong>tabular structure</strong> organizes data into rows and columns, similar to a spreadsheet, making it intuitive to visualize. They offer <strong>flexibility</strong> by allowing each column to hold a different data type, such as numbers, text, or dates. this structure also ensures <strong>efficiency</strong>, as most R analysis packages are optimized to work directly with data frames.</p>
<p>In summary, data frames are a versatile and powerful data structure that adapts to the needs of modern data analysis.</p>
</div>
<div id="data-frames-in-action-exploring-information-about-the-united-states" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">3.1.3</span> Data Frames in action: exploring information about the United States<a href="data-frames.html#data-frames-in-action-exploring-information-about-the-united-states" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the context of your move to the United States, data frames will be essential for organizing and analyzing the information you need to make the best decision. We can use data frames to store information about:</p>
<p>We can use data frames to store and correlate various aspects of your potential new home. You might track <strong>crime rates</strong> across different states, compare the <strong>cost of living</strong> (housing, food, transportation) in target cities, analyze <strong>climate data</strong> like temperature and precipitation, or study <strong>demographics</strong> such as population age and education levels.</p>
<p>With this information organized in data frames, you will be able to perform deeper analyses and make more informed decisions about your move.</p>
</div>
</div>
<div id="creating-data-frames-building-your-database-for-the-move" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Creating Data Frames: Building your database for the move<a href="data-frames.html#creating-data-frames-building-your-database-for-the-move" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now that you know what data frames are and why they are so important in data analysis, it’s time to learn how to create them. In R, we can create data frames in different ways: importing data from external files or creating them manually.</p>
<div id="importing-data-from-files-csv-excel" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Importing data from files: CSV, Excel<a href="data-frames.html#importing-data-from-files-csv-excel" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A common way to create data frames is by importing data from external files, such as CSV (Comma Separated Values) files or Excel files. R offers us functions to read data from different formats.</p>
<p>One of the most common ways to create data frames is by importing data from external files. For <strong>CSV (Comma Separated Values)</strong> files, we rely on the <code>read_csv()</code> function from the <code>readr</code> package (part of the tidyverse), which is faster and more robust than the base R equivalent. To import a file, you simply provide its URL or file path:</p>
<pre><code>``` r
library(readr)
url &lt;- &quot;https://dparedesi.github.io/DS-with-R-datasets/student-grades.csv&quot;

# Import data from a CSV file called &quot;student-grades.csv&quot;
grades &lt;- read_csv(url)
#&gt; Rows: 21 Columns: 9
#&gt; ── Column specification ─────────────────────────────
#&gt; Delimiter: &quot;,&quot;
#&gt; chr (3): start_date, gender, type
#&gt; dbl (6): P1, P2, P3, P4, P5, P6
#&gt; 
#&gt; ℹ Use `spec()` to retrieve the full column specification for this data.
#&gt; ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

grades
#&gt; # A tibble: 21 × 9
#&gt;    start_date gender type                 P1    P2    P3    P4    P5    P6
#&gt;    &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1 03/05/2020 female Individual Work 1     5     5     5     5     5     5
#&gt;  2 03/05/2020 male   Individual Work 1     5     5     5     5     4     5
#&gt;  3 03/05/2020 female Individual Work 1     5     5     4     5     5     5
#&gt;  4 03/05/2020 male   Individual Work 1     5     5     5     5     5     5
#&gt;  5 03/05/2020 male   Individual Work 1     2     5     5     5     5     5
#&gt;  6 03/05/2020 male   Individual Work 1     5     4     5     1     5     5
#&gt;  7 03/05/2020 male   Individual Work 1     2     1     5     5     2     5
#&gt;  8 03/05/2020 male   Individual Work 1     5     5     5     5     5     5
#&gt;  9 03/05/2020 male   Individual Work 1     4     5     5     5     5     5
#&gt; 10 03/05/2020 male   Individual Work 1     3     4     5     5     5     5
#&gt; # ℹ 11 more rows
```</code></pre>
<p>The <code>read_csv()</code> function offers several arguments to customize how files are read. The <code>header</code> argument allows you to specify if the first row contains column names, while <code>sep</code> defines the column separator (defaulting to a comma). You can also use <code>dec</code> to set the character used for decimal points.</p>
<p>For <strong>Excel files</strong>, we use the <code>read_excel()</code> function from the <code>readxl</code> package. This function works similarly but includes specific arguments like <code>sheet</code> to specify which spreadsheet tab to import.</p>
<pre><code>``` r
# Install the readxl package (if you don&#39;t have it installed)
install.packages(&quot;readxl&quot;)

# Load the readxl package
library(readxl)

# Import data from an Excel file called &quot;states.xlsx&quot;
states &lt;- read_excel(&quot;states.xlsx&quot;)
```</code></pre>
</div>
<div id="creating-data-frames-manually" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Creating data frames manually<a href="data-frames.html#creating-data-frames-manually" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can also create data frames manually, combining vectors with the <code>data.frame()</code> function.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="data-frames.html#cb92-1" tabindex="-1"></a><span class="co"># Create vectors with information about cities</span></span>
<span id="cb92-2"><a href="data-frames.html#cb92-2" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Los Angeles&quot;</span>, <span class="st">&quot;Chicago&quot;</span>)</span>
<span id="cb92-3"><a href="data-frames.html#cb92-3" tabindex="-1"></a>states <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;California&quot;</span>, <span class="st">&quot;Illinois&quot;</span>)</span>
<span id="cb92-4"><a href="data-frames.html#cb92-4" tabindex="-1"></a>population <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">8.4e6</span>, <span class="fl">3.9e6</span>, <span class="fl">2.7e6</span>)</span>
<span id="cb92-5"><a href="data-frames.html#cb92-5" tabindex="-1"></a></span>
<span id="cb92-6"><a href="data-frames.html#cb92-6" tabindex="-1"></a><span class="co"># Create a data frame with city information</span></span>
<span id="cb92-7"><a href="data-frames.html#cb92-7" tabindex="-1"></a>df_cities_simple <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">city =</span> cities, <span class="at">state =</span> states, <span class="at">population =</span> population)</span>
<span id="cb92-8"><a href="data-frames.html#cb92-8" tabindex="-1"></a></span>
<span id="cb92-9"><a href="data-frames.html#cb92-9" tabindex="-1"></a>df_cities_simple</span>
<span id="cb92-10"><a href="data-frames.html#cb92-10" tabindex="-1"></a><span class="co">#&gt;          city      state population</span></span>
<span id="cb92-11"><a href="data-frames.html#cb92-11" tabindex="-1"></a><span class="co">#&gt; 1    New York   New York    8400000</span></span>
<span id="cb92-12"><a href="data-frames.html#cb92-12" tabindex="-1"></a><span class="co">#&gt; 2 Los Angeles California    3900000</span></span>
<span id="cb92-13"><a href="data-frames.html#cb92-13" tabindex="-1"></a><span class="co">#&gt; 3     Chicago   Illinois    2700000</span></span></code></pre></div>
<p>In this example, we create a data frame called <code>df_cities_simple</code> with three columns: <code>city</code>, <code>state</code>, and <code>population</code>. Each column is created from a vector. Note that the vectors must have the same length to be combined into a data frame.</p>
</div>
<div id="examples" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Examples<a href="data-frames.html#examples" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can use data frames to organize diverse information about our move to the United States. For example, we could create a data frame with information about different cities, including their cost of living, crime rate, and climate. We could also create a data frame with information about the different states, including their population, gross domestic product (GDP), and education system.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="data-frames.html#cb93-1" tabindex="-1"></a><span class="co"># Create a data frame with information about cities</span></span>
<span id="cb93-2"><a href="data-frames.html#cb93-2" tabindex="-1"></a>df_cities <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb93-3"><a href="data-frames.html#cb93-3" tabindex="-1"></a>  <span class="at">city =</span> <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Los Angeles&quot;</span>, <span class="st">&quot;Chicago&quot;</span>, <span class="st">&quot;Houston&quot;</span>),</span>
<span id="cb93-4"><a href="data-frames.html#cb93-4" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;California&quot;</span>, <span class="st">&quot;Illinois&quot;</span>, <span class="st">&quot;Texas&quot;</span>),</span>
<span id="cb93-5"><a href="data-frames.html#cb93-5" tabindex="-1"></a>  <span class="at">cost_of_living =</span> <span class="fu">c</span>(<span class="fl">3.5</span>, <span class="fl">2.8</span>, <span class="fl">2.5</span>, <span class="fl">2.0</span>),  <span class="co"># In thousands of dollars</span></span>
<span id="cb93-6"><a href="data-frames.html#cb93-6" tabindex="-1"></a>  <span class="at">crime_rate =</span> <span class="fu">c</span>(<span class="dv">400</span>, <span class="dv">350</span>, <span class="dv">500</span>, <span class="dv">450</span>),  <span class="co"># Per 100,000 inhabitants</span></span>
<span id="cb93-7"><a href="data-frames.html#cb93-7" tabindex="-1"></a>  <span class="at">climate =</span> <span class="fu">c</span>(<span class="st">&quot;Temperate&quot;</span>, <span class="st">&quot;Mediterranean&quot;</span>, <span class="st">&quot;Continental&quot;</span>, <span class="st">&quot;Subtropical&quot;</span>)</span>
<span id="cb93-8"><a href="data-frames.html#cb93-8" tabindex="-1"></a>)</span>
<span id="cb93-9"><a href="data-frames.html#cb93-9" tabindex="-1"></a></span>
<span id="cb93-10"><a href="data-frames.html#cb93-10" tabindex="-1"></a>df_cities</span>
<span id="cb93-11"><a href="data-frames.html#cb93-11" tabindex="-1"></a><span class="co">#&gt;          city      state cost_of_living crime_rate       climate</span></span>
<span id="cb93-12"><a href="data-frames.html#cb93-12" tabindex="-1"></a><span class="co">#&gt; 1    New York   New York            3.5        400     Temperate</span></span>
<span id="cb93-13"><a href="data-frames.html#cb93-13" tabindex="-1"></a><span class="co">#&gt; 2 Los Angeles California            2.8        350 Mediterranean</span></span>
<span id="cb93-14"><a href="data-frames.html#cb93-14" tabindex="-1"></a><span class="co">#&gt; 3     Chicago   Illinois            2.5        500   Continental</span></span>
<span id="cb93-15"><a href="data-frames.html#cb93-15" tabindex="-1"></a><span class="co">#&gt; 4     Houston      Texas            2.0        450   Subtropical</span></span>
<span id="cb93-16"><a href="data-frames.html#cb93-16" tabindex="-1"></a></span>
<span id="cb93-17"><a href="data-frames.html#cb93-17" tabindex="-1"></a><span class="co"># Create a data frame with information about states</span></span>
<span id="cb93-18"><a href="data-frames.html#cb93-18" tabindex="-1"></a>df_states <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb93-19"><a href="data-frames.html#cb93-19" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">c</span>(<span class="st">&quot;California&quot;</span>, <span class="st">&quot;Texas&quot;</span>, <span class="st">&quot;Florida&quot;</span>, <span class="st">&quot;New York&quot;</span>),</span>
<span id="cb93-20"><a href="data-frames.html#cb93-20" tabindex="-1"></a>  <span class="at">population =</span> <span class="fu">c</span>(<span class="fl">39.2e6</span>, <span class="fl">29.0e6</span>, <span class="fl">21.4e6</span>, <span class="fl">19.4e6</span>),</span>
<span id="cb93-21"><a href="data-frames.html#cb93-21" tabindex="-1"></a>  <span class="at">gdp =</span> <span class="fu">c</span>(<span class="fl">3.2e12</span>, <span class="fl">1.8e12</span>, <span class="fl">1.1e12</span>, <span class="fl">1.7e12</span>),  <span class="co"># In dollars</span></span>
<span id="cb93-22"><a href="data-frames.html#cb93-22" tabindex="-1"></a>  <span class="at">education_system =</span> <span class="fu">c</span>(<span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Regular&quot;</span>, <span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Excellent&quot;</span>)</span>
<span id="cb93-23"><a href="data-frames.html#cb93-23" tabindex="-1"></a>)</span>
<span id="cb93-24"><a href="data-frames.html#cb93-24" tabindex="-1"></a></span>
<span id="cb93-25"><a href="data-frames.html#cb93-25" tabindex="-1"></a>df_states</span>
<span id="cb93-26"><a href="data-frames.html#cb93-26" tabindex="-1"></a><span class="co">#&gt;        state population     gdp education_system</span></span>
<span id="cb93-27"><a href="data-frames.html#cb93-27" tabindex="-1"></a><span class="co">#&gt; 1 California   39200000 3.2e+12             Good</span></span>
<span id="cb93-28"><a href="data-frames.html#cb93-28" tabindex="-1"></a><span class="co">#&gt; 2      Texas   29000000 1.8e+12          Regular</span></span>
<span id="cb93-29"><a href="data-frames.html#cb93-29" tabindex="-1"></a><span class="co">#&gt; 3    Florida   21400000 1.1e+12             Good</span></span>
<span id="cb93-30"><a href="data-frames.html#cb93-30" tabindex="-1"></a><span class="co">#&gt; 4   New York   19400000 1.7e+12        Excellent</span></span></code></pre></div>
<p>These data frames will allow us to analyze the information more efficiently and make more informed decisions about our move.</p>
</div>
</div>
<div id="exploring-data-frames-discovering-the-secrets-of-your-data" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Exploring Data Frames: Discovering the secrets of your data<a href="data-frames.html#exploring-data-frames-discovering-the-secrets-of-your-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have already learned to create data frames, now it is time to explore their content and discover the information they hide. R offers us various tools to examine and understand our data.</p>
<div id="accessing-rows-columns-and-cells" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Accessing rows, columns, and cells<a href="data-frames.html#accessing-rows-columns-and-cells" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A data frame is like a map organized in rows and columns. To access the information we need, we must know how to navigate this map. R provides us with different ways to access rows, columns, and cells of a data frame.</p>
<p>There are several ways to access specific data within a dataframe. To retrieve a <strong>column</strong>, you can use the <code>$</code> operator (e.g., <code>df_cities$state</code>) or bracket notation with the column name in quotes (e.g., <code>df_states["population"]</code>). To access a specific <strong>row</strong>, use brackets with the row number (e.g., <code>df_cities[3, ]</code>). For a precise <strong>cell</strong> at the intersection of a row and column, specify both indices (e.g., <code>df_states[2, 3]</code>). You can also <strong>filter rows</strong> based on conditions, such as extracting all cities where the cost of living is less than 3 using a logical expression inside the brackets.</p>
</div>
<div id="functions-for-exploring-data-frames" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Functions for exploring data frames<a href="data-frames.html#functions-for-exploring-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R offers several useful functions for exploring data frames:</p>
<p>R provides useful functions for a quick overview of your data. <code>head()</code> displays the first six rows, while <code>tail()</code> shows the last six. To understand the structure—such as column names and data types—you can use <code>str()</code>. For a statistical overview including mean, median, and quartiles, <code>summary()</code> is the go-to function. Additionally, <code>View()</code> opens an interactive spreadsheet-style window to browse the data.</p>
</div>
<div id="examples-exploring-data-frames-with-move-information" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Examples: exploring data frames with move information<a href="data-frames.html#examples-exploring-data-frames-with-move-information" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>By exploring the data frames we created in the previous section, we can obtain valuable information about US cities and states. For example, we could use <code>summary()</code> to get descriptive statistics of the cost of living in different cities, or <code>View()</code> to examine information about each state in detail.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="data-frames.html#cb94-1" tabindex="-1"></a><span class="co"># Get descriptive statistics of cost of living in different cities</span></span>
<span id="cb94-2"><a href="data-frames.html#cb94-2" tabindex="-1"></a><span class="fu">summary</span>(df_cities<span class="sc">$</span>cost_of_living)</span>
<span id="cb94-3"><a href="data-frames.html#cb94-3" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb94-4"><a href="data-frames.html#cb94-4" tabindex="-1"></a><span class="co">#&gt;   2.000   2.375   2.650   2.700   2.975   3.500</span></span></code></pre></div>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="data-frames.html#cb95-1" tabindex="-1"></a><span class="co"># Examine detailed information about each state</span></span>
<span id="cb95-2"><a href="data-frames.html#cb95-2" tabindex="-1"></a><span class="fu">View</span>(df_states)</span></code></pre></div>
<p>In addition to the mentioned functions, we can use other tools to explore our data frames. For example, we can use the <code>table()</code> function to get the frequency of each value in a categorical column, such as the <code>climate</code> column in the <code>df_cities</code> data frame.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="data-frames.html#cb96-1" tabindex="-1"></a><span class="fu">table</span>(df_cities<span class="sc">$</span>climate)</span>
<span id="cb96-2"><a href="data-frames.html#cb96-2" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb96-3"><a href="data-frames.html#cb96-3" tabindex="-1"></a><span class="co">#&gt;   Continental Mediterranean   Subtropical     Temperate </span></span>
<span id="cb96-4"><a href="data-frames.html#cb96-4" tabindex="-1"></a><span class="co">#&gt;             1             1             1             1</span></span></code></pre></div>
<p>We can also use the <code>hist()</code> function to create a histogram of a numeric column, such as the population column in the <code>df_states</code> data frame.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="data-frames.html#cb97-1" tabindex="-1"></a><span class="fu">hist</span>(df_states<span class="sc">$</span>population)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-139-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
<p>These are just some ideas of how we can explore our data frames. As you become familiar with R, you will discover new functions and techniques for analyzing and visualizing your data.</p>
</div>
</div>
<div id="manipulating-data-frames-transforming-your-data" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Manipulating Data Frames: Transforming your data<a href="data-frames.html#manipulating-data-frames-transforming-your-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the previous section, we learned to explore data frames and access the information they contain. Now, we will go a step further and learn to <strong>manipulate</strong> data frames, transforming data to answer specific questions and obtain relevant information for our move.</p>
<div id="introduction-to-the-pipeline-operator" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Introduction to the pipeline operator (<code>|&gt;</code>)<a href="data-frames.html#introduction-to-the-pipeline-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before modifying data frames, we will introduce a tool to write more readable and efficient code: the <strong>native pipeline operator</strong> (<code>|&gt;</code>). This operator was introduced in R 4.1 (2021) as a built-in language feature, meaning it works without any additional packages.</p>
<blockquote>
<p><strong>Note:</strong> You may also encounter the <code>%&gt;%</code> pipe operator from the <code>magrittr</code> package (part of the tidyverse). Both <code>|&gt;</code> and <code>%&gt;%</code> work similarly for most data analysis tasks. We use the native <code>|&gt;</code> operator throughout this book as it is built into R, but <code>%&gt;%</code> is still widely used in older codebases.</p>
</blockquote>
<p>The pipeline operator allows us to chain several operations sequentially. Instead of writing nested code, we can use the pipeline operator to “pass” the result of one operation to the next.</p>
<p>To use additional data manipulation functions, we’ll load the <code>tidyverse</code> package, which includes <code>dplyr</code> - a package with many useful functions for working with data frames.</p>
<p>A package in R is like a toolbox with additional functions and data for performing specific tasks. To use a package’s functions, we must first install it and then load it into our working environment.</p>
<p>To install the <code>tidyverse</code> package, we can use the following instruction in the R console:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="data-frames.html#cb98-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>This will install <code>tidyverse</code> and all the packages it contains, including <code>dplyr</code>. Once the package is installed, we can load it with the <code>library()</code> function:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="data-frames.html#cb99-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>Now we can use the pipeline operator <code>(|&gt;)</code> and functions from <code>dplyr.</code></p>
<p>For example, we’ll use the <code>murders</code> dataset from the <code>dslabs</code> package. This dataset contains gun murder data by US state in 2010, including variables like state name, abbreviation, region, population, and total murders. Let’s use a pipeline to view selected columns:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="data-frames.html#cb100-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;dslabs&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="data-frames.html#cb101-1" tabindex="-1"></a><span class="co"># Load library and dataset</span></span>
<span id="cb101-2"><a href="data-frames.html#cb101-2" tabindex="-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb101-3"><a href="data-frames.html#cb101-3" tabindex="-1"></a><span class="fu">data</span>(murders)</span>
<span id="cb101-4"><a href="data-frames.html#cb101-4" tabindex="-1"></a></span>
<span id="cb101-5"><a href="data-frames.html#cb101-5" tabindex="-1"></a><span class="co"># Pipeline</span></span>
<span id="cb101-6"><a href="data-frames.html#cb101-6" tabindex="-1"></a>murders <span class="sc">|&gt;</span> <span class="fu">select</span>(state, population, total)</span>
<span id="cb101-7"><a href="data-frames.html#cb101-7" tabindex="-1"></a><span class="co">#&gt;                   state population total</span></span>
<span id="cb101-8"><a href="data-frames.html#cb101-8" tabindex="-1"></a><span class="co">#&gt; 1               Alabama    4779736   135</span></span>
<span id="cb101-9"><a href="data-frames.html#cb101-9" tabindex="-1"></a><span class="co">#&gt; 2                Alaska     710231    19</span></span>
<span id="cb101-10"><a href="data-frames.html#cb101-10" tabindex="-1"></a><span class="co">#&gt; 3               Arizona    6392017   232</span></span>
<span id="cb101-11"><a href="data-frames.html#cb101-11" tabindex="-1"></a><span class="co">#&gt; 4              Arkansas    2915918    93</span></span>
<span id="cb101-12"><a href="data-frames.html#cb101-12" tabindex="-1"></a><span class="co">#&gt; 5            California   37253956  1257</span></span>
<span id="cb101-13"><a href="data-frames.html#cb101-13" tabindex="-1"></a><span class="co">#&gt; 6              Colorado    5029196    65</span></span>
<span id="cb101-14"><a href="data-frames.html#cb101-14" tabindex="-1"></a><span class="co">#&gt; 7           Connecticut    3574097    97</span></span>
<span id="cb101-15"><a href="data-frames.html#cb101-15" tabindex="-1"></a><span class="co">#&gt; 8              Delaware     897934    38</span></span>
<span id="cb101-16"><a href="data-frames.html#cb101-16" tabindex="-1"></a><span class="co">#&gt; 9  District of Columbia     601723    99</span></span>
<span id="cb101-17"><a href="data-frames.html#cb101-17" tabindex="-1"></a><span class="co">#&gt; 10              Florida   19687653   669</span></span>
<span id="cb101-18"><a href="data-frames.html#cb101-18" tabindex="-1"></a><span class="co">#&gt; 11              Georgia    9920000   376</span></span>
<span id="cb101-19"><a href="data-frames.html#cb101-19" tabindex="-1"></a><span class="co">#&gt; 12               Hawaii    1360301     7</span></span>
<span id="cb101-20"><a href="data-frames.html#cb101-20" tabindex="-1"></a><span class="co">#&gt; 13                Idaho    1567582    12</span></span>
<span id="cb101-21"><a href="data-frames.html#cb101-21" tabindex="-1"></a><span class="co">#&gt; 14             Illinois   12830632   364</span></span>
<span id="cb101-22"><a href="data-frames.html#cb101-22" tabindex="-1"></a><span class="co">#&gt; 15              Indiana    6483802   142</span></span>
<span id="cb101-23"><a href="data-frames.html#cb101-23" tabindex="-1"></a><span class="co">#&gt; 16                 Iowa    3046355    21</span></span>
<span id="cb101-24"><a href="data-frames.html#cb101-24" tabindex="-1"></a><span class="co">#&gt; 17               Kansas    2853118    63</span></span>
<span id="cb101-25"><a href="data-frames.html#cb101-25" tabindex="-1"></a><span class="co">#&gt; 18             Kentucky    4339367   116</span></span>
<span id="cb101-26"><a href="data-frames.html#cb101-26" tabindex="-1"></a><span class="co">#&gt; 19            Louisiana    4533372   351</span></span>
<span id="cb101-27"><a href="data-frames.html#cb101-27" tabindex="-1"></a><span class="co">#&gt; 20                Maine    1328361    11</span></span>
<span id="cb101-28"><a href="data-frames.html#cb101-28" tabindex="-1"></a><span class="co">#&gt; 21             Maryland    5773552   293</span></span>
<span id="cb101-29"><a href="data-frames.html#cb101-29" tabindex="-1"></a><span class="co">#&gt; 22        Massachusetts    6547629   118</span></span>
<span id="cb101-30"><a href="data-frames.html#cb101-30" tabindex="-1"></a><span class="co">#&gt; 23             Michigan    9883640   413</span></span>
<span id="cb101-31"><a href="data-frames.html#cb101-31" tabindex="-1"></a><span class="co">#&gt; 24            Minnesota    5303925    53</span></span>
<span id="cb101-32"><a href="data-frames.html#cb101-32" tabindex="-1"></a><span class="co">#&gt; 25          Mississippi    2967297   120</span></span>
<span id="cb101-33"><a href="data-frames.html#cb101-33" tabindex="-1"></a><span class="co">#&gt; 26             Missouri    5988927   321</span></span>
<span id="cb101-34"><a href="data-frames.html#cb101-34" tabindex="-1"></a><span class="co">#&gt; 27              Montana     989415    12</span></span>
<span id="cb101-35"><a href="data-frames.html#cb101-35" tabindex="-1"></a><span class="co">#&gt; 28             Nebraska    1826341    32</span></span>
<span id="cb101-36"><a href="data-frames.html#cb101-36" tabindex="-1"></a><span class="co">#&gt; 29               Nevada    2700551    84</span></span>
<span id="cb101-37"><a href="data-frames.html#cb101-37" tabindex="-1"></a><span class="co">#&gt; 30        New Hampshire    1316470     5</span></span>
<span id="cb101-38"><a href="data-frames.html#cb101-38" tabindex="-1"></a><span class="co">#&gt; 31           New Jersey    8791894   246</span></span>
<span id="cb101-39"><a href="data-frames.html#cb101-39" tabindex="-1"></a><span class="co">#&gt; 32           New Mexico    2059179    67</span></span>
<span id="cb101-40"><a href="data-frames.html#cb101-40" tabindex="-1"></a><span class="co">#&gt; 33             New York   19378102   517</span></span>
<span id="cb101-41"><a href="data-frames.html#cb101-41" tabindex="-1"></a><span class="co">#&gt; 34       North Carolina    9535483   286</span></span>
<span id="cb101-42"><a href="data-frames.html#cb101-42" tabindex="-1"></a><span class="co">#&gt; 35         North Dakota     672591     4</span></span>
<span id="cb101-43"><a href="data-frames.html#cb101-43" tabindex="-1"></a><span class="co">#&gt; 36                 Ohio   11536504   310</span></span>
<span id="cb101-44"><a href="data-frames.html#cb101-44" tabindex="-1"></a><span class="co">#&gt; 37             Oklahoma    3751351   111</span></span>
<span id="cb101-45"><a href="data-frames.html#cb101-45" tabindex="-1"></a><span class="co">#&gt; 38               Oregon    3831074    36</span></span>
<span id="cb101-46"><a href="data-frames.html#cb101-46" tabindex="-1"></a><span class="co">#&gt; 39         Pennsylvania   12702379   457</span></span>
<span id="cb101-47"><a href="data-frames.html#cb101-47" tabindex="-1"></a><span class="co">#&gt; 40         Rhode Island    1052567    16</span></span>
<span id="cb101-48"><a href="data-frames.html#cb101-48" tabindex="-1"></a><span class="co">#&gt; 41       South Carolina    4625364   207</span></span>
<span id="cb101-49"><a href="data-frames.html#cb101-49" tabindex="-1"></a><span class="co">#&gt; 42         South Dakota     814180     8</span></span>
<span id="cb101-50"><a href="data-frames.html#cb101-50" tabindex="-1"></a><span class="co">#&gt; 43            Tennessee    6346105   219</span></span>
<span id="cb101-51"><a href="data-frames.html#cb101-51" tabindex="-1"></a><span class="co">#&gt; 44                Texas   25145561   805</span></span>
<span id="cb101-52"><a href="data-frames.html#cb101-52" tabindex="-1"></a><span class="co">#&gt; 45                 Utah    2763885    22</span></span>
<span id="cb101-53"><a href="data-frames.html#cb101-53" tabindex="-1"></a><span class="co">#&gt; 46              Vermont     625741     2</span></span>
<span id="cb101-54"><a href="data-frames.html#cb101-54" tabindex="-1"></a><span class="co">#&gt; 47             Virginia    8001024   250</span></span>
<span id="cb101-55"><a href="data-frames.html#cb101-55" tabindex="-1"></a><span class="co">#&gt; 48           Washington    6724540    93</span></span>
<span id="cb101-56"><a href="data-frames.html#cb101-56" tabindex="-1"></a><span class="co">#&gt; 49        West Virginia    1852994    27</span></span>
<span id="cb101-57"><a href="data-frames.html#cb101-57" tabindex="-1"></a><span class="co">#&gt; 50            Wisconsin    5686986    97</span></span>
<span id="cb101-58"><a href="data-frames.html#cb101-58" tabindex="-1"></a><span class="co">#&gt; 51              Wyoming     563626     5</span></span></code></pre></div>
<p>Code with pipeline is easier to read and understand, as it follows the natural flow of operations. Pipeline creates a view; we are not editing the <code>murders</code> data frame.</p>
<p>We can show the first rows using the <code>head()</code> function:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="data-frames.html#cb102-1" tabindex="-1"></a><span class="fu">head</span>(murders <span class="sc">|&gt;</span> <span class="fu">select</span>(state, population, total))</span>
<span id="cb102-2"><a href="data-frames.html#cb102-2" tabindex="-1"></a><span class="co">#&gt;        state population total</span></span>
<span id="cb102-3"><a href="data-frames.html#cb102-3" tabindex="-1"></a><span class="co">#&gt; 1    Alabama    4779736   135</span></span>
<span id="cb102-4"><a href="data-frames.html#cb102-4" tabindex="-1"></a><span class="co">#&gt; 2     Alaska     710231    19</span></span>
<span id="cb102-5"><a href="data-frames.html#cb102-5" tabindex="-1"></a><span class="co">#&gt; 3    Arizona    6392017   232</span></span>
<span id="cb102-6"><a href="data-frames.html#cb102-6" tabindex="-1"></a><span class="co">#&gt; 4   Arkansas    2915918    93</span></span>
<span id="cb102-7"><a href="data-frames.html#cb102-7" tabindex="-1"></a><span class="co">#&gt; 5 California   37253956  1257</span></span>
<span id="cb102-8"><a href="data-frames.html#cb102-8" tabindex="-1"></a><span class="co">#&gt; 6   Colorado    5029196    65</span></span></code></pre></div>
<p>We can also use the pipeline operator to show the first rows:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="data-frames.html#cb103-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span> <span class="fu">select</span>(state, population, total) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span>
<span id="cb103-2"><a href="data-frames.html#cb103-2" tabindex="-1"></a><span class="co">#&gt;        state population total</span></span>
<span id="cb103-3"><a href="data-frames.html#cb103-3" tabindex="-1"></a><span class="co">#&gt; 1    Alabama    4779736   135</span></span>
<span id="cb103-4"><a href="data-frames.html#cb103-4" tabindex="-1"></a><span class="co">#&gt; 2     Alaska     710231    19</span></span>
<span id="cb103-5"><a href="data-frames.html#cb103-5" tabindex="-1"></a><span class="co">#&gt; 3    Arizona    6392017   232</span></span>
<span id="cb103-6"><a href="data-frames.html#cb103-6" tabindex="-1"></a><span class="co">#&gt; 4   Arkansas    2915918    93</span></span>
<span id="cb103-7"><a href="data-frames.html#cb103-7" tabindex="-1"></a><span class="co">#&gt; 5 California   37253956  1257</span></span>
<span id="cb103-8"><a href="data-frames.html#cb103-8" tabindex="-1"></a><span class="co">#&gt; 6   Colorado    5029196    65</span></span></code></pre></div>
<p>For better readability, we will use one function per line, obtaining the same result:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="data-frames.html#cb104-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb104-2"><a href="data-frames.html#cb104-2" tabindex="-1"></a>  <span class="fu">select</span>(state, population, total) <span class="sc">|&gt;</span> <span class="co"># Select columns</span></span>
<span id="cb104-3"><a href="data-frames.html#cb104-3" tabindex="-1"></a>  <span class="fu">head</span>() <span class="co"># Show first 6 rows</span></span>
<span id="cb104-4"><a href="data-frames.html#cb104-4" tabindex="-1"></a><span class="co">#&gt;        state population total</span></span>
<span id="cb104-5"><a href="data-frames.html#cb104-5" tabindex="-1"></a><span class="co">#&gt; 1    Alabama    4779736   135</span></span>
<span id="cb104-6"><a href="data-frames.html#cb104-6" tabindex="-1"></a><span class="co">#&gt; 2     Alaska     710231    19</span></span>
<span id="cb104-7"><a href="data-frames.html#cb104-7" tabindex="-1"></a><span class="co">#&gt; 3    Arizona    6392017   232</span></span>
<span id="cb104-8"><a href="data-frames.html#cb104-8" tabindex="-1"></a><span class="co">#&gt; 4   Arkansas    2915918    93</span></span>
<span id="cb104-9"><a href="data-frames.html#cb104-9" tabindex="-1"></a><span class="co">#&gt; 5 California   37253956  1257</span></span>
<span id="cb104-10"><a href="data-frames.html#cb104-10" tabindex="-1"></a><span class="co">#&gt; 6   Colorado    5029196    65</span></span></code></pre></div>
</div>
<div id="transforming-a-table-with-mutate" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Transforming a table with <code>mutate()</code><a href="data-frames.html#transforming-a-table-with-mutate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can create new columns or modify existing ones using the <code>mutate()</code> function. For example, to add a column with the homicide rate per 100,000 inhabitants to the <code>murders</code> data frame:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="data-frames.html#cb105-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb105-2"><a href="data-frames.html#cb105-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb105-3"><a href="data-frames.html#cb105-3" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb105-4"><a href="data-frames.html#cb105-4" tabindex="-1"></a><span class="co">#&gt;        state abb region population total    ratio</span></span>
<span id="cb105-5"><a href="data-frames.html#cb105-5" tabindex="-1"></a><span class="co">#&gt; 1    Alabama  AL  South    4779736   135 2.824424</span></span>
<span id="cb105-6"><a href="data-frames.html#cb105-6" tabindex="-1"></a><span class="co">#&gt; 2     Alaska  AK   West     710231    19 2.675186</span></span>
<span id="cb105-7"><a href="data-frames.html#cb105-7" tabindex="-1"></a><span class="co">#&gt; 3    Arizona  AZ   West    6392017   232 3.629527</span></span>
<span id="cb105-8"><a href="data-frames.html#cb105-8" tabindex="-1"></a><span class="co">#&gt; 4   Arkansas  AR  South    2915918    93 3.189390</span></span>
<span id="cb105-9"><a href="data-frames.html#cb105-9" tabindex="-1"></a><span class="co">#&gt; 5 California  CA   West   37253956  1257 3.374138</span></span>
<span id="cb105-10"><a href="data-frames.html#cb105-10" tabindex="-1"></a><span class="co">#&gt; 6   Colorado  CO   West    5029196    65 1.292453</span></span></code></pre></div>
<p>This creates a view with the additional <code>ratio</code> column.</p>
<p>If we want to modify the <code>murders</code> data frame directly, we use the assignment operator <code>&lt;-</code>:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="data-frames.html#cb106-1" tabindex="-1"></a>murders <span class="ot">&lt;-</span> murders <span class="sc">|&gt;</span></span>
<span id="cb106-2"><a href="data-frames.html#cb106-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>)</span></code></pre></div>
</div>
<div id="filtering-data-selecting-cities-that-interest-you" class="section level3 hasAnchor" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Filtering data: selecting cities that interest you<a href="data-frames.html#filtering-data-selecting-cities-that-interest-you" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can filter rows meeting a condition using the <code>filter()</code> function. For example, to get states with less than 1 homicide per 100,000 inhabitants:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="data-frames.html#cb107-1" tabindex="-1"></a><span class="co"># Load dataset</span></span>
<span id="cb107-2"><a href="data-frames.html#cb107-2" tabindex="-1"></a><span class="fu">data</span>(murders)</span>
<span id="cb107-3"><a href="data-frames.html#cb107-3" tabindex="-1"></a></span>
<span id="cb107-4"><a href="data-frames.html#cb107-4" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb107-5"><a href="data-frames.html#cb107-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb107-6"><a href="data-frames.html#cb107-6" tabindex="-1"></a>  <span class="fu">filter</span>(ratio <span class="sc">&lt;</span> <span class="dv">1</span>)</span>
<span id="cb107-7"><a href="data-frames.html#cb107-7" tabindex="-1"></a><span class="co">#&gt;            state abb        region population total     ratio</span></span>
<span id="cb107-8"><a href="data-frames.html#cb107-8" tabindex="-1"></a><span class="co">#&gt; 1         Hawaii  HI          West    1360301     7 0.5145920</span></span>
<span id="cb107-9"><a href="data-frames.html#cb107-9" tabindex="-1"></a><span class="co">#&gt; 2          Idaho  ID          West    1567582    12 0.7655102</span></span>
<span id="cb107-10"><a href="data-frames.html#cb107-10" tabindex="-1"></a><span class="co">#&gt; 3           Iowa  IA North Central    3046355    21 0.6893484</span></span>
<span id="cb107-11"><a href="data-frames.html#cb107-11" tabindex="-1"></a><span class="co">#&gt; 4          Maine  ME     Northeast    1328361    11 0.8280881</span></span>
<span id="cb107-12"><a href="data-frames.html#cb107-12" tabindex="-1"></a><span class="co">#&gt; 5      Minnesota  MN North Central    5303925    53 0.9992600</span></span>
<span id="cb107-13"><a href="data-frames.html#cb107-13" tabindex="-1"></a><span class="co">#&gt; 6  New Hampshire  NH     Northeast    1316470     5 0.3798036</span></span>
<span id="cb107-14"><a href="data-frames.html#cb107-14" tabindex="-1"></a><span class="co">#&gt; 7   North Dakota  ND North Central     672591     4 0.5947151</span></span>
<span id="cb107-15"><a href="data-frames.html#cb107-15" tabindex="-1"></a><span class="co">#&gt; 8         Oregon  OR          West    3831074    36 0.9396843</span></span>
<span id="cb107-16"><a href="data-frames.html#cb107-16" tabindex="-1"></a><span class="co">#&gt; 9   South Dakota  SD North Central     814180     8 0.9825837</span></span>
<span id="cb107-17"><a href="data-frames.html#cb107-17" tabindex="-1"></a><span class="co">#&gt; 10          Utah  UT          West    2763885    22 0.7959810</span></span>
<span id="cb107-18"><a href="data-frames.html#cb107-18" tabindex="-1"></a><span class="co">#&gt; 11       Vermont  VT     Northeast     625741     2 0.3196211</span></span>
<span id="cb107-19"><a href="data-frames.html#cb107-19" tabindex="-1"></a><span class="co">#&gt; 12       Wyoming  WY          West     563626     5 0.8871131</span></span></code></pre></div>
<p>We can use different operators to create our conditions:</p>
<p>R supports standard comparison operators to create conditions: greater than (<code>&gt;</code>), less than (<code>&lt;</code>), greater than or equal to (<code>&gt;=</code>), less than or equal to (<code>&lt;=</code>), equal to (<code>==</code>), and different from (<code>!=</code>). You can combine multiple conditions using logical operators: <code>&amp;</code> for AND, <code>|</code> for OR, and <code>!</code> for NOT.</p>
<p>For example, to filter by ratio less than 1 and West region:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="data-frames.html#cb108-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb108-2"><a href="data-frames.html#cb108-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb108-3"><a href="data-frames.html#cb108-3" tabindex="-1"></a>  <span class="fu">filter</span>(ratio <span class="sc">&lt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> region <span class="sc">==</span> <span class="st">&quot;West&quot;</span>)</span>
<span id="cb108-4"><a href="data-frames.html#cb108-4" tabindex="-1"></a><span class="co">#&gt;     state abb region population total     ratio</span></span>
<span id="cb108-5"><a href="data-frames.html#cb108-5" tabindex="-1"></a><span class="co">#&gt; 1  Hawaii  HI   West    1360301     7 0.5145920</span></span>
<span id="cb108-6"><a href="data-frames.html#cb108-6" tabindex="-1"></a><span class="co">#&gt; 2   Idaho  ID   West    1567582    12 0.7655102</span></span>
<span id="cb108-7"><a href="data-frames.html#cb108-7" tabindex="-1"></a><span class="co">#&gt; 3  Oregon  OR   West    3831074    36 0.9396843</span></span>
<span id="cb108-8"><a href="data-frames.html#cb108-8" tabindex="-1"></a><span class="co">#&gt; 4    Utah  UT   West    2763885    22 0.7959810</span></span>
<span id="cb108-9"><a href="data-frames.html#cb108-9" tabindex="-1"></a><span class="co">#&gt; 5 Wyoming  WY   West     563626     5 0.8871131</span></span></code></pre></div>
</div>
<div id="sorting-data-finding-the-safest-cities" class="section level3 hasAnchor" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Sorting data: finding the safest cities<a href="data-frames.html#sorting-data-finding-the-safest-cities" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>arrange()</code> function from the <code>dplyr</code> package allows us to order the rows of a data frame based on one or more columns. Imagine you have a data frame with information about different cities, and you want to order them from safest to least safe, based on their crime rate. Or perhaps you want to order them by cost of living, from cheapest to most expensive. <code>arrange()</code> allows you to do this easily.</p>
<p>For example, to order states by homicide rate (from lowest to highest):</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="data-frames.html#cb109-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb109-2"><a href="data-frames.html#cb109-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb109-3"><a href="data-frames.html#cb109-3" tabindex="-1"></a>  <span class="fu">arrange</span>(ratio) <span class="sc">|&gt;</span></span>
<span id="cb109-4"><a href="data-frames.html#cb109-4" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb109-5"><a href="data-frames.html#cb109-5" tabindex="-1"></a><span class="co">#&gt;           state abb        region population total     ratio</span></span>
<span id="cb109-6"><a href="data-frames.html#cb109-6" tabindex="-1"></a><span class="co">#&gt; 1       Vermont  VT     Northeast     625741     2 0.3196211</span></span>
<span id="cb109-7"><a href="data-frames.html#cb109-7" tabindex="-1"></a><span class="co">#&gt; 2 New Hampshire  NH     Northeast    1316470     5 0.3798036</span></span>
<span id="cb109-8"><a href="data-frames.html#cb109-8" tabindex="-1"></a><span class="co">#&gt; 3        Hawaii  HI          West    1360301     7 0.5145920</span></span>
<span id="cb109-9"><a href="data-frames.html#cb109-9" tabindex="-1"></a><span class="co">#&gt; 4  North Dakota  ND North Central     672591     4 0.5947151</span></span>
<span id="cb109-10"><a href="data-frames.html#cb109-10" tabindex="-1"></a><span class="co">#&gt; 5          Iowa  IA North Central    3046355    21 0.6893484</span></span>
<span id="cb109-11"><a href="data-frames.html#cb109-11" tabindex="-1"></a><span class="co">#&gt; 6         Idaho  ID          West    1567582    12 0.7655102</span></span></code></pre></div>
<p>If we want to sort in descending order, we use the <code>desc()</code> function:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="data-frames.html#cb110-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb110-2"><a href="data-frames.html#cb110-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total <span class="sc">/</span> population <span class="sc">*</span> <span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb110-3"><a href="data-frames.html#cb110-3" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(ratio)) <span class="sc">|&gt;</span></span>
<span id="cb110-4"><a href="data-frames.html#cb110-4" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb110-5"><a href="data-frames.html#cb110-5" tabindex="-1"></a><span class="co">#&gt;                  state abb        region population total     ratio</span></span>
<span id="cb110-6"><a href="data-frames.html#cb110-6" tabindex="-1"></a><span class="co">#&gt; 1 District of Columbia  DC         South     601723    99 16.452753</span></span>
<span id="cb110-7"><a href="data-frames.html#cb110-7" tabindex="-1"></a><span class="co">#&gt; 2            Louisiana  LA         South    4533372   351  7.742581</span></span>
<span id="cb110-8"><a href="data-frames.html#cb110-8" tabindex="-1"></a><span class="co">#&gt; 3             Missouri  MO North Central    5988927   321  5.359892</span></span>
<span id="cb110-9"><a href="data-frames.html#cb110-9" tabindex="-1"></a><span class="co">#&gt; 4             Maryland  MD         South    5773552   293  5.074866</span></span>
<span id="cb110-10"><a href="data-frames.html#cb110-10" tabindex="-1"></a><span class="co">#&gt; 5       South Carolina  SC         South    4625364   207  4.475323</span></span>
<span id="cb110-11"><a href="data-frames.html#cb110-11" tabindex="-1"></a><span class="co">#&gt; 6             Delaware  DE         South     897934    38  4.231937</span></span></code></pre></div>
<p>We can also sort by multiple columns. For example, if we want to sort first by <code>region</code> and then by <code>state</code> (in alphabetical order):</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="data-frames.html#cb111-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span> </span>
<span id="cb111-2"><a href="data-frames.html#cb111-2" tabindex="-1"></a>  <span class="fu">arrange</span>(region, state) <span class="sc">|&gt;</span></span>
<span id="cb111-3"><a href="data-frames.html#cb111-3" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb111-4"><a href="data-frames.html#cb111-4" tabindex="-1"></a><span class="co">#&gt;           state abb    region population total</span></span>
<span id="cb111-5"><a href="data-frames.html#cb111-5" tabindex="-1"></a><span class="co">#&gt; 1   Connecticut  CT Northeast    3574097    97</span></span>
<span id="cb111-6"><a href="data-frames.html#cb111-6" tabindex="-1"></a><span class="co">#&gt; 2         Maine  ME Northeast    1328361    11</span></span>
<span id="cb111-7"><a href="data-frames.html#cb111-7" tabindex="-1"></a><span class="co">#&gt; 3 Massachusetts  MA Northeast    6547629   118</span></span>
<span id="cb111-8"><a href="data-frames.html#cb111-8" tabindex="-1"></a><span class="co">#&gt; 4 New Hampshire  NH Northeast    1316470     5</span></span>
<span id="cb111-9"><a href="data-frames.html#cb111-9" tabindex="-1"></a><span class="co">#&gt; 5    New Jersey  NJ Northeast    8791894   246</span></span>
<span id="cb111-10"><a href="data-frames.html#cb111-10" tabindex="-1"></a><span class="co">#&gt; 6      New York  NY Northeast   19378102   517</span></span></code></pre></div>
</div>
<div id="aggregating-and-summarizing-data-obtaining-general-overview" class="section level3 hasAnchor" number="3.4.5">
<h3><span class="header-section-number">3.4.5</span> Aggregating and summarizing data: obtaining general overview<a href="data-frames.html#aggregating-and-summarizing-data-obtaining-general-overview" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>summarize()</code> function from the <code>dplyr</code> package allows us to calculate descriptive statistics for one or more columns of a data frame. It’s like summarizing information from our data frame into a single number or a set of numbers.</p>
<p>For example, to calculate the mean population of states:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="data-frames.html#cb112-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb112-2"><a href="data-frames.html#cb112-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_population =</span> <span class="fu">mean</span>(population))</span>
<span id="cb112-3"><a href="data-frames.html#cb112-3" tabindex="-1"></a><span class="co">#&gt;   mean_population</span></span>
<span id="cb112-4"><a href="data-frames.html#cb112-4" tabindex="-1"></a><span class="co">#&gt; 1         6075769</span></span></code></pre></div>
<p>We can combine <code>summarize()</code> with <code>group_by()</code> to calculate statistics by groups. For example, to calculate average population by region:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="data-frames.html#cb113-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb113-2"><a href="data-frames.html#cb113-2" tabindex="-1"></a>  <span class="fu">group_by</span>(region) <span class="sc">|&gt;</span></span>
<span id="cb113-3"><a href="data-frames.html#cb113-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_population =</span> <span class="fu">mean</span>(population))</span>
<span id="cb113-4"><a href="data-frames.html#cb113-4" tabindex="-1"></a><span class="co">#&gt; # A tibble: 4 × 2</span></span>
<span id="cb113-5"><a href="data-frames.html#cb113-5" tabindex="-1"></a><span class="co">#&gt;   region        mean_population</span></span>
<span id="cb113-6"><a href="data-frames.html#cb113-6" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt;                   &lt;dbl&gt;</span></span>
<span id="cb113-7"><a href="data-frames.html#cb113-7" tabindex="-1"></a><span class="co">#&gt; 1 Northeast            6146360 </span></span>
<span id="cb113-8"><a href="data-frames.html#cb113-8" tabindex="-1"></a><span class="co">#&gt; 2 South                6804378.</span></span>
<span id="cb113-9"><a href="data-frames.html#cb113-9" tabindex="-1"></a><span class="co">#&gt; 3 North Central        5577250.</span></span>
<span id="cb113-10"><a href="data-frames.html#cb113-10" tabindex="-1"></a><span class="co">#&gt; 4 West                 5534273.</span></span></code></pre></div>
</div>
<div id="joining-data-frames-combining-information" class="section level3 hasAnchor" number="3.4.6">
<h3><span class="header-section-number">3.4.6</span> Joining data frames: combining information<a href="data-frames.html#joining-data-frames-combining-information" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Imagine you have two data frames: one with information about cities (name, population, etc.) and another with information about the states those cities belong to (state name, governor, etc.). If you want to combine information from both data frames to have a single data frame with all information about cities and their states, you can use <code>dplyr</code> join functions.</p>
<p><code>dplyr</code> offers several functions for joining data frames, such as <code>left_join()</code>, <code>right_join()</code>, <code>inner_join()</code>, and <code>full_join()</code>. Each function performs a different type of join, depending on how data frame rows are combined.</p>
<p>The <code>left_join()</code> function joins two data frames keeping all rows from the first data frame (the one on the left) and adding columns from the second data frame that match the first data frame’s rows. If a row from the first data frame has no match in the second data frame, new columns will have <code>NA</code> values.</p>
<p>For example, if we have a data frame with city information and another with state information, we can join them by the <code>state</code> column:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="data-frames.html#cb114-1" tabindex="-1"></a>df_cities_states <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_cities, df_states, <span class="at">by =</span> <span class="st">&quot;state&quot;</span>)</span></code></pre></div>
<p>The resulting data frame <code>df_cities_states</code> will contain information from both data frames combined. If a city in <code>df_cities</code> does not have a corresponding state in <code>df_states</code>, columns from <code>df_states</code> will have <code>NA</code> values for that city.</p>
<p>Let’s see a concrete example. Suppose we have the following data frames:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="data-frames.html#cb115-1" tabindex="-1"></a>df_cities <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb115-2"><a href="data-frames.html#cb115-2" tabindex="-1"></a>  <span class="at">city =</span> <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Los Angeles&quot;</span>, <span class="st">&quot;Chicago&quot;</span>, <span class="st">&quot;Houston&quot;</span>),</span>
<span id="cb115-3"><a href="data-frames.html#cb115-3" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;California&quot;</span>, <span class="st">&quot;Illinois&quot;</span>, <span class="st">&quot;Texas&quot;</span>)</span>
<span id="cb115-4"><a href="data-frames.html#cb115-4" tabindex="-1"></a>)</span>
<span id="cb115-5"><a href="data-frames.html#cb115-5" tabindex="-1"></a></span>
<span id="cb115-6"><a href="data-frames.html#cb115-6" tabindex="-1"></a>df_states <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb115-7"><a href="data-frames.html#cb115-7" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">c</span>(<span class="st">&quot;California&quot;</span>, <span class="st">&quot;Texas&quot;</span>, <span class="st">&quot;Florida&quot;</span>),</span>
<span id="cb115-8"><a href="data-frames.html#cb115-8" tabindex="-1"></a>  <span class="at">governor =</span> <span class="fu">c</span>(<span class="st">&quot;Gavin Newsom&quot;</span>, <span class="st">&quot;Greg Abbott&quot;</span>, <span class="st">&quot;Ron DeSantis&quot;</span>)</span>
<span id="cb115-9"><a href="data-frames.html#cb115-9" tabindex="-1"></a>)</span>
<span id="cb115-10"><a href="data-frames.html#cb115-10" tabindex="-1"></a></span>
<span id="cb115-11"><a href="data-frames.html#cb115-11" tabindex="-1"></a><span class="co"># Join data frames by &quot;state&quot; column</span></span>
<span id="cb115-12"><a href="data-frames.html#cb115-12" tabindex="-1"></a>df_cities_states <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_cities, df_states, <span class="at">by =</span> <span class="st">&quot;state&quot;</span>)</span>
<span id="cb115-13"><a href="data-frames.html#cb115-13" tabindex="-1"></a></span>
<span id="cb115-14"><a href="data-frames.html#cb115-14" tabindex="-1"></a>df_cities_states</span>
<span id="cb115-15"><a href="data-frames.html#cb115-15" tabindex="-1"></a><span class="co">#&gt;          city      state     governor</span></span>
<span id="cb115-16"><a href="data-frames.html#cb115-16" tabindex="-1"></a><span class="co">#&gt; 1    New York   New York         &lt;NA&gt;</span></span>
<span id="cb115-17"><a href="data-frames.html#cb115-17" tabindex="-1"></a><span class="co">#&gt; 2 Los Angeles California Gavin Newsom</span></span>
<span id="cb115-18"><a href="data-frames.html#cb115-18" tabindex="-1"></a><span class="co">#&gt; 3     Chicago   Illinois         &lt;NA&gt;</span></span>
<span id="cb115-19"><a href="data-frames.html#cb115-19" tabindex="-1"></a><span class="co">#&gt; 4     Houston      Texas  Greg Abbott</span></span></code></pre></div>
<p>In this example, <code>left_join()</code> combines <code>df_cities</code> and <code>df_states</code> data frames by the <code>state</code> column. Note that “New York” and “Chicago” cities have <code>NA</code> values in the <code>governor</code> column, since their states (“New York” and “Illinois”) are not present in the <code>df_states</code> data frame.</p>
<p>The other join functions (<code>right_join()</code>, <code>inner_join()</code>, and <code>full_join()</code>) work similarly, but with different criteria for combining data frame rows.</p>
<p>The other join functions work similarly but with different inclusion criteria. <code>right_join()</code> does the opposite of <code>left_join()</code>, keeping all rows from the right data frame and only matching rows from the left. <code>inner_join()</code> is more restrictive, keeping only rows that have matches in both tables, while <code>full_join()</code> is the most inclusive, retaining all rows from both data frames and filling in <code>NA</code> where no match exists.</p>
<p>You can consult <code>dplyr</code> documentation for more information about these functions.</p>
</div>
<div id="examples-1" class="section level3 hasAnchor" number="3.4.7">
<h3><span class="header-section-number">3.4.7</span> Examples<a href="data-frames.html#examples-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>dplyr</code> functions we have seen allow us to perform complex data transformations to answer specific questions about our move to the United States. Let’s see some examples with R code:</p>
<p><strong>Examples of analysis questions</strong></p>
<p>We can combine these tools to answer specific questions. To find suitable locations, we might filtered for cities with a “Good” education system and a cost of living index below 2.5. Alternatively, to study economic prosperity, we could sort states by their GDP per capita (calculated as GDP divided by population) in descending order. For a more comprehensive climate analysis, we could join our city data with a separate climate table.</p>
<p>With these tools, you will be able to explore and analyze information about the United States to make the best decision about your move.</p>
</div>
</div>
<div id="exercises-2" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Exercises<a href="data-frames.html#exercises-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol start="25" style="list-style-type: decimal">
<li>Report the state abbreviation <code>abb</code> and population <code>population</code> columns from the <code>murders</code> data frame</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="data-frames.html#cb116-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb116-2"><a href="data-frames.html#cb116-2" tabindex="-1"></a>  <span class="fu">select</span>(abb, population)</span></code></pre></div>
</details>
<ol start="26" style="list-style-type: decimal">
<li>Report all data frame data that are not from the South region.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="data-frames.html#cb117-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb117-2"><a href="data-frames.html#cb117-2" tabindex="-1"></a>  <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;South&quot;</span>)</span></code></pre></div>
</details>
<blockquote>
<p>If we want to filter all records that are from the South and West region we will use <code>%in%</code> instead of <code>==</code> to compare versus a vector</p>
</blockquote>
<ol start="27" style="list-style-type: decimal">
<li>Create the vector <code>south_and_west</code> containing values “South” and “West”. Then filter records that are from those two regions.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="data-frames.html#cb118-1" tabindex="-1"></a>south_and_west <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;South&quot;</span>, <span class="st">&quot;West&quot;</span>)</span>
<span id="cb118-2"><a href="data-frames.html#cb118-2" tabindex="-1"></a>  </span>
<span id="cb118-3"><a href="data-frames.html#cb118-3" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb118-4"><a href="data-frames.html#cb118-4" tabindex="-1"></a>  <span class="fu">filter</span>(region <span class="sc">%in%</span> south_and_west)</span></code></pre></div>
</details>
<ol start="28" style="list-style-type: decimal">
<li>Add the <code>ratio</code> column to the <code>murders</code> data frame with the murder ratio per 100,000 inhabitants. Then, filter those with a ratio less than 0.5 and are from “South” and “West” regions. Report <code>state</code>, <code>abb</code>, and <code>ratio</code> columns.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="data-frames.html#cb119-1" tabindex="-1"></a><span class="fu">data</span>(murders)</span>
<span id="cb119-2"><a href="data-frames.html#cb119-2" tabindex="-1"></a></span>
<span id="cb119-3"><a href="data-frames.html#cb119-3" tabindex="-1"></a>south_and_west <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;South&quot;</span>, <span class="st">&quot;West&quot;</span>)</span>
<span id="cb119-4"><a href="data-frames.html#cb119-4" tabindex="-1"></a>  </span>
<span id="cb119-5"><a href="data-frames.html#cb119-5" tabindex="-1"></a>murders <span class="ot">&lt;-</span> murders <span class="sc">|&gt;</span></span>
<span id="cb119-6"><a href="data-frames.html#cb119-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total<span class="sc">/</span>population<span class="sc">*</span><span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb119-7"><a href="data-frames.html#cb119-7" tabindex="-1"></a>  <span class="fu">filter</span>(ratio <span class="sc">&lt;</span> <span class="fl">0.5</span> <span class="sc">&amp;</span> region <span class="sc">%in%</span> south_and_west) <span class="sc">|&gt;</span></span>
<span id="cb119-8"><a href="data-frames.html#cb119-8" tabindex="-1"></a>  <span class="fu">select</span>(state, abb, ratio)</span>
<span id="cb119-9"><a href="data-frames.html#cb119-9" tabindex="-1"></a></span>
<span id="cb119-10"><a href="data-frames.html#cb119-10" tabindex="-1"></a>murders</span></code></pre></div>
</details>
<blockquote>
<p>To sort using pipeline we use the <code>arrange(x)</code> function, where <code>x</code> is the name of the column we want to take as reference which will sort in ascending order or <code>arrange(desc(x))</code> to sort in descending order.</p>
</blockquote>
<ol start="29" style="list-style-type: decimal">
<li>Modify the code generated in the previous exercise to sort the result by the <code>ratio</code> field.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="data-frames.html#cb120-1" tabindex="-1"></a><span class="fu">data</span>(murders)</span>
<span id="cb120-2"><a href="data-frames.html#cb120-2" tabindex="-1"></a></span>
<span id="cb120-3"><a href="data-frames.html#cb120-3" tabindex="-1"></a>south_and_west <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;South&quot;</span>, <span class="st">&quot;West&quot;</span>)</span>
<span id="cb120-4"><a href="data-frames.html#cb120-4" tabindex="-1"></a>  </span>
<span id="cb120-5"><a href="data-frames.html#cb120-5" tabindex="-1"></a>murders <span class="ot">&lt;-</span> murders <span class="sc">|&gt;</span></span>
<span id="cb120-6"><a href="data-frames.html#cb120-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total<span class="sc">/</span>population<span class="sc">*</span><span class="dv">100000</span>) <span class="sc">|&gt;</span></span>
<span id="cb120-7"><a href="data-frames.html#cb120-7" tabindex="-1"></a>  <span class="fu">filter</span>(ratio <span class="sc">&lt;</span> <span class="fl">0.5</span> <span class="sc">&amp;</span> region <span class="sc">%in%</span> south_and_west) <span class="sc">|&gt;</span></span>
<span id="cb120-8"><a href="data-frames.html#cb120-8" tabindex="-1"></a>  <span class="fu">select</span>(state, abb, ratio) <span class="sc">|&gt;</span></span>
<span id="cb120-9"><a href="data-frames.html#cb120-9" tabindex="-1"></a>  <span class="fu">arrange</span>(ratio)</span>
<span id="cb120-10"><a href="data-frames.html#cb120-10" tabindex="-1"></a></span>
<span id="cb120-11"><a href="data-frames.html#cb120-11" tabindex="-1"></a>murders</span></code></pre></div>
So, finally we can know what state options we have to be able to move and solve the presented case.
</details>
</div>
<div id="data-frames-in-plots" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Data frames in plots<a href="data-frames.html#data-frames-in-plots" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now we will see some functions that allow us to visualize our data. Little by little we will build more complex and visually more aesthetic graphs to present. First let’s see the most basic functions R presents us. In the next chapter we will see in more detail graph types and in which situations it is recommended to use one or another graph.</p>
<div id="scatter-plots" class="section level3 hasAnchor" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> Scatter plots<a href="data-frames.html#scatter-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>One of the most used plots in R is the scatter plot, which is a type of mathematical diagram using Cartesian coordinates to show values for two variables for a set of data <span class="citation">(<a href="#ref-jarrell1994">Jarrell 1994, 492</a>)</span>. By default we assume the variables to analyze are independent. Thus, the scatter plot will show the degree of correlation (not causality) between the two variables.</p>
<p>The simplest way to plot a scatter plot is with the <code>plot(x,y)</code> function, where <code>x</code> and <code>y</code> are vectors indicating the <em>x-axis</em> coordinates and <em>y-axis</em> coordinates of each point we want to plot. For example, let’s see the relationship between population size and total murders.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="data-frames.html#cb121-1" tabindex="-1"></a><span class="co"># Let&#39;s store population data in the x_axis object</span></span>
<span id="cb121-2"><a href="data-frames.html#cb121-2" tabindex="-1"></a>x_axis <span class="ot">&lt;-</span> murders<span class="sc">$</span>population</span>
<span id="cb121-3"><a href="data-frames.html#cb121-3" tabindex="-1"></a></span>
<span id="cb121-4"><a href="data-frames.html#cb121-4" tabindex="-1"></a><span class="co"># Let&#39;s store total murders data in the y_axis object</span></span>
<span id="cb121-5"><a href="data-frames.html#cb121-5" tabindex="-1"></a>y_axis <span class="ot">&lt;-</span> murders<span class="sc">$</span>total</span>
<span id="cb121-6"><a href="data-frames.html#cb121-6" tabindex="-1"></a></span>
<span id="cb121-7"><a href="data-frames.html#cb121-7" tabindex="-1"></a><span class="co"># With this code we create the scatter plot</span></span>
<span id="cb121-8"><a href="data-frames.html#cb121-8" tabindex="-1"></a><span class="fu">plot</span>(x_axis, y_axis)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-168-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
<p>We can see a correlation between population and number of cases. Let’s transform the <code>x_axis</code> dividing by one million (<span class="math inline">\({10}^6\)</span>). Thus we will have the x axis expressed in millions.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="data-frames.html#cb122-1" tabindex="-1"></a>x_axis <span class="ot">&lt;-</span> murders<span class="sc">$</span>population<span class="sc">/</span><span class="dv">10</span><span class="sc">^</span><span class="dv">6</span></span>
<span id="cb122-2"><a href="data-frames.html#cb122-2" tabindex="-1"></a>y_axis <span class="ot">&lt;-</span> murders<span class="sc">$</span>total</span>
<span id="cb122-3"><a href="data-frames.html#cb122-3" tabindex="-1"></a></span>
<span id="cb122-4"><a href="data-frames.html#cb122-4" tabindex="-1"></a><span class="fu">plot</span>(x_axis, y_axis)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-169-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="histograms" class="section level3 hasAnchor" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> Histograms<a href="data-frames.html#histograms" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We can also create histograms from a vector with the <code>hist</code> function.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="data-frames.html#cb123-1" tabindex="-1"></a><span class="fu">data</span>(murders)</span>
<span id="cb123-2"><a href="data-frames.html#cb123-2" tabindex="-1"></a></span>
<span id="cb123-3"><a href="data-frames.html#cb123-3" tabindex="-1"></a>murders <span class="ot">&lt;-</span> murders <span class="sc">|&gt;</span></span>
<span id="cb123-4"><a href="data-frames.html#cb123-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ratio =</span> total<span class="sc">/</span>population<span class="sc">*</span><span class="dv">100000</span>)</span>
<span id="cb123-5"><a href="data-frames.html#cb123-5" tabindex="-1"></a></span>
<span id="cb123-6"><a href="data-frames.html#cb123-6" tabindex="-1"></a><span class="fu">hist</span>(murders<span class="sc">$</span>ratio)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-170-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
<p>The ease R gives us to create graphs will save us time for analysis. From here we can quickly see that most states have a <code>ratio &lt; 5</code>.</p>
</div>
<div id="box-plot" class="section level3 hasAnchor" number="3.6.3">
<h3><span class="header-section-number">3.6.3</span> Box plot<a href="data-frames.html#box-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Finally, R allows us to create box plots easily with the <code>boxplot</code> function. So, if we wanted to analyze the distribution of <code>ratio</code> we would use the following code:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="data-frames.html#cb124-1" tabindex="-1"></a><span class="fu">boxplot</span>(murders<span class="sc">$</span>ratio)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-171-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="data-interpretation" class="section level2 hasAnchor" number="3.7">
<h2><span class="header-section-number">3.7</span> Data interpretation<a href="data-frames.html#data-interpretation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have seen graphs that can be generated with a line of code, but we need to interpret them. To do so, we need to learn or remember some statistics. Throughout this book we will learn statistical concepts not going deep into the math part, but from the practical part and leveraging that functions already exist in R.</p>
<p>Let’s remember our case/problem. We have a list of murders in each of the 51 states. If we order them by the total column we would have:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="data-frames.html#cb125-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span> </span>
<span id="cb125-2"><a href="data-frames.html#cb125-2" tabindex="-1"></a>  <span class="fu">arrange</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb125-3"><a href="data-frames.html#cb125-3" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb125-4"><a href="data-frames.html#cb125-4" tabindex="-1"></a><span class="co">#&gt;           state abb        region population total     ratio</span></span>
<span id="cb125-5"><a href="data-frames.html#cb125-5" tabindex="-1"></a><span class="co">#&gt; 1       Vermont  VT     Northeast     625741     2 0.3196211</span></span>
<span id="cb125-6"><a href="data-frames.html#cb125-6" tabindex="-1"></a><span class="co">#&gt; 2  North Dakota  ND North Central     672591     4 0.5947151</span></span>
<span id="cb125-7"><a href="data-frames.html#cb125-7" tabindex="-1"></a><span class="co">#&gt; 3 New Hampshire  NH     Northeast    1316470     5 0.3798036</span></span>
<span id="cb125-8"><a href="data-frames.html#cb125-8" tabindex="-1"></a><span class="co">#&gt; 4       Wyoming  WY          West     563626     5 0.8871131</span></span>
<span id="cb125-9"><a href="data-frames.html#cb125-9" tabindex="-1"></a><span class="co">#&gt; 5        Hawaii  HI          West    1360301     7 0.5145920</span></span>
<span id="cb125-10"><a href="data-frames.html#cb125-10" tabindex="-1"></a><span class="co">#&gt; 6  South Dakota  SD North Central     814180     8 0.9825837</span></span></code></pre></div>
<p>R provides us with the <code>summary()</code> function, which gives us a summary of a vector’s data.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="data-frames.html#cb126-1" tabindex="-1"></a><span class="fu">summary</span>(murders<span class="sc">$</span>total)</span>
<span id="cb126-2"><a href="data-frames.html#cb126-2" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb126-3"><a href="data-frames.html#cb126-3" tabindex="-1"></a><span class="co">#&gt;     2.0    24.5    97.0   184.4   268.0  1257.0</span></span></code></pre></div>
<p>The summary provides key insights: the <strong>Min</strong> and <strong>Max</strong> show the range of the data; the <strong>1st Qu</strong> (first quartile) and <strong>3rd Qu</strong> (third quartile) indicate the 25th and 75th percentiles; the <strong>Median</strong> marks the exact middle of the distribution; and the <strong>Mean</strong> gives the arithmetic average.</p>
<div id="quartiles" class="section level3 hasAnchor" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Quartiles<a href="data-frames.html#quartiles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To understand quartiles let’s visualize total data in an ordered way. To only obtain a single column in pipeline we will use <code>.$</code> before the variable name:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="data-frames.html#cb127-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span> </span>
<span id="cb127-2"><a href="data-frames.html#cb127-2" tabindex="-1"></a>  <span class="fu">arrange</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb127-3"><a href="data-frames.html#cb127-3" tabindex="-1"></a>  <span class="fu">pull</span>(total)</span>
<span id="cb127-4"><a href="data-frames.html#cb127-4" tabindex="-1"></a><span class="co">#&gt;  [1]    2    4    5    5    7    8   11   12   12   16   19   21   22   27   32</span></span>
<span id="cb127-5"><a href="data-frames.html#cb127-5" tabindex="-1"></a><span class="co">#&gt; [16]   36   38   53   63   65   67   84   93   93   97   97   99  111  116  118</span></span>
<span id="cb127-6"><a href="data-frames.html#cb127-6" tabindex="-1"></a><span class="co">#&gt; [31]  120  135  142  207  219  232  246  250  286  293  310  321  351  364  376</span></span>
<span id="cb127-7"><a href="data-frames.html#cb127-7" tabindex="-1"></a><span class="co">#&gt; [46]  413  457  517  669  805 1257</span></span></code></pre></div>
<p>Quartiles divide our vector into 4 parts with the same amount of data. Given we have 51 values, we would have groups of <code>51/4 = 12.75</code>. We would have groups of 13 values (3 groups of 13 elements and one of 12 elements).</p>
<p>For example, the first group would be composed of these numbers:</p>
<pre><code>#&gt;  [1]  2  4  5  5  7  8 11 12 12 16 19 21 22</code></pre>
<p>The second group would be composed of these numbers:</p>
<pre><code>#&gt;  [1] 27 32 36 38 53 63 65 67 84 93 93 97 97</code></pre>
<p>And so on. In total 4 groups made up of 25% of data each.</p>
<div id="first-quartile" class="section level4 hasAnchor" number="3.7.1.1">
<h4><span class="header-section-number">3.7.1.1</span> First quartile<a href="data-frames.html#first-quartile" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Therefore, when we see the 1st quartile, <code>1st Qu.</code>, let’s think that is the cut indicating up to where I can find 25% of the data.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="data-frames.html#cb130-1" tabindex="-1"></a><span class="fu">summary</span>(murders<span class="sc">$</span>total)</span>
<span id="cb130-2"><a href="data-frames.html#cb130-2" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb130-3"><a href="data-frames.html#cb130-3" tabindex="-1"></a><span class="co">#&gt;     2.0    24.5    97.0   184.4   268.0  1257.0</span></span></code></pre></div>
<p>In our example <code>24.5</code> indicates that every number less than or equal to that number will be within the first 25% of data (25% of 51 data points = 12.75, rounded to 13 data points).</p>
<p>If we list numbers less than or equal to 24.5 we will have this list:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="data-frames.html#cb131-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb131-2"><a href="data-frames.html#cb131-2" tabindex="-1"></a>  <span class="fu">arrange</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb131-3"><a href="data-frames.html#cb131-3" tabindex="-1"></a>  <span class="fu">filter</span>(total <span class="sc">&lt;=</span> <span class="fl">24.5</span>) <span class="sc">|&gt;</span></span>
<span id="cb131-4"><a href="data-frames.html#cb131-4" tabindex="-1"></a>  <span class="fu">pull</span>(total)</span>
<span id="cb131-5"><a href="data-frames.html#cb131-5" tabindex="-1"></a><span class="co">#&gt;  [1]  2  4  5  5  7  8 11 12 12 16 19 21 22</span></span></code></pre></div>
<p>Which is exactly the same list we obtained previously for the first group.</p>
</div>
<div id="second-quartile-or-median" class="section level4 hasAnchor" number="3.7.1.2">
<h4><span class="header-section-number">3.7.1.2</span> Second quartile or median<a href="data-frames.html#second-quartile-or-median" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The second quartile, also called the median (<code>Median</code>), indicates the cut of the second group. The first group contains the first 25% of data, the second group has additional 25%. So this cut would give us exactly the value found in the middle.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="data-frames.html#cb132-1" tabindex="-1"></a><span class="fu">summary</span>(murders<span class="sc">$</span>total)</span>
<span id="cb132-2"><a href="data-frames.html#cb132-2" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb132-3"><a href="data-frames.html#cb132-3" tabindex="-1"></a><span class="co">#&gt;     2.0    24.5    97.0   184.4   268.0  1257.0</span></span></code></pre></div>
<p>In our example <code>97</code> indicates that below that number we will find 50% of total data (50% of 51 data points = 25.5, rounded to 26 data points).</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="data-frames.html#cb133-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb133-2"><a href="data-frames.html#cb133-2" tabindex="-1"></a>  <span class="fu">arrange</span>(total) <span class="sc">|&gt;</span></span>
<span id="cb133-3"><a href="data-frames.html#cb133-3" tabindex="-1"></a>  <span class="fu">filter</span>(total <span class="sc">&lt;=</span> <span class="dv">97</span>) <span class="sc">|&gt;</span></span>
<span id="cb133-4"><a href="data-frames.html#cb133-4" tabindex="-1"></a>  <span class="fu">pull</span>(total)</span>
<span id="cb133-5"><a href="data-frames.html#cb133-5" tabindex="-1"></a><span class="co">#&gt;  [1]  2  4  5  5  7  8 11 12 12 16 19 21 22 27 32 36 38 53 63 65 67 84 93 93 97</span></span>
<span id="cb133-6"><a href="data-frames.html#cb133-6" tabindex="-1"></a><span class="co">#&gt; [26] 97</span></span></code></pre></div>
</div>
<div id="third-quartile" class="section level4 hasAnchor" number="3.7.1.3">
<h4><span class="header-section-number">3.7.1.3</span> Third quartile<a href="data-frames.html#third-quartile" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The third quartile is the cut of the third group. Up to the median we already had 50%, if we add another 25% of data we would have 75%.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="data-frames.html#cb134-1" tabindex="-1"></a><span class="fu">summary</span>(murders<span class="sc">$</span>total)</span>
<span id="cb134-2"><a href="data-frames.html#cb134-2" tabindex="-1"></a><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span id="cb134-3"><a href="data-frames.html#cb134-3" tabindex="-1"></a><span class="co">#&gt;     2.0    24.5    97.0   184.4   268.0  1257.0</span></span></code></pre></div>
<p>In our example <code>268</code> indicates that below that number we will find 75% of total data (75% of 51 data points = 38.25, rounded to 38 data points).</p>
</div>
</div>
<div id="interpretation-of-box-plot" class="section level3 hasAnchor" number="3.7.2">
<h3><span class="header-section-number">3.7.2</span> Interpretation of box plot<a href="data-frames.html#interpretation-of-box-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are now ready to create a box plot with total murders and interpret results.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="data-frames.html#cb135-1" tabindex="-1"></a><span class="fu">boxplot</span>(murders<span class="sc">$</span>total)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-182-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
<p>The box starts at value 24.5 (first quartile) and ends at value 268 (third quartile). The thick line represents the median (second quartile), 97 in our example.</p>
<p>Between the first quartile and third quartile (between 24.5 and 97 for our example) we will find 50% of the data, also called interquartile range or <code>IQR</code>.</p>
<p>Outside the box we see a vertical line upwards and another downwards, showing the range of our data. Outside those lines we see dots which are atypical data very far from the mean, known as <strong>outliers</strong>.</p>
<p>We can quickly find to which states these extreme data belong if we sort the table descendingly using the <code>desc</code> function:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="data-frames.html#cb136-1" tabindex="-1"></a>murders <span class="sc">|&gt;</span></span>
<span id="cb136-2"><a href="data-frames.html#cb136-2" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total)) <span class="sc">|&gt;</span></span>
<span id="cb136-3"><a href="data-frames.html#cb136-3" tabindex="-1"></a>  <span class="fu">head</span>()</span>
<span id="cb136-4"><a href="data-frames.html#cb136-4" tabindex="-1"></a><span class="co">#&gt;          state abb        region population total    ratio</span></span>
<span id="cb136-5"><a href="data-frames.html#cb136-5" tabindex="-1"></a><span class="co">#&gt; 1   California  CA          West   37253956  1257 3.374138</span></span>
<span id="cb136-6"><a href="data-frames.html#cb136-6" tabindex="-1"></a><span class="co">#&gt; 2        Texas  TX         South   25145561   805 3.201360</span></span>
<span id="cb136-7"><a href="data-frames.html#cb136-7" tabindex="-1"></a><span class="co">#&gt; 3      Florida  FL         South   19687653   669 3.398069</span></span>
<span id="cb136-8"><a href="data-frames.html#cb136-8" tabindex="-1"></a><span class="co">#&gt; 4     New York  NY     Northeast   19378102   517 2.667960</span></span>
<span id="cb136-9"><a href="data-frames.html#cb136-9" tabindex="-1"></a><span class="co">#&gt; 5 Pennsylvania  PA     Northeast   12702379   457 3.597751</span></span>
<span id="cb136-10"><a href="data-frames.html#cb136-10" tabindex="-1"></a><span class="co">#&gt; 6     Michigan  MI North Central    9883640   413 4.178622</span></span></code></pre></div>
<p>We see that in California <code>1257</code> cases were reported. That is one of the extreme data points we see in the box plot.</p>
</div>
<div id="examples-2" class="section level3 hasAnchor" number="3.7.3">
<h3><span class="header-section-number">3.7.3</span> Examples<a href="data-frames.html#examples-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Create variable <code>pop_log10</code> and store log base 10 data of population (<code>log10()</code> function). Perform the same log base 10 transformation for total murders and store it in variable <code>tot_log10</code>. Generate a scatter plot of these two variables.</li>
</ol>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="data-frames.html#cb137-1" tabindex="-1"></a>pop_log10 <span class="ot">&lt;-</span> <span class="fu">log10</span>(murders<span class="sc">$</span>population)</span>
<span id="cb137-2"><a href="data-frames.html#cb137-2" tabindex="-1"></a>tot_log10 <span class="ot">&lt;-</span> <span class="fu">log10</span>(murders<span class="sc">$</span>total)</span>
<span id="cb137-3"><a href="data-frames.html#cb137-3" tabindex="-1"></a></span>
<span id="cb137-4"><a href="data-frames.html#cb137-4" tabindex="-1"></a><span class="fu">plot</span>(pop_log10, tot_log10)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-184-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Create a histogram of population in millions (divided by <span class="math inline">\({10}^6\)</span>).</li>
</ol>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="data-frames.html#cb138-1" tabindex="-1"></a><span class="fu">hist</span>(murders<span class="sc">$</span>population<span class="sc">/</span><span class="dv">10</span><span class="sc">^</span><span class="dv">6</span>)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-185-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Create a box plot of population.</li>
</ol>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="data-frames.html#cb139-1" tabindex="-1"></a><span class="fu">boxplot</span>(murders<span class="sc">$</span>population)</span></code></pre></div>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-186-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="exercises-3" class="section level2 hasAnchor" number="3.8">
<h2><span class="header-section-number">3.8</span> Exercises<a href="data-frames.html#exercises-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Below, you will find a series of exercises with different levels of difficulty. It is time to put into practice what you have learned in this chapter. Remember you can use <code>dplyr</code> functions like <code>filter()</code>, <code>arrange()</code>, <code>mutate()</code>, <code>summarize()</code>, <code>group_by()</code> and <code>left_join()</code> to manipulate data frames.</p>
<ol start="30" style="list-style-type: decimal">
<li>Create a data frame called <code>my_expenses</code>. It should contain a <code>category</code> factor with levels “Housing”, “Transport”, “Food”, and “Entertainment”, along with three numeric columns (<code>january</code>, <code>february</code>, <code>march</code>) recording expenses for each category.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="data-frames.html#cb140-1" tabindex="-1"></a>my_expenses <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb140-2"><a href="data-frames.html#cb140-2" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;Housing&quot;</span>, <span class="st">&quot;Transport&quot;</span>, <span class="st">&quot;Food&quot;</span>, <span class="st">&quot;Entertainment&quot;</span>)),</span>
<span id="cb140-3"><a href="data-frames.html#cb140-3" tabindex="-1"></a>  <span class="at">january =</span> <span class="fu">c</span>(<span class="dv">1500</span>, <span class="dv">300</span>, <span class="dv">500</span>, <span class="dv">200</span>),</span>
<span id="cb140-4"><a href="data-frames.html#cb140-4" tabindex="-1"></a>  <span class="at">february =</span> <span class="fu">c</span>(<span class="dv">1500</span>, <span class="dv">250</span>, <span class="dv">400</span>, <span class="dv">150</span>),</span>
<span id="cb140-5"><a href="data-frames.html#cb140-5" tabindex="-1"></a>  <span class="at">march =</span> <span class="fu">c</span>(<span class="dv">1500</span>, <span class="dv">350</span>, <span class="dv">550</span>, <span class="dv">250</span>)</span>
<span id="cb140-6"><a href="data-frames.html#cb140-6" tabindex="-1"></a>)</span>
<span id="cb140-7"><a href="data-frames.html#cb140-7" tabindex="-1"></a></span>
<span id="cb140-8"><a href="data-frames.html#cb140-8" tabindex="-1"></a>my_expenses</span>
<span id="cb140-9"><a href="data-frames.html#cb140-9" tabindex="-1"></a><span class="co">#&gt;        category january february march</span></span>
<span id="cb140-10"><a href="data-frames.html#cb140-10" tabindex="-1"></a><span class="co">#&gt; 1       Housing    1500     1500  1500</span></span>
<span id="cb140-11"><a href="data-frames.html#cb140-11" tabindex="-1"></a><span class="co">#&gt; 2     Transport     300      250   350</span></span>
<span id="cb140-12"><a href="data-frames.html#cb140-12" tabindex="-1"></a><span class="co">#&gt; 3          Food     500      400   550</span></span>
<span id="cb140-13"><a href="data-frames.html#cb140-13" tabindex="-1"></a><span class="co">#&gt; 4 Entertainment     200      150   250</span></span></code></pre></div>
</details>
<ol start="31" style="list-style-type: decimal">
<li>Use <code>head()</code>, <code>tail()</code>, <code>str()</code> and <code>summary()</code> functions to explore <code>my_expenses</code> data frame.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="data-frames.html#cb141-1" tabindex="-1"></a><span class="fu">head</span>(my_expenses)</span>
<span id="cb141-2"><a href="data-frames.html#cb141-2" tabindex="-1"></a><span class="co">#&gt;        category january february march</span></span>
<span id="cb141-3"><a href="data-frames.html#cb141-3" tabindex="-1"></a><span class="co">#&gt; 1       Housing    1500     1500  1500</span></span>
<span id="cb141-4"><a href="data-frames.html#cb141-4" tabindex="-1"></a><span class="co">#&gt; 2     Transport     300      250   350</span></span>
<span id="cb141-5"><a href="data-frames.html#cb141-5" tabindex="-1"></a><span class="co">#&gt; 3          Food     500      400   550</span></span>
<span id="cb141-6"><a href="data-frames.html#cb141-6" tabindex="-1"></a><span class="co">#&gt; 4 Entertainment     200      150   250</span></span>
<span id="cb141-7"><a href="data-frames.html#cb141-7" tabindex="-1"></a><span class="fu">tail</span>(my_expenses)</span>
<span id="cb141-8"><a href="data-frames.html#cb141-8" tabindex="-1"></a><span class="co">#&gt;        category january february march</span></span>
<span id="cb141-9"><a href="data-frames.html#cb141-9" tabindex="-1"></a><span class="co">#&gt; 1       Housing    1500     1500  1500</span></span>
<span id="cb141-10"><a href="data-frames.html#cb141-10" tabindex="-1"></a><span class="co">#&gt; 2     Transport     300      250   350</span></span>
<span id="cb141-11"><a href="data-frames.html#cb141-11" tabindex="-1"></a><span class="co">#&gt; 3          Food     500      400   550</span></span>
<span id="cb141-12"><a href="data-frames.html#cb141-12" tabindex="-1"></a><span class="co">#&gt; 4 Entertainment     200      150   250</span></span>
<span id="cb141-13"><a href="data-frames.html#cb141-13" tabindex="-1"></a><span class="fu">str</span>(my_expenses)</span>
<span id="cb141-14"><a href="data-frames.html#cb141-14" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    4 obs. of  4 variables:</span></span>
<span id="cb141-15"><a href="data-frames.html#cb141-15" tabindex="-1"></a><span class="co">#&gt;  $ category: Factor w/ 4 levels &quot;Entertainment&quot;,..: 3 4 2 1</span></span>
<span id="cb141-16"><a href="data-frames.html#cb141-16" tabindex="-1"></a><span class="co">#&gt;  $ january : num  1500 300 500 200</span></span>
<span id="cb141-17"><a href="data-frames.html#cb141-17" tabindex="-1"></a><span class="co">#&gt;  $ february: num  1500 250 400 150</span></span>
<span id="cb141-18"><a href="data-frames.html#cb141-18" tabindex="-1"></a><span class="co">#&gt;  $ march   : num  1500 350 550 250</span></span>
<span id="cb141-19"><a href="data-frames.html#cb141-19" tabindex="-1"></a><span class="fu">summary</span>(my_expenses)</span>
<span id="cb141-20"><a href="data-frames.html#cb141-20" tabindex="-1"></a><span class="co">#&gt;           category    january        february        march       </span></span>
<span id="cb141-21"><a href="data-frames.html#cb141-21" tabindex="-1"></a><span class="co">#&gt;  Entertainment:1   Min.   : 200   Min.   : 150   Min.   : 250.0  </span></span>
<span id="cb141-22"><a href="data-frames.html#cb141-22" tabindex="-1"></a><span class="co">#&gt;  Food         :1   1st Qu.: 275   1st Qu.: 225   1st Qu.: 325.0  </span></span>
<span id="cb141-23"><a href="data-frames.html#cb141-23" tabindex="-1"></a><span class="co">#&gt;  Housing      :1   Median : 400   Median : 325   Median : 450.0  </span></span>
<span id="cb141-24"><a href="data-frames.html#cb141-24" tabindex="-1"></a><span class="co">#&gt;  Transport    :1   Mean   : 625   Mean   : 575   Mean   : 662.5  </span></span>
<span id="cb141-25"><a href="data-frames.html#cb141-25" tabindex="-1"></a><span class="co">#&gt;                    3rd Qu.: 750   3rd Qu.: 675   3rd Qu.: 787.5  </span></span>
<span id="cb141-26"><a href="data-frames.html#cb141-26" tabindex="-1"></a><span class="co">#&gt;                    Max.   :1500   Max.   :1500   Max.   :1500.0</span></span></code></pre></div>
</details>
<ol start="32" style="list-style-type: decimal">
<li>Access <code>february</code> column of <code>my_expenses</code> data frame using <code>$</code> operator. Then, access the second row of the data frame using brackets.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="data-frames.html#cb142-1" tabindex="-1"></a>my_expenses<span class="sc">$</span>february</span>
<span id="cb142-2"><a href="data-frames.html#cb142-2" tabindex="-1"></a><span class="co">#&gt; [1] 1500  250  400  150</span></span>
<span id="cb142-3"><a href="data-frames.html#cb142-3" tabindex="-1"></a>my_expenses[<span class="dv">2</span>, ]</span>
<span id="cb142-4"><a href="data-frames.html#cb142-4" tabindex="-1"></a><span class="co">#&gt;    category january february march</span></span>
<span id="cb142-5"><a href="data-frames.html#cb142-5" tabindex="-1"></a><span class="co">#&gt; 2 Transport     300      250   350</span></span></code></pre></div>
</details>
<ol start="33" style="list-style-type: decimal">
<li>Filter <code>my_expenses</code> data frame to get only rows where expenses in <code>january</code> are greater than 400.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="data-frames.html#cb143-1" tabindex="-1"></a>my_expenses <span class="sc">|&gt;</span></span>
<span id="cb143-2"><a href="data-frames.html#cb143-2" tabindex="-1"></a>  <span class="fu">filter</span>(january <span class="sc">&gt;</span> <span class="dv">400</span>)</span>
<span id="cb143-3"><a href="data-frames.html#cb143-3" tabindex="-1"></a><span class="co">#&gt;   category january february march</span></span>
<span id="cb143-4"><a href="data-frames.html#cb143-4" tabindex="-1"></a><span class="co">#&gt; 1  Housing    1500     1500  1500</span></span>
<span id="cb143-5"><a href="data-frames.html#cb143-5" tabindex="-1"></a><span class="co">#&gt; 2     Food     500      400   550</span></span></code></pre></div>
</details>
<ol start="34" style="list-style-type: decimal">
<li>Sort <code>my_expenses</code> data frame descendingly by expenses in <code>march</code>.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="data-frames.html#cb144-1" tabindex="-1"></a>my_expenses <span class="sc">|&gt;</span></span>
<span id="cb144-2"><a href="data-frames.html#cb144-2" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(march))</span>
<span id="cb144-3"><a href="data-frames.html#cb144-3" tabindex="-1"></a><span class="co">#&gt;        category january february march</span></span>
<span id="cb144-4"><a href="data-frames.html#cb144-4" tabindex="-1"></a><span class="co">#&gt; 1       Housing    1500     1500  1500</span></span>
<span id="cb144-5"><a href="data-frames.html#cb144-5" tabindex="-1"></a><span class="co">#&gt; 2          Food     500      400   550</span></span>
<span id="cb144-6"><a href="data-frames.html#cb144-6" tabindex="-1"></a><span class="co">#&gt; 3     Transport     300      250   350</span></span>
<span id="cb144-7"><a href="data-frames.html#cb144-7" tabindex="-1"></a><span class="co">#&gt; 4 Entertainment     200      150   250</span></span></code></pre></div>
</details>
<ol start="35" style="list-style-type: decimal">
<li>Add a column called <code>total</code> to <code>my_expenses</code> data frame containing the sum of January, February, and March expenses for each category.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="data-frames.html#cb145-1" tabindex="-1"></a>my_expenses <span class="ot">&lt;-</span> my_expenses <span class="sc">|&gt;</span> </span>
<span id="cb145-2"><a href="data-frames.html#cb145-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total =</span> january <span class="sc">+</span> february <span class="sc">+</span> march)</span></code></pre></div>
</details>
<ol start="36" style="list-style-type: decimal">
<li>Calculate mean and standard deviation of total expenses for each category in <code>my_expenses</code> data frame.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="data-frames.html#cb146-1" tabindex="-1"></a>my_expenses <span class="sc">|&gt;</span> </span>
<span id="cb146-2"><a href="data-frames.html#cb146-2" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_total =</span> <span class="fu">mean</span>(total), </span>
<span id="cb146-3"><a href="data-frames.html#cb146-3" tabindex="-1"></a>            <span class="at">std_total =</span> <span class="fu">sd</span>(total))</span>
<span id="cb146-4"><a href="data-frames.html#cb146-4" tabindex="-1"></a><span class="co">#&gt;   mean_total std_total</span></span>
<span id="cb146-5"><a href="data-frames.html#cb146-5" tabindex="-1"></a><span class="co">#&gt; 1     1862.5  1793.216</span></span></code></pre></div>
</details>
<ol start="37" style="list-style-type: decimal">
<li>Group <code>my_expenses</code> data frame by category and calculate sum of expenses for each month.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="data-frames.html#cb147-1" tabindex="-1"></a>my_expenses <span class="sc">|&gt;</span> </span>
<span id="cb147-2"><a href="data-frames.html#cb147-2" tabindex="-1"></a>  <span class="fu">group_by</span>(category) <span class="sc">|&gt;</span> </span>
<span id="cb147-3"><a href="data-frames.html#cb147-3" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum_january =</span> <span class="fu">sum</span>(january), </span>
<span id="cb147-4"><a href="data-frames.html#cb147-4" tabindex="-1"></a>            <span class="at">sum_february =</span> <span class="fu">sum</span>(february), </span>
<span id="cb147-5"><a href="data-frames.html#cb147-5" tabindex="-1"></a>            <span class="at">sum_march =</span> <span class="fu">sum</span>(march))</span>
<span id="cb147-6"><a href="data-frames.html#cb147-6" tabindex="-1"></a><span class="co">#&gt; # A tibble: 4 × 4</span></span>
<span id="cb147-7"><a href="data-frames.html#cb147-7" tabindex="-1"></a><span class="co">#&gt;   category      sum_january sum_february sum_march</span></span>
<span id="cb147-8"><a href="data-frames.html#cb147-8" tabindex="-1"></a><span class="co">#&gt;   &lt;fct&gt;               &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb147-9"><a href="data-frames.html#cb147-9" tabindex="-1"></a><span class="co">#&gt; 1 Entertainment         200          150       250</span></span>
<span id="cb147-10"><a href="data-frames.html#cb147-10" tabindex="-1"></a><span class="co">#&gt; 2 Food                  500          400       550</span></span>
<span id="cb147-11"><a href="data-frames.html#cb147-11" tabindex="-1"></a><span class="co">#&gt; 3 Housing              1500         1500      1500</span></span>
<span id="cb147-12"><a href="data-frames.html#cb147-12" tabindex="-1"></a><span class="co">#&gt; 4 Transport             300          250       350</span></span></code></pre></div>
</details>
<ol start="38" style="list-style-type: decimal">
<li>Visually analyze the following chart describing total murder distribution by regions. Just by visualizing it, could you point out which region has the smallest data range, ignoring outliers? Which region has the highest median?</li>
</ol>
<p><img src="Data-Science-with-R_files/figure-html/unnamed-chunk-204-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
<details>
<summary type="button">
Solution
</summary>
<p>West has the smallest data range and has two outliers. South has the highest median among all regions.</p>
Analyzing solely by seeing a chart allows us to put ourselves in the final observer’s shoes and understand if decisions can be made just with presented information.
</details>
<ol start="39" style="list-style-type: decimal">
<li>Create <code>south</code> vector where you store filtered data of total murders occurred in South region. Then, create a histogram of <code>south</code> vector.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="data-frames.html#cb148-1" tabindex="-1"></a>south <span class="ot">&lt;-</span> murders <span class="sc">|&gt;</span></span>
<span id="cb148-2"><a href="data-frames.html#cb148-2" tabindex="-1"></a>  <span class="fu">filter</span>(region <span class="sc">==</span> <span class="st">&quot;South&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb148-3"><a href="data-frames.html#cb148-3" tabindex="-1"></a>  <span class="fu">pull</span>(total)</span>
<span id="cb148-4"><a href="data-frames.html#cb148-4" tabindex="-1"></a></span>
<span id="cb148-5"><a href="data-frames.html#cb148-5" tabindex="-1"></a><span class="fu">hist</span>(south)</span></code></pre></div>
</details>
<ol start="40" style="list-style-type: decimal">
<li>Create a new data frame called <code>df_cities_climate</code> combining information from <code>df_cities</code> and <code>df_climate</code> (you must create <code>df_climate</code> data frame with city climate information). Ensure resulting data frame contains all cities from <code>df_cities</code>, even if they don’t have climate information in <code>df_climate</code>.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="data-frames.html#cb149-1" tabindex="-1"></a>df_climate <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb149-2"><a href="data-frames.html#cb149-2" tabindex="-1"></a>  <span class="at">city =</span> <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Los Angeles&quot;</span>, <span class="st">&quot;Chicago&quot;</span>),</span>
<span id="cb149-3"><a href="data-frames.html#cb149-3" tabindex="-1"></a>  <span class="at">average_temperature =</span> <span class="fu">c</span>(<span class="fl">12.8</span>, <span class="fl">17.7</span>, <span class="fl">10.7</span>),  <span class="co"># In degrees Celsius</span></span>
<span id="cb149-4"><a href="data-frames.html#cb149-4" tabindex="-1"></a>  <span class="at">annual_precipitation =</span> <span class="fu">c</span>(<span class="dv">1269</span>, <span class="dv">373</span>, <span class="dv">965</span>)  <span class="co"># In millimeters</span></span>
<span id="cb149-5"><a href="data-frames.html#cb149-5" tabindex="-1"></a>)</span>
<span id="cb149-6"><a href="data-frames.html#cb149-6" tabindex="-1"></a></span>
<span id="cb149-7"><a href="data-frames.html#cb149-7" tabindex="-1"></a>df_cities_climate <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_cities, df_climate, <span class="at">by =</span> <span class="st">&quot;city&quot;</span>)</span></code></pre></div>
</details>
<ol start="41" style="list-style-type: decimal">
<li>Create a data frame with some missing values (<code>NA</code>). Then, replace missing values with mean of non-missing values in same column.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="data-frames.html#cb150-1" tabindex="-1"></a><span class="co"># Create data frame with missing values</span></span>
<span id="cb150-2"><a href="data-frames.html#cb150-2" tabindex="-1"></a>df_with_na <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb150-3"><a href="data-frames.html#cb150-3" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb150-4"><a href="data-frames.html#cb150-4" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="cn">NA</span>, <span class="dv">10</span>)</span>
<span id="cb150-5"><a href="data-frames.html#cb150-5" tabindex="-1"></a>)</span>
<span id="cb150-6"><a href="data-frames.html#cb150-6" tabindex="-1"></a></span>
<span id="cb150-7"><a href="data-frames.html#cb150-7" tabindex="-1"></a>df_with_na</span>
<span id="cb150-8"><a href="data-frames.html#cb150-8" tabindex="-1"></a><span class="co">#&gt;    x  y</span></span>
<span id="cb150-9"><a href="data-frames.html#cb150-9" tabindex="-1"></a><span class="co">#&gt; 1  1 NA</span></span>
<span id="cb150-10"><a href="data-frames.html#cb150-10" tabindex="-1"></a><span class="co">#&gt; 2  2  7</span></span>
<span id="cb150-11"><a href="data-frames.html#cb150-11" tabindex="-1"></a><span class="co">#&gt; 3 NA  8</span></span>
<span id="cb150-12"><a href="data-frames.html#cb150-12" tabindex="-1"></a><span class="co">#&gt; 4  4 NA</span></span>
<span id="cb150-13"><a href="data-frames.html#cb150-13" tabindex="-1"></a><span class="co">#&gt; 5  5 10</span></span>
<span id="cb150-14"><a href="data-frames.html#cb150-14" tabindex="-1"></a></span>
<span id="cb150-15"><a href="data-frames.html#cb150-15" tabindex="-1"></a><span class="co"># Replace missing values with mean</span></span>
<span id="cb150-16"><a href="data-frames.html#cb150-16" tabindex="-1"></a>df_with_na <span class="ot">&lt;-</span> df_with_na <span class="sc">|&gt;</span> </span>
<span id="cb150-17"><a href="data-frames.html#cb150-17" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(x), <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), x),</span>
<span id="cb150-18"><a href="data-frames.html#cb150-18" tabindex="-1"></a>         <span class="at">y =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(y), <span class="fu">mean</span>(y, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), y))</span>
<span id="cb150-19"><a href="data-frames.html#cb150-19" tabindex="-1"></a></span>
<span id="cb150-20"><a href="data-frames.html#cb150-20" tabindex="-1"></a>df_with_na</span>
<span id="cb150-21"><a href="data-frames.html#cb150-21" tabindex="-1"></a><span class="co">#&gt;   x         y</span></span>
<span id="cb150-22"><a href="data-frames.html#cb150-22" tabindex="-1"></a><span class="co">#&gt; 1 1  8.333333</span></span>
<span id="cb150-23"><a href="data-frames.html#cb150-23" tabindex="-1"></a><span class="co">#&gt; 2 2  7.000000</span></span>
<span id="cb150-24"><a href="data-frames.html#cb150-24" tabindex="-1"></a><span class="co">#&gt; 3 3  8.000000</span></span>
<span id="cb150-25"><a href="data-frames.html#cb150-25" tabindex="-1"></a><span class="co">#&gt; 4 4  8.333333</span></span>
<span id="cb150-26"><a href="data-frames.html#cb150-26" tabindex="-1"></a><span class="co">#&gt; 5 5 10.000000</span></span></code></pre></div>
</details>
<ol start="42" style="list-style-type: decimal">
<li>Create a function called <code>clean_data_frame()</code> receiving a data frame as argument and replacing missing values with mean of non-missing values in each column.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="data-frames.html#cb151-1" tabindex="-1"></a>clean_data_frame <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb151-2"><a href="data-frames.html#cb151-2" tabindex="-1"></a>  <span class="cf">for</span> (col <span class="cf">in</span> <span class="fu">names</span>(df)) {</span>
<span id="cb151-3"><a href="data-frames.html#cb151-3" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">is.numeric</span>(df[[col]])) {</span>
<span id="cb151-4"><a href="data-frames.html#cb151-4" tabindex="-1"></a>      df[[col]] <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(df[[col]]), <span class="fu">mean</span>(df[[col]], <span class="at">na.rm =</span> <span class="cn">TRUE</span>), df[[col]])</span>
<span id="cb151-5"><a href="data-frames.html#cb151-5" tabindex="-1"></a>    }</span>
<span id="cb151-6"><a href="data-frames.html#cb151-6" tabindex="-1"></a>  }</span>
<span id="cb151-7"><a href="data-frames.html#cb151-7" tabindex="-1"></a>  <span class="fu">return</span>(df)</span>
<span id="cb151-8"><a href="data-frames.html#cb151-8" tabindex="-1"></a>}</span>
<span id="cb151-9"><a href="data-frames.html#cb151-9" tabindex="-1"></a></span>
<span id="cb151-10"><a href="data-frames.html#cb151-10" tabindex="-1"></a><span class="do">## Test created function</span></span>
<span id="cb151-11"><a href="data-frames.html#cb151-11" tabindex="-1"></a><span class="co"># Create data frame with missing values to test function</span></span>
<span id="cb151-12"><a href="data-frames.html#cb151-12" tabindex="-1"></a>df_test <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb151-13"><a href="data-frames.html#cb151-13" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="cn">NA</span>, <span class="dv">28</span>, <span class="dv">35</span>),</span>
<span id="cb151-14"><a href="data-frames.html#cb151-14" tabindex="-1"></a>  <span class="at">height =</span> <span class="fu">c</span>(<span class="fl">1.75</span>, <span class="fl">1.80</span>, <span class="fl">1.65</span>, <span class="cn">NA</span>, <span class="fl">1.70</span>),</span>
<span id="cb151-15"><a href="data-frames.html#cb151-15" tabindex="-1"></a>  <span class="at">weight =</span> <span class="fu">c</span>(<span class="dv">70</span>, <span class="dv">80</span>, <span class="dv">75</span>, <span class="dv">65</span>, <span class="cn">NA</span>)</span>
<span id="cb151-16"><a href="data-frames.html#cb151-16" tabindex="-1"></a>)</span>
<span id="cb151-17"><a href="data-frames.html#cb151-17" tabindex="-1"></a></span>
<span id="cb151-18"><a href="data-frames.html#cb151-18" tabindex="-1"></a>df_test</span>
<span id="cb151-19"><a href="data-frames.html#cb151-19" tabindex="-1"></a><span class="co">#&gt;   age height weight</span></span>
<span id="cb151-20"><a href="data-frames.html#cb151-20" tabindex="-1"></a><span class="co">#&gt; 1  25   1.75     70</span></span>
<span id="cb151-21"><a href="data-frames.html#cb151-21" tabindex="-1"></a><span class="co">#&gt; 2  30   1.80     80</span></span>
<span id="cb151-22"><a href="data-frames.html#cb151-22" tabindex="-1"></a><span class="co">#&gt; 3  NA   1.65     75</span></span>
<span id="cb151-23"><a href="data-frames.html#cb151-23" tabindex="-1"></a><span class="co">#&gt; 4  28     NA     65</span></span>
<span id="cb151-24"><a href="data-frames.html#cb151-24" tabindex="-1"></a><span class="co">#&gt; 5  35   1.70     NA</span></span>
<span id="cb151-25"><a href="data-frames.html#cb151-25" tabindex="-1"></a></span>
<span id="cb151-26"><a href="data-frames.html#cb151-26" tabindex="-1"></a><span class="co"># Apply function to test data frame</span></span>
<span id="cb151-27"><a href="data-frames.html#cb151-27" tabindex="-1"></a>df_clean <span class="ot">&lt;-</span> <span class="fu">clean_data_frame</span>(df_test)</span>
<span id="cb151-28"><a href="data-frames.html#cb151-28" tabindex="-1"></a></span>
<span id="cb151-29"><a href="data-frames.html#cb151-29" tabindex="-1"></a><span class="co"># Show clean data frame</span></span>
<span id="cb151-30"><a href="data-frames.html#cb151-30" tabindex="-1"></a>df_clean</span>
<span id="cb151-31"><a href="data-frames.html#cb151-31" tabindex="-1"></a><span class="co">#&gt;    age height weight</span></span>
<span id="cb151-32"><a href="data-frames.html#cb151-32" tabindex="-1"></a><span class="co">#&gt; 1 25.0  1.750   70.0</span></span>
<span id="cb151-33"><a href="data-frames.html#cb151-33" tabindex="-1"></a><span class="co">#&gt; 2 30.0  1.800   80.0</span></span>
<span id="cb151-34"><a href="data-frames.html#cb151-34" tabindex="-1"></a><span class="co">#&gt; 3 29.5  1.650   75.0</span></span>
<span id="cb151-35"><a href="data-frames.html#cb151-35" tabindex="-1"></a><span class="co">#&gt; 4 28.0  1.725   65.0</span></span>
<span id="cb151-36"><a href="data-frames.html#cb151-36" tabindex="-1"></a><span class="co">#&gt; 5 35.0  1.700   72.5</span></span></code></pre></div>
</details>

</div>
</div>
<h3>References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-jarrell1994" class="csl-entry">
Jarrell, Stephen B. 1994. <em><a href="">Basic Statistics</a></em>. 1st ed. Brown (William C.) Co.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="advanced-techniques.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": true,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": null
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": null,
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
