<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Advanced Techniques | Data Science with R</title>
  <meta name="description" content="Theory and practice to enter the world of data analysis and predictions with R, by Daniel Paredes" />
  <meta name="generator" content="bookdown 0.46 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Advanced Techniques | Data Science with R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Theory and practice to enter the world of data analysis and predictions with R, by Daniel Paredes" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Advanced Techniques | Data Science with R" />
  
  <meta name="twitter:description" content="Theory and practice to enter the world of data analysis and predictions with R, by Daniel Paredes" />
  

<meta name="author" content="Author: Mg. Daniel Paredes Inilupu" />


<meta name="date" content="2025-12-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-frames.html"/>
<link rel="next" href="ggplot-and-dplyr.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics: Sin Vista -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VJJ963010J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VJJ963010J');
</script>

<!-- Global site tag (gtag.js) - Google Analytics: Vista -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165839710-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-165839710-1');
</script>

<!-- Global site tag (gtag.js) - Google Analytics: Agentedec4mbio -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-17876479-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-17876479-1');
</script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#installing-r"><i class="fa fa-check"></i>Installing R</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#installing-rstudio"><i class="fa fa-check"></i>Installing RStudio</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#rstudio-sections"><i class="fa fa-check"></i>RStudio Sections</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#testing-rstudio"><i class="fa fa-check"></i>Testing RStudio</a></li>
</ul></li>
<li class="part"><span><b>I Fundamentals and Key Tools</b></span></li>
<li class="chapter" data-level="1" data-path="objects.html"><a href="objects.html"><i class="fa fa-check"></i><b>1</b> Objects</a>
<ul>
<li class="chapter" data-level="1.1" data-path="objects.html"><a href="objects.html#what-are-objects-in-r"><i class="fa fa-check"></i><b>1.1</b> What are objects in R?</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="objects.html"><a href="objects.html#r-as-an-object-oriented-language"><i class="fa fa-check"></i><b>1.1.1</b> R as an object-oriented language</a></li>
<li class="chapter" data-level="1.1.2" data-path="objects.html"><a href="objects.html#the-power-of-abstraction"><i class="fa fa-check"></i><b>1.1.2</b> The power of abstraction</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="objects.html"><a href="objects.html#variables-the-first-objects-on-your-journey"><i class="fa fa-check"></i><b>1.2</b> Variables: The first objects on your journey</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="objects.html"><a href="objects.html#creating-variables-in-r"><i class="fa fa-check"></i><b>1.2.1</b> Creating variables in R</a></li>
<li class="chapter" data-level="1.2.2" data-path="objects.html"><a href="objects.html#operations-with-variables"><i class="fa fa-check"></i><b>1.2.2</b> Operations with variables</a></li>
<li class="chapter" data-level="1.2.3" data-path="objects.html"><a href="objects.html#best-practices-for-naming-variables"><i class="fa fa-check"></i><b>1.2.3</b> Best practices for naming variables</a></li>
<li class="chapter" data-level="1.2.4" data-path="objects.html"><a href="objects.html#data-types"><i class="fa fa-check"></i><b>1.2.4</b> Data types</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="objects.html"><a href="objects.html#object-types-for-complex-data"><i class="fa fa-check"></i><b>1.3</b> Object types for complex data</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="objects.html"><a href="objects.html#vectors-organizing-information-of-the-same-type"><i class="fa fa-check"></i><b>1.3.1</b> Vectors: organizing information of the same type</a></li>
<li class="chapter" data-level="1.3.2" data-path="objects.html"><a href="objects.html#lists-grouping-objects-of-different-types"><i class="fa fa-check"></i><b>1.3.2</b> Lists: grouping objects of different types</a></li>
<li class="chapter" data-level="1.3.3" data-path="objects.html"><a href="objects.html#matrices-organizing-data-in-rows-and-columns"><i class="fa fa-check"></i><b>1.3.3</b> Matrices: organizing data in rows and columns</a></li>
<li class="chapter" data-level="1.3.4" data-path="objects.html"><a href="objects.html#arrays-multidimensional-matrices"><i class="fa fa-check"></i><b>1.3.4</b> Arrays: multidimensional matrices</a></li>
<li class="chapter" data-level="1.3.5" data-path="objects.html"><a href="objects.html#factors-representing-categorical-data"><i class="fa fa-check"></i><b>1.3.5</b> Factors: representing categorical data</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="objects.html"><a href="objects.html#the-universe-of-objects-in-r"><i class="fa fa-check"></i><b>1.4</b> The Universe of Objects in R</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="objects.html"><a href="objects.html#philosophy-of-objects-in-r"><i class="fa fa-check"></i><b>1.4.1</b> Philosophy of objects in R</a></li>
<li class="chapter" data-level="1.4.2" data-path="objects.html"><a href="objects.html#comparison-with-other-languages"><i class="fa fa-check"></i><b>1.4.2</b> Comparison with other languages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="objects.html"><a href="objects.html#exercises"><i class="fa fa-check"></i><b>1.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>2</b> Functions</a>
<ul>
<li class="chapter" data-level="2.1" data-path="functions.html"><a href="functions.html#introduction-to-the-world-of-functions"><i class="fa fa-check"></i><b>2.1</b> Introduction to the world of functions</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="functions.html"><a href="functions.html#what-are-functions"><i class="fa fa-check"></i><b>2.1.1</b> What are functions?</a></li>
<li class="chapter" data-level="2.1.2" data-path="functions.html"><a href="functions.html#why-use-functions"><i class="fa fa-check"></i><b>2.1.2</b> Why use functions?</a></li>
<li class="chapter" data-level="2.1.3" data-path="functions.html"><a href="functions.html#first-functions-exploring-basic-r-functions"><i class="fa fa-check"></i><b>2.1.3</b> First functions: exploring basic R functions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="functions.html"><a href="functions.html#anatomy-of-a-function"><i class="fa fa-check"></i><b>2.2</b> Anatomy of a function</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="functions.html"><a href="functions.html#arguments-the-ingredients-of-the-function"><i class="fa fa-check"></i><b>2.2.1</b> Arguments: the ingredients of the function</a></li>
<li class="chapter" data-level="2.2.2" data-path="functions.html"><a href="functions.html#body-the-instructions-of-the-function"><i class="fa fa-check"></i><b>2.2.2</b> Body: the instructions of the function</a></li>
<li class="chapter" data-level="2.2.3" data-path="functions.html"><a href="functions.html#return-value-the-result-of-the-function"><i class="fa fa-check"></i><b>2.2.3</b> Return value: the result of the function</a></li>
<li class="chapter" data-level="2.2.4" data-path="functions.html"><a href="functions.html#examples-creating-simple-functions-step-by-step"><i class="fa fa-check"></i><b>2.2.4</b> Examples: creating simple functions step by step</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="functions.html"><a href="functions.html#mastering-the-use-of-functions"><i class="fa fa-check"></i><b>2.3</b> Mastering the use of functions</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="functions.html"><a href="functions.html#functions-with-a-variable-number-of-arguments-...-adapting-to-different-situations"><i class="fa fa-check"></i><b>2.3.1</b> Functions with a variable number of arguments (<code>...</code>): Adapting to different situations</a></li>
<li class="chapter" data-level="2.3.2" data-path="functions.html"><a href="functions.html#variable-scope-local-and-global-variables"><i class="fa fa-check"></i><b>2.3.2</b> Variable scope: local and global variables</a></li>
<li class="chapter" data-level="2.3.3" data-path="functions.html"><a href="functions.html#examples-functions-to-calculate-taxes-discounts-etc."><i class="fa fa-check"></i><b>2.3.3</b> Examples: functions to calculate taxes, discounts, etc.</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="functions.html"><a href="functions.html#higher-order-functions"><i class="fa fa-check"></i><b>2.4</b> Higher-order functions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="functions.html"><a href="functions.html#lapply-and-sapply-applying-a-function-to-each-element"><i class="fa fa-check"></i><b>2.4.1</b> <code>lapply()</code> and <code>sapply()</code>: applying a function to each element</a></li>
<li class="chapter" data-level="2.4.2" data-path="functions.html"><a href="functions.html#apply-applying-a-function-to-rows-or-columns"><i class="fa fa-check"></i><b>2.4.2</b> <code>apply()</code>: applying a function to rows or columns</a></li>
<li class="chapter" data-level="2.4.3" data-path="functions.html"><a href="functions.html#mapply-applying-a-function-to-multiple-arguments"><i class="fa fa-check"></i><b>2.4.3</b> <code>mapply()</code>: applying a function to multiple arguments</a></li>
<li class="chapter" data-level="2.4.4" data-path="functions.html"><a href="functions.html#examples-data-analysis-with-higher-order-functions"><i class="fa fa-check"></i><b>2.4.4</b> Examples: data analysis with higher-order functions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="functions.html"><a href="functions.html#closures-functions-with-memory"><i class="fa fa-check"></i><b>2.5</b> Closures: functions with memory</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="functions.html"><a href="functions.html#concept-functions-that-remember"><i class="fa fa-check"></i><b>2.5.1</b> Concept: functions that “remember”</a></li>
<li class="chapter" data-level="2.5.2" data-path="functions.html"><a href="functions.html#applications-creating-counters-functions-with-internal-state"><i class="fa fa-check"></i><b>2.5.2</b> Applications: creating counters, functions with internal state</a></li>
<li class="chapter" data-level="2.5.3" data-path="functions.html"><a href="functions.html#examples-simulating-a-game-creating-an-operation-history"><i class="fa fa-check"></i><b>2.5.3</b> Examples: simulating a game, creating an operation history</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="functions.html"><a href="functions.html#debugging-and-error-handling-solving-the-mysteries-of-your-code"><i class="fa fa-check"></i><b>2.6</b> Debugging and error handling: solving the mysteries of your code</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="functions.html"><a href="functions.html#identifying-errors-common-error-messages-in-r"><i class="fa fa-check"></i><b>2.6.1</b> Identifying errors: common error messages in R</a></li>
<li class="chapter" data-level="2.6.2" data-path="functions.html"><a href="functions.html#debugging-tools-debug-traceback"><i class="fa fa-check"></i><b>2.6.2</b> Debugging tools: <code>debug()</code>, <code>traceback()</code></a></li>
<li class="chapter" data-level="2.6.3" data-path="functions.html"><a href="functions.html#error-handling-trycatch"><i class="fa fa-check"></i><b>2.6.3</b> Error handling: <code>tryCatch()</code></a></li>
<li class="chapter" data-level="2.6.4" data-path="functions.html"><a href="functions.html#examples-debugging-functions-with-errors-handling-exceptions"><i class="fa fa-check"></i><b>2.6.4</b> Examples: debugging functions with errors, handling exceptions</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="functions.html"><a href="functions.html#exercises-1"><i class="fa fa-check"></i><b>2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>3</b> Data Frames</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-frames.html"><a href="data-frames.html#introduction-to-data-frames"><i class="fa fa-check"></i><b>3.1</b> Introduction to Data Frames</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-frames.html"><a href="data-frames.html#what-are-data-frames"><i class="fa fa-check"></i><b>3.1.1</b> What are data frames?</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-frames.html"><a href="data-frames.html#why-data-frames"><i class="fa fa-check"></i><b>3.1.2</b> Why data frames?</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-frames.html"><a href="data-frames.html#data-frames-in-action-exploring-information-about-the-united-states"><i class="fa fa-check"></i><b>3.1.3</b> Data Frames in action: exploring information about the United States</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-frames.html"><a href="data-frames.html#creating-data-frames-building-your-database-for-the-move"><i class="fa fa-check"></i><b>3.2</b> Creating Data Frames: Building your database for the move</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-frames.html"><a href="data-frames.html#importing-data-from-files-csv-excel"><i class="fa fa-check"></i><b>3.2.1</b> Importing data from files: CSV, Excel</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-frames.html"><a href="data-frames.html#creating-data-frames-manually"><i class="fa fa-check"></i><b>3.2.2</b> Creating data frames manually</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-frames.html"><a href="data-frames.html#examples"><i class="fa fa-check"></i><b>3.2.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-frames.html"><a href="data-frames.html#exploring-data-frames-discovering-the-secrets-of-your-data"><i class="fa fa-check"></i><b>3.3</b> Exploring Data Frames: Discovering the secrets of your data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-frames.html"><a href="data-frames.html#accessing-rows-columns-and-cells"><i class="fa fa-check"></i><b>3.3.1</b> Accessing rows, columns, and cells</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-frames.html"><a href="data-frames.html#functions-for-exploring-data-frames"><i class="fa fa-check"></i><b>3.3.2</b> Functions for exploring data frames</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-frames.html"><a href="data-frames.html#examples-exploring-data-frames-with-move-information"><i class="fa fa-check"></i><b>3.3.3</b> Examples: exploring data frames with move information</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-frames.html"><a href="data-frames.html#manipulating-data-frames-transforming-your-data"><i class="fa fa-check"></i><b>3.4</b> Manipulating Data Frames: Transforming your data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-frames.html"><a href="data-frames.html#introduction-to-the-pipeline-operator"><i class="fa fa-check"></i><b>3.4.1</b> Introduction to the pipeline operator (<code>|&gt;</code>)</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-frames.html"><a href="data-frames.html#transforming-a-table-with-mutate"><i class="fa fa-check"></i><b>3.4.2</b> Transforming a table with <code>mutate()</code></a></li>
<li class="chapter" data-level="3.4.3" data-path="data-frames.html"><a href="data-frames.html#filtering-data-selecting-cities-that-interest-you"><i class="fa fa-check"></i><b>3.4.3</b> Filtering data: selecting cities that interest you</a></li>
<li class="chapter" data-level="3.4.4" data-path="data-frames.html"><a href="data-frames.html#sorting-data-finding-the-safest-cities"><i class="fa fa-check"></i><b>3.4.4</b> Sorting data: finding the safest cities</a></li>
<li class="chapter" data-level="3.4.5" data-path="data-frames.html"><a href="data-frames.html#aggregating-and-summarizing-data-obtaining-general-overview"><i class="fa fa-check"></i><b>3.4.5</b> Aggregating and summarizing data: obtaining general overview</a></li>
<li class="chapter" data-level="3.4.6" data-path="data-frames.html"><a href="data-frames.html#joining-data-frames-combining-information"><i class="fa fa-check"></i><b>3.4.6</b> Joining data frames: combining information</a></li>
<li class="chapter" data-level="3.4.7" data-path="data-frames.html"><a href="data-frames.html#examples-1"><i class="fa fa-check"></i><b>3.4.7</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-frames.html"><a href="data-frames.html#exercises-2"><i class="fa fa-check"></i><b>3.5</b> Exercises</a></li>
<li class="chapter" data-level="3.6" data-path="data-frames.html"><a href="data-frames.html#data-frames-in-plots"><i class="fa fa-check"></i><b>3.6</b> Data frames in plots</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-frames.html"><a href="data-frames.html#scatter-plots"><i class="fa fa-check"></i><b>3.6.1</b> Scatter plots</a></li>
<li class="chapter" data-level="3.6.2" data-path="data-frames.html"><a href="data-frames.html#histograms"><i class="fa fa-check"></i><b>3.6.2</b> Histograms</a></li>
<li class="chapter" data-level="3.6.3" data-path="data-frames.html"><a href="data-frames.html#box-plot"><i class="fa fa-check"></i><b>3.6.3</b> Box plot</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-frames.html"><a href="data-frames.html#data-interpretation"><i class="fa fa-check"></i><b>3.7</b> Data interpretation</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="data-frames.html"><a href="data-frames.html#quartiles"><i class="fa fa-check"></i><b>3.7.1</b> Quartiles</a></li>
<li class="chapter" data-level="3.7.2" data-path="data-frames.html"><a href="data-frames.html#interpretation-of-box-plot"><i class="fa fa-check"></i><b>3.7.2</b> Interpretation of box plot</a></li>
<li class="chapter" data-level="3.7.3" data-path="data-frames.html"><a href="data-frames.html#examples-2"><i class="fa fa-check"></i><b>3.7.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="data-frames.html"><a href="data-frames.html#exercises-3"><i class="fa fa-check"></i><b>3.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="advanced-techniques.html"><a href="advanced-techniques.html"><i class="fa fa-check"></i><b>4</b> Advanced Techniques</a>
<ul>
<li class="chapter" data-level="4.1" data-path="advanced-techniques.html"><a href="advanced-techniques.html#metaprogramming-writing-code-that-writes-code"><i class="fa fa-check"></i><b>4.1</b> Metaprogramming: writing code that writes code</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="advanced-techniques.html"><a href="advanced-techniques.html#manipulating-expressions-the-art-of-sculpting-code"><i class="fa fa-check"></i><b>4.1.1</b> Manipulating expressions: The art of sculpting code</a></li>
<li class="chapter" data-level="4.1.2" data-path="advanced-techniques.html"><a href="advanced-techniques.html#examples-3"><i class="fa fa-check"></i><b>4.1.2</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="advanced-techniques.html"><a href="advanced-techniques.html#functional-programming-a-new-paradigm"><i class="fa fa-check"></i><b>4.2</b> Functional programming: a new paradigm</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="advanced-techniques.html"><a href="advanced-techniques.html#basic-principles-of-functional-programming"><i class="fa fa-check"></i><b>4.2.1</b> Basic principles of functional programming</a></li>
<li class="chapter" data-level="4.2.2" data-path="advanced-techniques.html"><a href="advanced-techniques.html#higher-order-functions-in-r"><i class="fa fa-check"></i><b>4.2.2</b> Higher-order functions in R</a></li>
<li class="chapter" data-level="4.2.3" data-path="advanced-techniques.html"><a href="advanced-techniques.html#examples-4"><i class="fa fa-check"></i><b>4.2.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="advanced-techniques.html"><a href="advanced-techniques.html#r6-the-future-of-oop-in-r"><i class="fa fa-check"></i><b>4.3</b> R6: The future of OOP in R</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="advanced-techniques.html"><a href="advanced-techniques.html#the-r6-package-classes-methods-encapsulation-and-inheritance"><i class="fa fa-check"></i><b>4.3.1</b> The R6 package: Classes, methods, encapsulation, and inheritance</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="advanced-techniques.html"><a href="advanced-techniques.html#exercises-4"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>II Data Visualization and Summarization</b></span></li>
<li class="chapter" data-level="5" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html"><i class="fa fa-check"></i><b>5</b> Ggplot and dplyr</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#creating-the-ggplot-object"><i class="fa fa-check"></i><b>5.1</b> Creating the ggplot object</a></li>
<li class="chapter" data-level="5.2" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#aesthetic-mapping-layer"><i class="fa fa-check"></i><b>5.2</b> Aesthetic mapping layer</a></li>
<li class="chapter" data-level="5.3" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#geoms-layer"><i class="fa fa-check"></i><b>5.3</b> Geoms layer</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#tweaking-aes-and-geoms"><i class="fa fa-check"></i><b>5.3.1</b> Tweaking aes and geoms</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#scale-layer"><i class="fa fa-check"></i><b>5.4</b> Scale layer</a></li>
<li class="chapter" data-level="5.5" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#label-title-and-legend-layer"><i class="fa fa-check"></i><b>5.5</b> Label, title and legend layer</a></li>
<li class="chapter" data-level="5.6" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#reference-lines"><i class="fa fa-check"></i><b>5.6</b> Reference lines</a></li>
<li class="chapter" data-level="5.7" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#changing-the-plot-style"><i class="fa fa-check"></i><b>5.7</b> Changing the plot style</a></li>
<li class="chapter" data-level="5.8" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#summarizing-data-with-dplyr"><i class="fa fa-check"></i><b>5.8</b> Summarizing data with dplyr</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#summarize-function"><i class="fa fa-check"></i><b>5.8.1</b> Summarize function</a></li>
<li class="chapter" data-level="5.8.2" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#group-by-function"><i class="fa fa-check"></i><b>5.8.2</b> Group By Function</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="ggplot-and-dplyr.html"><a href="ggplot-and-dplyr.html#exercises-5"><i class="fa fa-check"></i><b>5.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="gapminder.html"><a href="gapminder.html"><i class="fa fa-check"></i><b>6</b> Gapminder</a>
<ul>
<li class="chapter" data-level="6.1" data-path="gapminder.html"><a href="gapminder.html#initial-gapminder-plots"><i class="fa fa-check"></i><b>6.1</b> Initial gapminder plots</a></li>
<li class="chapter" data-level="6.2" data-path="gapminder.html"><a href="gapminder.html#facets"><i class="fa fa-check"></i><b>6.2</b> Facets</a></li>
<li class="chapter" data-level="6.3" data-path="gapminder.html"><a href="gapminder.html#time-series"><i class="fa fa-check"></i><b>6.3</b> Time series</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="gapminder.html"><a href="gapminder.html#individual-time-series"><i class="fa fa-check"></i><b>6.3.1</b> Individual time series</a></li>
<li class="chapter" data-level="6.3.2" data-path="gapminder.html"><a href="gapminder.html#multiple-time-series"><i class="fa fa-check"></i><b>6.3.2</b> Multiple time series</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="gapminder.html"><a href="gapminder.html#exercises-6"><i class="fa fa-check"></i><b>6.4</b> Exercises</a></li>
<li class="chapter" data-level="6.5" data-path="gapminder.html"><a href="gapminder.html#histograms-with-ggplot"><i class="fa fa-check"></i><b>6.5</b> Histograms with ggplot</a></li>
<li class="chapter" data-level="6.6" data-path="gapminder.html"><a href="gapminder.html#box-plots-with-ggplot"><i class="fa fa-check"></i><b>6.6</b> Box plots with ggplot</a></li>
<li class="chapter" data-level="6.7" data-path="gapminder.html"><a href="gapminder.html#comparison-of-distributions"><i class="fa fa-check"></i><b>6.7</b> Comparison of distributions</a></li>
<li class="chapter" data-level="6.8" data-path="gapminder.html"><a href="gapminder.html#exercises-7"><i class="fa fa-check"></i><b>6.8</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>III Statistics</b></span></li>
<li class="chapter" data-level="" data-path="introduction-to-probabilities.html"><a href="introduction-to-probabilities.html"><i class="fa fa-check"></i>Introduction to Probabilities</a></li>
<li class="chapter" data-level="7" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html"><i class="fa fa-check"></i><b>7</b> Discrete Probabilities</a>
<ul>
<li class="chapter" data-level="7.1" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#calculation-using-the-mathematical-definition"><i class="fa fa-check"></i><b>7.1</b> Calculation using the mathematical definition</a></li>
<li class="chapter" data-level="7.2" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#monte-carlo-simulation-for-discrete-variables"><i class="fa fa-check"></i><b>7.2</b> Monte Carlo Simulation for Discrete Variables</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#other-functions-to-create-vectors"><i class="fa fa-check"></i><b>7.2.1</b> Other functions to create vectors</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#exercises-8"><i class="fa fa-check"></i><b>7.3</b> Exercises</a></li>
<li class="chapter" data-level="7.4" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#combinations-and-permutations"><i class="fa fa-check"></i><b>7.4</b> Combinations and Permutations</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#permutations"><i class="fa fa-check"></i><b>7.4.1</b> Permutations</a></li>
<li class="chapter" data-level="7.4.2" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#combinations"><i class="fa fa-check"></i><b>7.4.2</b> Combinations</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#sufficient-experiments-with-monte-carlo-simulation"><i class="fa fa-check"></i><b>7.5</b> Sufficient Experiments with Monte Carlo Simulation</a></li>
<li class="chapter" data-level="7.6" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#case-birthdays-in-classrooms"><i class="fa fa-check"></i><b>7.6</b> Case: Birthdays in Classrooms</a></li>
<li class="chapter" data-level="7.7" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#exercises-9"><i class="fa fa-check"></i><b>7.7</b> Exercises</a></li>
<li class="chapter" data-level="7.8" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#integrative-exercise"><i class="fa fa-check"></i><b>7.8</b> Integrative Exercise</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="discrete-probabilities.html"><a href="discrete-probabilities.html#monty-hall-problem"><i class="fa fa-check"></i><b>7.8.1</b> Monty Hall Problem</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html"><i class="fa fa-check"></i><b>8</b> Continuous Probabilities</a>
<ul>
<li class="chapter" data-level="8.1" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#empirical-distribution"><i class="fa fa-check"></i><b>8.1</b> Empirical Distribution</a></li>
<li class="chapter" data-level="8.2" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#theoretical-distribution"><i class="fa fa-check"></i><b>8.2</b> Theoretical Distribution</a></li>
<li class="chapter" data-level="8.3" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#exercises-10"><i class="fa fa-check"></i><b>8.3</b> Exercises</a></li>
<li class="chapter" data-level="8.4" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#monte-carlo-simulation-for-continuous-variables"><i class="fa fa-check"></i><b>8.4</b> Monte Carlo Simulation for Continuous Variables</a></li>
<li class="chapter" data-level="8.5" data-path="continuous-probabilities.html"><a href="continuous-probabilities.html#exercises-11"><i class="fa fa-check"></i><b>8.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="statistical-inference.html"><a href="statistical-inference.html"><i class="fa fa-check"></i><b>9</b> Statistical Inference</a>
<ul>
<li class="chapter" data-level="9.1" data-path="statistical-inference.html"><a href="statistical-inference.html#expected-value"><i class="fa fa-check"></i><b>9.1</b> Expected Value</a></li>
<li class="chapter" data-level="9.2" data-path="statistical-inference.html"><a href="statistical-inference.html#central-limit-theorem"><i class="fa fa-check"></i><b>9.2</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="9.3" data-path="statistical-inference.html"><a href="statistical-inference.html#exercises-12"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
<li class="chapter" data-level="9.4" data-path="statistical-inference.html"><a href="statistical-inference.html#parameter-estimation-method"><i class="fa fa-check"></i><b>9.4</b> Parameter Estimation Method</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="statistical-inference.html"><a href="statistical-inference.html#margin-of-error"><i class="fa fa-check"></i><b>9.4.1</b> Margin of Error</a></li>
<li class="chapter" data-level="9.4.2" data-path="statistical-inference.html"><a href="statistical-inference.html#confidence-intervals"><i class="fa fa-check"></i><b>9.4.2</b> Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="statistical-inference.html"><a href="statistical-inference.html#spread-estimation"><i class="fa fa-check"></i><b>9.5</b> Spread Estimation</a></li>
<li class="chapter" data-level="9.6" data-path="statistical-inference.html"><a href="statistical-inference.html#estimates-outside-election-polls"><i class="fa fa-check"></i><b>9.6</b> Estimates Outside Election Polls</a></li>
<li class="chapter" data-level="9.7" data-path="statistical-inference.html"><a href="statistical-inference.html#exercises-13"><i class="fa fa-check"></i><b>9.7</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>IV Data Wrangling</b></span></li>
<li class="chapter" data-level="" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="10" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html"><i class="fa fa-check"></i><b>10</b> Data import and consolidation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#importing-from-files"><i class="fa fa-check"></i><b>10.1</b> Importing from files</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#working-directory"><i class="fa fa-check"></i><b>10.1.1</b> Working Directory</a></li>
<li class="chapter" data-level="10.1.2" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#readr-and-readxl-packages"><i class="fa fa-check"></i><b>10.1.2</b> readr and readxl packages</a></li>
<li class="chapter" data-level="10.1.3" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#importing-files-from-the-internet"><i class="fa fa-check"></i><b>10.1.3</b> Importing files from the internet</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#tidy-data"><i class="fa fa-check"></i><b>10.2</b> Tidy data</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#transforming-to-tidy-data"><i class="fa fa-check"></i><b>10.2.1</b> Transforming to tidy data</a></li>
<li class="chapter" data-level="10.2.2" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#separate-function"><i class="fa fa-check"></i><b>10.2.2</b> separate function</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#exercises-14"><i class="fa fa-check"></i><b>10.3</b> Exercises</a></li>
<li class="chapter" data-level="10.4" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#joining-tables"><i class="fa fa-check"></i><b>10.4</b> Joining tables</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#join-functions"><i class="fa fa-check"></i><b>10.4.1</b> Join functions</a></li>
<li class="chapter" data-level="10.4.2" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#joining-without-a-common-identifier"><i class="fa fa-check"></i><b>10.4.2</b> Joining without a common identifier</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#web-scraping"><i class="fa fa-check"></i><b>10.5</b> Web Scraping</a></li>
<li class="chapter" data-level="10.6" data-path="data-import-and-consolidation.html"><a href="data-import-and-consolidation.html#exercises-15"><i class="fa fa-check"></i><b>10.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html"><i class="fa fa-check"></i><b>11</b> String processing and text mining</a>
<ul>
<li class="chapter" data-level="11.1" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#basic-functions"><i class="fa fa-check"></i><b>11.1</b> Basic functions</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#replacing-characters"><i class="fa fa-check"></i><b>11.1.1</b> Replacing characters</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#regular-expressions"><i class="fa fa-check"></i><b>11.2</b> Regular expressions</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#alternation"><i class="fa fa-check"></i><b>11.2.1</b> Alternation</a></li>
<li class="chapter" data-level="11.2.2" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#anchoring"><i class="fa fa-check"></i><b>11.2.2</b> Anchoring</a></li>
<li class="chapter" data-level="11.2.3" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#repetitions"><i class="fa fa-check"></i><b>11.2.3</b> Repetitions</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#from-strings-to-dates"><i class="fa fa-check"></i><b>11.3</b> From strings to dates</a></li>
<li class="chapter" data-level="11.4" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#exercises-16"><i class="fa fa-check"></i><b>11.4</b> Exercises</a></li>
<li class="chapter" data-level="11.5" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#text-mining-word-cloud"><i class="fa fa-check"></i><b>11.5</b> Text Mining: Word Cloud</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#importing-data"><i class="fa fa-check"></i><b>11.5.1</b> Importing data</a></li>
<li class="chapter" data-level="11.5.2" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#text-cleaning"><i class="fa fa-check"></i><b>11.5.2</b> Text cleaning</a></li>
<li class="chapter" data-level="11.5.3" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#creating-the-corpus"><i class="fa fa-check"></i><b>11.5.3</b> Creating the Corpus</a></li>
<li class="chapter" data-level="11.5.4" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#nd-data-cleaning"><i class="fa fa-check"></i><b>11.5.4</b> 2nd Data Cleaning</a></li>
<li class="chapter" data-level="11.5.5" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#word-frequency"><i class="fa fa-check"></i><b>11.5.5</b> Word frequency</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#text-mining-sentiment-analysis"><i class="fa fa-check"></i><b>11.6</b> Text Mining: Sentiment Analysis</a></li>
<li class="chapter" data-level="11.7" data-path="string-processing-and-text-mining.html"><a href="string-processing-and-text-mining.html#exercises-17"><i class="fa fa-check"></i><b>11.7</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>V Machine learning</b></span></li>
<li class="chapter" data-level="" data-path="introduction-2.html"><a href="introduction-2.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="12" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>12</b> Supervised Learning</a>
<ul>
<li class="chapter" data-level="12.1" data-path="supervised-learning.html"><a href="supervised-learning.html#classification-and-regression"><i class="fa fa-check"></i><b>12.1</b> Classification and Regression</a></li>
<li class="chapter" data-level="12.2" data-path="supervised-learning.html"><a href="supervised-learning.html#knn-k-nearest-neighbors"><i class="fa fa-check"></i><b>12.2</b> kNN: k-Nearest Neighbors</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="supervised-learning.html"><a href="supervised-learning.html#two-variables-as-input"><i class="fa fa-check"></i><b>12.2.1</b> Two variables as input</a></li>
<li class="chapter" data-level="12.2.2" data-path="supervised-learning.html"><a href="supervised-learning.html#multiple-variables-as-input"><i class="fa fa-check"></i><b>12.2.2</b> Multiple variables as input</a></li>
<li class="chapter" data-level="12.2.3" data-path="supervised-learning.html"><a href="supervised-learning.html#diverse-values-of-k"><i class="fa fa-check"></i><b>12.2.3</b> Diverse values of k</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="supervised-learning.html"><a href="supervised-learning.html#tidymodels-framework"><i class="fa fa-check"></i><b>12.3</b> tidymodels Framework</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="supervised-learning.html"><a href="supervised-learning.html#creation-of-training-and-test-data"><i class="fa fa-check"></i><b>12.3.1</b> Creation of training and test data</a></li>
<li class="chapter" data-level="12.3.2" data-path="supervised-learning.html"><a href="supervised-learning.html#training-our-prediction-algorithm"><i class="fa fa-check"></i><b>12.3.2</b> Training our prediction algorithm</a></li>
<li class="chapter" data-level="12.3.3" data-path="supervised-learning.html"><a href="supervised-learning.html#data-pre-processing-with-recipes"><i class="fa fa-check"></i><b>12.3.3</b> Data Pre-processing with Recipes</a></li>
<li class="chapter" data-level="12.3.4" data-path="supervised-learning.html"><a href="supervised-learning.html#creating-a-workflow"><i class="fa fa-check"></i><b>12.3.4</b> Creating a Workflow</a></li>
<li class="chapter" data-level="12.3.5" data-path="supervised-learning.html"><a href="supervised-learning.html#parameter-tuning-with-cross-validation"><i class="fa fa-check"></i><b>12.3.5</b> Parameter Tuning with Cross-Validation</a></li>
<li class="chapter" data-level="12.3.6" data-path="supervised-learning.html"><a href="supervised-learning.html#finalizing-the-model"><i class="fa fa-check"></i><b>12.3.6</b> Finalizing the Model</a></li>
<li class="chapter" data-level="12.3.7" data-path="supervised-learning.html"><a href="supervised-learning.html#testing-the-prediction-model"><i class="fa fa-check"></i><b>12.3.7</b> Testing the prediction model</a></li>
<li class="chapter" data-level="12.3.8" data-path="supervised-learning.html"><a href="supervised-learning.html#model-evaluation-with-yardstick"><i class="fa fa-check"></i><b>12.3.8</b> Model Evaluation with yardstick</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="supervised-learning.html"><a href="supervised-learning.html#confusion-matrix"><i class="fa fa-check"></i><b>12.4</b> Confusion Matrix</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="supervised-learning.html"><a href="supervised-learning.html#accuracy"><i class="fa fa-check"></i><b>12.4.1</b> Accuracy</a></li>
<li class="chapter" data-level="12.4.2" data-path="supervised-learning.html"><a href="supervised-learning.html#sensitivity"><i class="fa fa-check"></i><b>12.4.2</b> Sensitivity</a></li>
<li class="chapter" data-level="12.4.3" data-path="supervised-learning.html"><a href="supervised-learning.html#specificity"><i class="fa fa-check"></i><b>12.4.3</b> Specificity</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="supervised-learning.html"><a href="supervised-learning.html#exercises-18"><i class="fa fa-check"></i><b>12.5</b> Exercises</a></li>
<li class="chapter" data-level="12.6" data-path="supervised-learning.html"><a href="supervised-learning.html#simple-linear-regression"><i class="fa fa-check"></i><b>12.6</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="12.7" data-path="supervised-learning.html"><a href="supervised-learning.html#multiple-linear-regression"><i class="fa fa-check"></i><b>12.7</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="12.8" data-path="supervised-learning.html"><a href="supervised-learning.html#standard-method-for-evaluating-accuracy"><i class="fa fa-check"></i><b>12.8</b> Standard Method for Evaluating Accuracy</a></li>
<li class="chapter" data-level="12.9" data-path="supervised-learning.html"><a href="supervised-learning.html#selection-of-the-most-optimal-model"><i class="fa fa-check"></i><b>12.9</b> Selection of the Most Optimal Model</a>
<ul>
<li class="chapter" data-level="12.9.1" data-path="supervised-learning.html"><a href="supervised-learning.html#k-nearest-neighbors-model"><i class="fa fa-check"></i><b>12.9.1</b> k-Nearest Neighbors Model</a></li>
<li class="chapter" data-level="12.9.2" data-path="supervised-learning.html"><a href="supervised-learning.html#generalized-linear-model---glm"><i class="fa fa-check"></i><b>12.9.2</b> Generalized Linear Model - GLM</a></li>
<li class="chapter" data-level="12.9.3" data-path="supervised-learning.html"><a href="supervised-learning.html#random-forest-model"><i class="fa fa-check"></i><b>12.9.3</b> Random Forest Model</a></li>
<li class="chapter" data-level="12.9.4" data-path="supervised-learning.html"><a href="supervised-learning.html#support-vector-machine-model---svm"><i class="fa fa-check"></i><b>12.9.4</b> Support Vector Machine Model - SVM</a></li>
<li class="chapter" data-level="12.9.5" data-path="supervised-learning.html"><a href="supervised-learning.html#naive-bayes-model"><i class="fa fa-check"></i><b>12.9.5</b> Naive Bayes Model</a></li>
<li class="chapter" data-level="12.9.6" data-path="supervised-learning.html"><a href="supervised-learning.html#model-comparison"><i class="fa fa-check"></i><b>12.9.6</b> Model Comparison</a></li>
<li class="chapter" data-level="12.9.7" data-path="supervised-learning.html"><a href="supervised-learning.html#predicting-using-the-best-model"><i class="fa fa-check"></i><b>12.9.7</b> Predicting using the best model</a></li>
</ul></li>
<li class="chapter" data-level="12.10" data-path="supervised-learning.html"><a href="supervised-learning.html#exercises-19"><i class="fa fa-check"></i><b>12.10</b> Exercises</a></li>
<li class="chapter" data-level="12.11" data-path="supervised-learning.html"><a href="supervised-learning.html#ethics-bias-in-algorithmic-decision-making"><i class="fa fa-check"></i><b>12.11</b> Ethics: Bias in Algorithmic Decision Making</a>
<ul>
<li class="chapter" data-level="12.11.1" data-path="supervised-learning.html"><a href="supervised-learning.html#the-risk-of-proxy-variables"><i class="fa fa-check"></i><b>12.11.1</b> The Risk of Proxy Variables</a></li>
<li class="chapter" data-level="12.11.2" data-path="supervised-learning.html"><a href="supervised-learning.html#feedback-loops"><i class="fa fa-check"></i><b>12.11.2</b> Feedback Loops</a></li>
<li class="chapter" data-level="12.11.3" data-path="supervised-learning.html"><a href="supervised-learning.html#what-can-we-do"><i class="fa fa-check"></i><b>12.11.3</b> What can we do?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>13</b> Unsupervised Learning</a>
<ul>
<li class="chapter" data-level="13.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-clustering"><i class="fa fa-check"></i><b>13.1</b> K-Means Clustering</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-with-k-2"><i class="fa fa-check"></i><b>13.1.1</b> Clustering with k = 2</a></li>
<li class="chapter" data-level="13.1.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-with-k-3"><i class="fa fa-check"></i><b>13.1.2</b> Clustering with k &gt;= 3</a></li>
<li class="chapter" data-level="13.1.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#determination-of-optimal-clusters"><i class="fa fa-check"></i><b>13.1.3</b> Determination of Optimal Clusters</a></li>
<li class="chapter" data-level="13.1.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#k-means-for-more-than-2-variables"><i class="fa fa-check"></i><b>13.1.4</b> k-means for more than 2 variables</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#hierarchical-clustering"><i class="fa fa-check"></i><b>13.2</b> Hierarchical Clustering</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#clustering-with-two-variables"><i class="fa fa-check"></i><b>13.2.1</b> Clustering with two variables</a></li>
<li class="chapter" data-level="13.2.2" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#determination-of-optimal-clusters-1"><i class="fa fa-check"></i><b>13.2.2</b> Determination of Optimal Clusters</a></li>
<li class="chapter" data-level="13.2.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#obtain-the-grouping"><i class="fa fa-check"></i><b>13.2.3</b> Obtain the grouping</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#dimensionality-reduction"><i class="fa fa-check"></i><b>13.3</b> Dimensionality Reduction</a></li>
<li class="chapter" data-level="13.4" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html#exercises-20"><i class="fa fa-check"></i><b>13.4</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>VI Real Cases</b></span></li>
<li class="chapter" data-level="" data-path="introduction-3.html"><a href="introduction-3.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="14" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html"><i class="fa fa-check"></i><b>14</b> Case Study: Real Estate Market Analysis</a>
<ul>
<li class="chapter" data-level="14.1" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#objectives"><i class="fa fa-check"></i><b>14.1</b> Objectives</a></li>
<li class="chapter" data-level="14.2" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#loading-libraries"><i class="fa fa-check"></i><b>14.2</b> Loading Libraries</a></li>
<li class="chapter" data-level="14.3" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#exploring-the-data"><i class="fa fa-check"></i><b>14.3</b> Exploring the Data</a></li>
<li class="chapter" data-level="14.4" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#data-cleaning"><i class="fa fa-check"></i><b>14.4</b> Data Cleaning</a></li>
<li class="chapter" data-level="14.5" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#exploratory-analysis"><i class="fa fa-check"></i><b>14.5</b> Exploratory Analysis</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#market-volume-over-time"><i class="fa fa-check"></i><b>14.5.1</b> Market Volume Over Time</a></li>
<li class="chapter" data-level="14.5.2" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#comparing-cities"><i class="fa fa-check"></i><b>14.5.2</b> Comparing Cities</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#creating-indicators"><i class="fa fa-check"></i><b>14.6</b> Creating Indicators</a></li>
<li class="chapter" data-level="14.7" data-path="case-study-real-estate-market-analysis.html"><a href="case-study-real-estate-market-analysis.html#conclusions"><i class="fa fa-check"></i><b>14.7</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html"><i class="fa fa-check"></i><b>15</b> Google Analytics from R</a>
<ul>
<li class="chapter" data-level="15.1" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html#problem"><i class="fa fa-check"></i><b>15.1</b> Problem</a></li>
<li class="chapter" data-level="15.2" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html#access-to-data"><i class="fa fa-check"></i><b>15.2</b> Access to data</a></li>
<li class="chapter" data-level="15.3" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html#visualization"><i class="fa fa-check"></i><b>15.3</b> Visualization</a></li>
<li class="chapter" data-level="15.4" data-path="google-analytics-from-r.html"><a href="google-analytics-from-r.html#conclusion"><i class="fa fa-check"></i><b>15.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="genai-intro.html"><a href="genai-intro.html"><i class="fa fa-check"></i><b>16</b> Data Science in the Age of AI</a>
<ul>
<li class="chapter" data-level="16.1" data-path="genai-intro.html"><a href="genai-intro.html#what-is-a-large-language-model"><i class="fa fa-check"></i><b>16.1</b> What is a Large Language Model?</a></li>
<li class="chapter" data-level="16.2" data-path="genai-intro.html"><a href="genai-intro.html#coding-with-ai-the-pair-programmer"><i class="fa fa-check"></i><b>16.2</b> Coding with AI: The “Pair Programmer”</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="genai-intro.html"><a href="genai-intro.html#explaining-complex-code"><i class="fa fa-check"></i><b>16.2.1</b> 1. Explaining Complex Code</a></li>
<li class="chapter" data-level="16.2.2" data-path="genai-intro.html"><a href="genai-intro.html#generating-boilerplate"><i class="fa fa-check"></i><b>16.2.2</b> 2. Generating Boilerplate</a></li>
<li class="chapter" data-level="16.2.3" data-path="genai-intro.html"><a href="genai-intro.html#regex-the-ultimate-use-case"><i class="fa fa-check"></i><b>16.2.3</b> 3. Regex: The Ultimate Use Case</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="genai-intro.html"><a href="genai-intro.html#ethics-risks-in-the-ai-era"><i class="fa fa-check"></i><b>16.3</b> Ethics &amp; Risks in the AI Era</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="genai-intro.html"><a href="genai-intro.html#hallucinations-fabrication"><i class="fa fa-check"></i><b>16.3.1</b> 1. Hallucinations &amp; Fabrication</a></li>
<li class="chapter" data-level="16.3.2" data-path="genai-intro.html"><a href="genai-intro.html#the-reproducibility-crisis"><i class="fa fa-check"></i><b>16.3.2</b> 2. The Reproducibility Crisis</a></li>
<li class="chapter" data-level="16.3.3" data-path="genai-intro.html"><a href="genai-intro.html#data-privacy-ip"><i class="fa fa-check"></i><b>16.3.3</b> 3. Data Privacy &amp; IP</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="genai-api.html"><a href="genai-api.html"><i class="fa fa-check"></i><b>17</b> LLMs as an Analysis Engine</a>
<ul>
<li class="chapter" data-level="17.1" data-path="genai-api.html"><a href="genai-api.html#the-evolution-of-nlp"><i class="fa fa-check"></i><b>17.1</b> The Evolution of NLP</a></li>
<li class="chapter" data-level="17.2" data-path="genai-api.html"><a href="genai-api.html#interacting-with-apis-from-r"><i class="fa fa-check"></i><b>17.2</b> Interacting with APIs from R</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="genai-api.html"><a href="genai-api.html#prerequisite-api-keys"><i class="fa fa-check"></i><b>17.2.1</b> Prerequisite: API Keys</a></li>
<li class="chapter" data-level="17.2.2" data-path="genai-api.html"><a href="genai-api.html#making-a-request"><i class="fa fa-check"></i><b>17.2.2</b> Making a Request</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="genai-api.html"><a href="genai-api.html#zero-shot-classification"><i class="fa fa-check"></i><b>17.3</b> Zero-Shot Classification</a></li>
<li class="chapter" data-level="17.4" data-path="genai-api.html"><a href="genai-api.html#text-cleaning-with-llms"><i class="fa fa-check"></i><b>17.4</b> Text Cleaning with LLMs</a></li>
<li class="chapter" data-level="17.5" data-path="genai-api.html"><a href="genai-api.html#summary"><i class="fa fa-check"></i><b>17.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ethics-checklist.html"><a href="ethics-checklist.html"><i class="fa fa-check"></i><b>18</b> Appendix A: Responsible AI Checklist</a>
<ul>
<li class="chapter" data-level="18.1" data-path="ethics-checklist.html"><a href="ethics-checklist.html#data-quality-lineage"><i class="fa fa-check"></i><b>18.1</b> 1. Data Quality &amp; lineage</a></li>
<li class="chapter" data-level="18.2" data-path="ethics-checklist.html"><a href="ethics-checklist.html#fairness-bias"><i class="fa fa-check"></i><b>18.2</b> 2. Fairness &amp; Bias</a></li>
<li class="chapter" data-level="18.3" data-path="ethics-checklist.html"><a href="ethics-checklist.html#transparency-explainability"><i class="fa fa-check"></i><b>18.3</b> 3. Transparency &amp; Explainability</a></li>
<li class="chapter" data-level="18.4" data-path="ethics-checklist.html"><a href="ethics-checklist.html#genai-specifics"><i class="fa fa-check"></i><b>18.4</b> 4. GenAI Specifics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="advanced-techniques" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Advanced Techniques<a href="advanced-techniques.html#advanced-techniques" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="metaprogramming-writing-code-that-writes-code" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Metaprogramming: writing code that writes code<a href="advanced-techniques.html#metaprogramming-writing-code-that-writes-code" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In previous chapters, we explored different object types in R and how to use functions to manipulate them. Now, we are going to delve into a more advanced concept: <strong>metaprogramming</strong>.</p>
<p>Metaprogramming is a technique that allows us to write code that generates other code. It’s like having a code factory where we can create new functions and expressions dynamically.</p>
<p>Why is this useful? Metaprogramming can be very useful for:</p>
<ul>
<li><strong>Automating repetitive tasks:</strong> If we have to write similar code many times, we can use metaprogramming to generate that code automatically.</li>
<li><strong>Creating more flexible functions:</strong> We can use metaprogramming to create functions that adapt to different situations and data types.</li>
<li><strong>Writing more concise and expressive code:</strong> Metaprogramming allows us to express complex ideas more concisely.</li>
</ul>
<p>In R, metaprogramming is based on the manipulation of <strong>expressions</strong>. An expression is a representation of R code as an object. We can create expressions, modify them, and evaluate them to generate new code.</p>
<div id="manipulating-expressions-the-art-of-sculpting-code" class="section level3 hasAnchor" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Manipulating expressions: The art of sculpting code<a href="advanced-techniques.html#manipulating-expressions-the-art-of-sculpting-code" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In R, metaprogramming relies on manipulating <strong>expressions</strong>. An expression is a representation of R code as an object. Instead of simply executing the code, we can manipulate it as if it were a block of clay, shaping and modifying it to create new expressions and functions.</p>
<p>Think of an expression like a cooking recipe. The recipe contains a set of instructions (ingredients and steps to follow) to create a dish. Similarly, an expression in R contains instructions to perform a task.</p>
<p>R offers us several tools to manipulate expressions, as if they were the hands of a sculptor shaping clay:</p>
<ul>
<li><p><strong><code>quote()</code></strong>: This function takes R code and “freezes” it into an expression, without evaluating it. It’s like taking the cooking recipe and saving it in a book, without preparing it yet.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="advanced-techniques.html#cb169-1" tabindex="-1"></a>my_expression <span class="ot">&lt;-</span> <span class="fu">quote</span>(x <span class="sc">+</span> y)</span>
<span id="cb169-2"><a href="advanced-techniques.html#cb169-2" tabindex="-1"></a>my_expression</span>
<span id="cb169-3"><a href="advanced-techniques.html#cb169-3" tabindex="-1"></a><span class="co">#&gt; x + y</span></span></code></pre></div>
<p>In this example, <code>quote(x + y)</code> creates an expression representing the sum of <code>x</code> and <code>y</code>. The expression is stored in the variable <code>my_expression</code>, but the sum is not performed yet.</p></li>
<li><p><strong><code>substitute()</code></strong>: This function allows us to substitute variables in an expression with their values. It’s like in the cooking recipe, replacing the word “sugar” with the amount of sugar we want to use.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="advanced-techniques.html#cb170-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb170-2"><a href="advanced-techniques.html#cb170-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb170-3"><a href="advanced-techniques.html#cb170-3" tabindex="-1"></a><span class="fu">substitute</span>(x <span class="sc">+</span> y)</span>
<span id="cb170-4"><a href="advanced-techniques.html#cb170-4" tabindex="-1"></a><span class="co">#&gt; x + y</span></span></code></pre></div>
<p>In this example, <code>substitute(x + y)</code> replaces variables <code>x</code> and <code>y</code> with their values (10 and 5, respectively), resulting in the expression <code>10 + 5</code>.</p></li>
<li><p><strong><code>eval()</code></strong>: This function “unfreezes” an expression and evaluates it, executing the code it contains. It’s like taking the cooking recipe from the book and using it to prepare the dish.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="advanced-techniques.html#cb171-1" tabindex="-1"></a><span class="fu">eval</span>(<span class="fu">quote</span>(x <span class="sc">+</span> y))</span>
<span id="cb171-2"><a href="advanced-techniques.html#cb171-2" tabindex="-1"></a><span class="co">#&gt; [1] 15</span></span></code></pre></div>
<p>In this example, <code>eval(quote(x + y))</code> evaluates the expression <code>x + y</code>, performing the sum and returning the result 15.</p></li>
<li><p><strong><code>parse()</code></strong>: This function converts text into an expression. It’s like someone dictating the cooking recipe to us, and we write it down on paper to use later.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="advanced-techniques.html#cb172-1" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="st">&quot;x * y&quot;</span></span>
<span id="cb172-2"><a href="advanced-techniques.html#cb172-2" tabindex="-1"></a>expression <span class="ot">&lt;-</span> <span class="fu">parse</span>(<span class="at">text =</span> text)</span>
<span id="cb172-3"><a href="advanced-techniques.html#cb172-3" tabindex="-1"></a><span class="fu">eval</span>(expression)</span>
<span id="cb172-4"><a href="advanced-techniques.html#cb172-4" tabindex="-1"></a><span class="co">#&gt; [1] 50</span></span></code></pre></div>
<p>In this example, <code>parse(text = text)</code> converts the text <code>"x * y"</code> into an expression representing the multiplication of <code>x</code> and <code>y</code>.</p></li>
</ul>
<p>With these tools, we can manipulate expressions to create new functions, modify the behavior of existing functions, and generate code dynamically.</p>
</div>
<div id="examples-3" class="section level3 hasAnchor" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Examples<a href="advanced-techniques.html#examples-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Metaprogramming might seem like an abstract concept at first, but its applications are very concrete and powerful. Let’s look at some examples of how we can use metaprogramming in R to create dynamic functions and generate code automatically.</p>
<p><strong>Example 1: Creating a function that generates other functions</strong></p>
<p>Imagine you need to create several functions performing similar operations, but with some different parameters. For example, functions adding different constants to a number. Instead of writing each function separately, you can use metaprogramming to create a function that generates these functions dynamically.</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="advanced-techniques.html#cb173-1" tabindex="-1"></a>create_sum_function <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb173-2"><a href="advanced-techniques.html#cb173-2" tabindex="-1"></a>  expression <span class="ot">&lt;-</span> <span class="fu">substitute</span>(<span class="cf">function</span>(x) x <span class="sc">+</span> n)</span>
<span id="cb173-3"><a href="advanced-techniques.html#cb173-3" tabindex="-1"></a>  <span class="fu">eval</span>(expression)</span>
<span id="cb173-4"><a href="advanced-techniques.html#cb173-4" tabindex="-1"></a>}</span>
<span id="cb173-5"><a href="advanced-techniques.html#cb173-5" tabindex="-1"></a></span>
<span id="cb173-6"><a href="advanced-techniques.html#cb173-6" tabindex="-1"></a>sum_5 <span class="ot">&lt;-</span> <span class="fu">create_sum_function</span>(<span class="dv">5</span>)</span>
<span id="cb173-7"><a href="advanced-techniques.html#cb173-7" tabindex="-1"></a>sum_10 <span class="ot">&lt;-</span> <span class="fu">create_sum_function</span>(<span class="dv">10</span>)</span>
<span id="cb173-8"><a href="advanced-techniques.html#cb173-8" tabindex="-1"></a></span>
<span id="cb173-9"><a href="advanced-techniques.html#cb173-9" tabindex="-1"></a><span class="fu">sum_5</span>(<span class="dv">10</span>)</span>
<span id="cb173-10"><a href="advanced-techniques.html#cb173-10" tabindex="-1"></a><span class="co">#&gt; [1] 15</span></span>
<span id="cb173-11"><a href="advanced-techniques.html#cb173-11" tabindex="-1"></a><span class="fu">sum_10</span>(<span class="dv">10</span>)</span>
<span id="cb173-12"><a href="advanced-techniques.html#cb173-12" tabindex="-1"></a><span class="co">#&gt; [1] 20</span></span></code></pre></div>
<p>In this example, the <code>create_sum_function()</code> function receives a number <code>n</code> as an argument and generates a new function adding <code>n</code> to its argument. The <code>substitute()</code> function is used to create an expression representing the function we want to generate, and the <code>eval()</code> function is used to evaluate the expression and create the function.</p>
<p><strong>Example 2: Generating code for data analysis</strong></p>
<p>Suppose you want to perform a data analysis involving several steps, such as filtering data, calculating statistics, and generating a plot. You can use metaprogramming to generate the code for this analysis dynamically, based on specified parameters.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="advanced-techniques.html#cb174-1" tabindex="-1"></a>analyze_data <span class="ot">&lt;-</span> <span class="cf">function</span>(data, filter_cond, column_to_analyze, statistic, plot_type) {</span>
<span id="cb174-2"><a href="advanced-techniques.html#cb174-2" tabindex="-1"></a>  </span>
<span id="cb174-3"><a href="advanced-techniques.html#cb174-3" tabindex="-1"></a>  <span class="co"># Filter data</span></span>
<span id="cb174-4"><a href="advanced-techniques.html#cb174-4" tabindex="-1"></a>  filtered_data <span class="ot">&lt;-</span> <span class="fu">substitute</span>(data[filter_cond, ][[column_to_analyze]])</span>
<span id="cb174-5"><a href="advanced-techniques.html#cb174-5" tabindex="-1"></a>  </span>
<span id="cb174-6"><a href="advanced-techniques.html#cb174-6" tabindex="-1"></a>  filtered_data <span class="ot">&lt;-</span> <span class="fu">eval</span>(filtered_data)</span>
<span id="cb174-7"><a href="advanced-techniques.html#cb174-7" tabindex="-1"></a>  </span>
<span id="cb174-8"><a href="advanced-techniques.html#cb174-8" tabindex="-1"></a>  <span class="co"># Calculate statistic</span></span>
<span id="cb174-9"><a href="advanced-techniques.html#cb174-9" tabindex="-1"></a>  calculated_statistic <span class="ot">&lt;-</span> <span class="fu">substitute</span>(<span class="fu">statistic</span>(filtered_data))</span>
<span id="cb174-10"><a href="advanced-techniques.html#cb174-10" tabindex="-1"></a>  calculated_statistic <span class="ot">&lt;-</span> <span class="fu">eval</span>(calculated_statistic)</span>
<span id="cb174-11"><a href="advanced-techniques.html#cb174-11" tabindex="-1"></a>  </span>
<span id="cb174-12"><a href="advanced-techniques.html#cb174-12" tabindex="-1"></a>  <span class="co"># Generate plot</span></span>
<span id="cb174-13"><a href="advanced-techniques.html#cb174-13" tabindex="-1"></a>  plot_expression <span class="ot">&lt;-</span> <span class="fu">substitute</span>(<span class="fu">plot_type</span>(filtered_data))</span>
<span id="cb174-14"><a href="advanced-techniques.html#cb174-14" tabindex="-1"></a>  <span class="fu">eval</span>(plot_expression)</span>
<span id="cb174-15"><a href="advanced-techniques.html#cb174-15" tabindex="-1"></a>  </span>
<span id="cb174-16"><a href="advanced-techniques.html#cb174-16" tabindex="-1"></a>  <span class="co"># Return calculated statistic</span></span>
<span id="cb174-17"><a href="advanced-techniques.html#cb174-17" tabindex="-1"></a>  <span class="fu">return</span>(calculated_statistic)</span>
<span id="cb174-18"><a href="advanced-techniques.html#cb174-18" tabindex="-1"></a>}</span>
<span id="cb174-19"><a href="advanced-techniques.html#cb174-19" tabindex="-1"></a></span>
<span id="cb174-20"><a href="advanced-techniques.html#cb174-20" tabindex="-1"></a><span class="co"># Usage example</span></span>
<span id="cb174-21"><a href="advanced-techniques.html#cb174-21" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb174-22"><a href="advanced-techniques.html#cb174-22" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="fl">5.5</span>, <span class="dv">4</span>, <span class="fl">3.5</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">10</span>),</span>
<span id="cb174-23"><a href="advanced-techniques.html#cb174-23" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="fl">3.6</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb174-24"><a href="advanced-techniques.html#cb174-24" tabindex="-1"></a>)</span>
<span id="cb174-25"><a href="advanced-techniques.html#cb174-25" tabindex="-1"></a></span>
<span id="cb174-26"><a href="advanced-techniques.html#cb174-26" tabindex="-1"></a><span class="co"># We want to filter data where x &gt; 5, calculate mean of y and generate a histogram</span></span>
<span id="cb174-27"><a href="advanced-techniques.html#cb174-27" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">analyze_data</span>(df, df<span class="sc">$</span>x <span class="sc">&gt;</span> <span class="dv">5</span>, <span class="st">&quot;y&quot;</span>, mean, hist)</span>
<span id="cb174-28"><a href="advanced-techniques.html#cb174-28" tabindex="-1"></a></span>
<span id="cb174-29"><a href="advanced-techniques.html#cb174-29" tabindex="-1"></a>result</span>
<span id="cb174-30"><a href="advanced-techniques.html#cb174-30" tabindex="-1"></a><span class="co">#&gt; [1] 3.32</span></span></code></pre></div>
<p><img src="Data-Science-con-R_files/figure-html/unnamed-chunk-236-1.png" alt="" width="80%" style="display: block; margin: auto;" /></p>
<p><strong>Example 3: Creating a function to generate plots with dynamic variable names and advanced options</strong></p>
<p>Imagine you need to create a function generating different types of plots (scatter, histograms, boxplots) with custom options like titles, labels, colors, and legends, and that can also handle different datasets and variables. In this case, metaprogramming can be very useful to create a flexible function adapting to these needs.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="advanced-techniques.html#cb175-1" tabindex="-1"></a>create_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(data, plot_type, var_x, <span class="at">var_y =</span> <span class="cn">NULL</span>, </span>
<span id="cb175-2"><a href="advanced-techniques.html#cb175-2" tabindex="-1"></a>                          <span class="at">title =</span> <span class="cn">NULL</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, </span>
<span id="cb175-3"><a href="advanced-techniques.html#cb175-3" tabindex="-1"></a>                          <span class="at">labels_x =</span> <span class="cn">NULL</span>, <span class="at">labels_y =</span> <span class="cn">NULL</span>, </span>
<span id="cb175-4"><a href="advanced-techniques.html#cb175-4" tabindex="-1"></a>                          <span class="at">legend =</span> <span class="cn">NULL</span>) {</span>
<span id="cb175-5"><a href="advanced-techniques.html#cb175-5" tabindex="-1"></a>  </span>
<span id="cb175-6"><a href="advanced-techniques.html#cb175-6" tabindex="-1"></a>  <span class="co"># Create base plot expression</span></span>
<span id="cb175-7"><a href="advanced-techniques.html#cb175-7" tabindex="-1"></a>  <span class="cf">if</span> (plot_type <span class="sc">==</span> <span class="st">&quot;scatter&quot;</span>) {</span>
<span id="cb175-8"><a href="advanced-techniques.html#cb175-8" tabindex="-1"></a>    expression <span class="ot">&lt;-</span> <span class="fu">substitute</span>(<span class="fu">plot</span>(data[[var_x]], data[[var_y]], </span>
<span id="cb175-9"><a href="advanced-techniques.html#cb175-9" tabindex="-1"></a>                                 <span class="at">xlab =</span> labels_x, <span class="at">ylab =</span> labels_y,</span>
<span id="cb175-10"><a href="advanced-techniques.html#cb175-10" tabindex="-1"></a>                                 <span class="at">main =</span> title, <span class="at">col =</span> color))</span>
<span id="cb175-11"><a href="advanced-techniques.html#cb175-11" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (plot_type <span class="sc">==</span> <span class="st">&quot;histogram&quot;</span>) {</span>
<span id="cb175-12"><a href="advanced-techniques.html#cb175-12" tabindex="-1"></a>    expression <span class="ot">&lt;-</span> <span class="fu">substitute</span>(<span class="fu">hist</span>(data[[var_x]], <span class="at">main =</span> title, <span class="at">xlab =</span> labels_x, <span class="at">col =</span> color))</span>
<span id="cb175-13"><a href="advanced-techniques.html#cb175-13" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (plot_type <span class="sc">==</span> <span class="st">&quot;boxplot&quot;</span>) {</span>
<span id="cb175-14"><a href="advanced-techniques.html#cb175-14" tabindex="-1"></a>    expression <span class="ot">&lt;-</span> <span class="fu">substitute</span>(<span class="fu">boxplot</span>(data[[var_x]], <span class="at">main =</span> title, <span class="at">ylab =</span> labels_y, <span class="at">col =</span> color))</span>
<span id="cb175-15"><a href="advanced-techniques.html#cb175-15" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb175-16"><a href="advanced-techniques.html#cb175-16" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">&quot;Invalid plot type.&quot;</span>)</span>
<span id="cb175-17"><a href="advanced-techniques.html#cb175-17" tabindex="-1"></a>  }</span>
<span id="cb175-18"><a href="advanced-techniques.html#cb175-18" tabindex="-1"></a>  </span>
<span id="cb175-19"><a href="advanced-techniques.html#cb175-19" tabindex="-1"></a>  <span class="co"># Evaluate base expression</span></span>
<span id="cb175-20"><a href="advanced-techniques.html#cb175-20" tabindex="-1"></a>  <span class="fu">eval</span>(expression)</span>
<span id="cb175-21"><a href="advanced-techniques.html#cb175-21" tabindex="-1"></a>  </span>
<span id="cb175-22"><a href="advanced-techniques.html#cb175-22" tabindex="-1"></a>  <span class="co"># Add legend if specified</span></span>
<span id="cb175-23"><a href="advanced-techniques.html#cb175-23" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(legend)) {</span>
<span id="cb175-24"><a href="advanced-techniques.html#cb175-24" tabindex="-1"></a>    <span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>, <span class="at">legend =</span> legend, <span class="at">fill =</span> color)</span>
<span id="cb175-25"><a href="advanced-techniques.html#cb175-25" tabindex="-1"></a>  }</span>
<span id="cb175-26"><a href="advanced-techniques.html#cb175-26" tabindex="-1"></a>}</span>
<span id="cb175-27"><a href="advanced-techniques.html#cb175-27" tabindex="-1"></a></span>
<span id="cb175-28"><a href="advanced-techniques.html#cb175-28" tabindex="-1"></a><span class="co"># Usage example</span></span>
<span id="cb175-29"><a href="advanced-techniques.html#cb175-29" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb175-30"><a href="advanced-techniques.html#cb175-30" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="fl">5.5</span>, <span class="dv">4</span>, <span class="fl">3.5</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">10</span>),</span>
<span id="cb175-31"><a href="advanced-techniques.html#cb175-31" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="fl">3.6</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb175-32"><a href="advanced-techniques.html#cb175-32" tabindex="-1"></a>)</span>
<span id="cb175-33"><a href="advanced-techniques.html#cb175-33" tabindex="-1"></a></span>
<span id="cb175-34"><a href="advanced-techniques.html#cb175-34" tabindex="-1"></a><span class="fu">create_plot</span>(df, <span class="st">&quot;scatter&quot;</span>, <span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, </span>
<span id="cb175-35"><a href="advanced-techniques.html#cb175-35" tabindex="-1"></a>              <span class="at">title =</span> <span class="st">&quot;Scatter Plot&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, </span>
<span id="cb175-36"><a href="advanced-techniques.html#cb175-36" tabindex="-1"></a>              <span class="at">labels_x =</span> <span class="st">&quot;Variable X&quot;</span>, <span class="at">labels_y =</span> <span class="st">&quot;Variable Y&quot;</span>)</span>
<span id="cb175-37"><a href="advanced-techniques.html#cb175-37" tabindex="-1"></a></span>
<span id="cb175-38"><a href="advanced-techniques.html#cb175-38" tabindex="-1"></a><span class="fu">create_plot</span>(df, <span class="st">&quot;histogram&quot;</span>, <span class="st">&quot;x&quot;</span>, </span>
<span id="cb175-39"><a href="advanced-techniques.html#cb175-39" tabindex="-1"></a>              <span class="at">title =</span> <span class="st">&quot;Histogram of X&quot;</span>, <span class="at">color =</span> <span class="st">&quot;green&quot;</span>, </span>
<span id="cb175-40"><a href="advanced-techniques.html#cb175-40" tabindex="-1"></a>              <span class="at">labels_x =</span> <span class="st">&quot;Variable X&quot;</span>)</span>
<span id="cb175-41"><a href="advanced-techniques.html#cb175-41" tabindex="-1"></a></span>
<span id="cb175-42"><a href="advanced-techniques.html#cb175-42" tabindex="-1"></a><span class="fu">create_plot</span>(df, <span class="st">&quot;boxplot&quot;</span>, <span class="st">&quot;y&quot;</span>, </span>
<span id="cb175-43"><a href="advanced-techniques.html#cb175-43" tabindex="-1"></a>              <span class="at">title =</span> <span class="st">&quot;Boxplot of Y&quot;</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, </span>
<span id="cb175-44"><a href="advanced-techniques.html#cb175-44" tabindex="-1"></a>              <span class="at">labels_y =</span> <span class="st">&quot;Variable X&quot;</span>, </span>
<span id="cb175-45"><a href="advanced-techniques.html#cb175-45" tabindex="-1"></a>              <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;Group A&quot;</span>))</span></code></pre></div>
<p><img src="Data-Science-con-R_files/figure-html/unnamed-chunk-237-1.png" alt="" width="80%" style="display: block; margin: auto;" /><img src="Data-Science-con-R_files/figure-html/unnamed-chunk-237-2.png" alt="" width="80%" style="display: block; margin: auto;" /><img src="Data-Science-con-R_files/figure-html/unnamed-chunk-237-3.png" alt="" width="80%" style="display: block; margin: auto;" />
In this example, the <code>create_plot()</code> function can generate different types of plots with custom options. The function uses <code>substitute()</code> to construct the base plot expression, and then <code>eval()</code> to evaluate the expression and generate the plot. Additionally, the function can add a legend to the plot if the legend argument is specified.</p>
<p>This example illustrates how metaprogramming can be useful for creating more flexible and complex functions that adapt to different needs.</p>
</div>
</div>
<div id="functional-programming-a-new-paradigm" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Functional programming: a new paradigm<a href="advanced-techniques.html#functional-programming-a-new-paradigm" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In previous chapters, we explored different object types in R and how to use functions to manipulate them. We have also seen how metaprogramming allows us to write code that generates other code. Now, we are going to delve into a different programming paradigm: <strong>functional programming</strong>.</p>
<p>Functional programming is a programming style based on the use of <strong>pure functions</strong> and data <strong>immutability</strong>.</p>
<ul>
<li>A pure function is a function that always produces the same result for the same arguments, and has no side effects (i.e., it does not modify any data outside the function).</li>
<li>Data immutability means data is not modified after being created. Instead of modifying existing data, new data is created with modifications.</li>
</ul>
<p>These principles make functional programming easier to reason about, debug, and maintain. It also facilitates writing concurrent and parallel code, as pure functions have no side effects that can interfere with other processes.</p>
<div id="basic-principles-of-functional-programming" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Basic principles of functional programming<a href="advanced-techniques.html#basic-principles-of-functional-programming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><strong>Functions as first-class citizens:</strong> In functional programming, functions are treated like any other data type. They can be passed as arguments to other functions, returned as results from functions, and stored in variables.</li>
<li><strong>Pure functions:</strong> Pure functions always produce the same result for the same arguments, and have no side effects. This makes code more predictable and easier to debug.</li>
<li><strong>Immutability:</strong> Data is not modified after being created. Instead of modifying existing data, new data is created with modifications. This avoids errors caused by accidental data modification.</li>
<li><strong>Rejection of loops:</strong> Functional programming avoids using <code>for</code> and <code>while</code> loops. Instead, higher-order functions like <code>map</code>, <code>reduce</code>, and <code>keep</code> are used to process data collections.</li>
</ul>
</div>
<div id="higher-order-functions-in-r" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Higher-order functions in R<a href="advanced-techniques.html#higher-order-functions-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R offers several higher-order functions that are especially useful for functional programming. These functions allow us to manipulate vectors, lists, and other objects concisely and efficiently, avoiding the use of <code>for</code> and <code>while</code> loops. The <code>purrr</code> package offers variants of <code>map()</code> for different types of results: <code>map_dbl()</code> to get a numeric vector, <code>map_chr()</code> to get a character vector, <code>map_lgl()</code> to get a logical vector, etc.</p>
<ul>
<li><p><strong><code>map()</code></strong>: Applies a function to each element of a vector or list, and returns a new vector or list with the results. It’s like having a machine taking each element of our data collection, processing it with the function we indicate, and placing the result in a new collection.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="advanced-techniques.html#cb176-1" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb176-2"><a href="advanced-techniques.html#cb176-2" tabindex="-1"></a><span class="co"># Create a vector of numbers</span></span>
<span id="cb176-3"><a href="advanced-techniques.html#cb176-3" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb176-4"><a href="advanced-techniques.html#cb176-4" tabindex="-1"></a></span>
<span id="cb176-5"><a href="advanced-techniques.html#cb176-5" tabindex="-1"></a><span class="co"># Calculate square of each number using an anonymous function</span></span>
<span id="cb176-6"><a href="advanced-techniques.html#cb176-6" tabindex="-1"></a>squares <span class="ot">&lt;-</span> <span class="fu">map</span>(numbers, <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb176-7"><a href="advanced-techniques.html#cb176-7" tabindex="-1"></a></span>
<span id="cb176-8"><a href="advanced-techniques.html#cb176-8" tabindex="-1"></a><span class="co"># Show result</span></span>
<span id="cb176-9"><a href="advanced-techniques.html#cb176-9" tabindex="-1"></a>squares</span>
<span id="cb176-10"><a href="advanced-techniques.html#cb176-10" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb176-11"><a href="advanced-techniques.html#cb176-11" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb176-12"><a href="advanced-techniques.html#cb176-12" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb176-13"><a href="advanced-techniques.html#cb176-13" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb176-14"><a href="advanced-techniques.html#cb176-14" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb176-15"><a href="advanced-techniques.html#cb176-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb176-16"><a href="advanced-techniques.html#cb176-16" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb176-17"><a href="advanced-techniques.html#cb176-17" tabindex="-1"></a><span class="co">#&gt; [1] 9</span></span>
<span id="cb176-18"><a href="advanced-techniques.html#cb176-18" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb176-19"><a href="advanced-techniques.html#cb176-19" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb176-20"><a href="advanced-techniques.html#cb176-20" tabindex="-1"></a><span class="co">#&gt; [1] 16</span></span>
<span id="cb176-21"><a href="advanced-techniques.html#cb176-21" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb176-22"><a href="advanced-techniques.html#cb176-22" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb176-23"><a href="advanced-techniques.html#cb176-23" tabindex="-1"></a><span class="co">#&gt; [1] 25</span></span>
<span id="cb176-24"><a href="advanced-techniques.html#cb176-24" tabindex="-1"></a></span>
<span id="cb176-25"><a href="advanced-techniques.html#cb176-25" tabindex="-1"></a><span class="co"># We can also use a predefined function</span></span>
<span id="cb176-26"><a href="advanced-techniques.html#cb176-26" tabindex="-1"></a>square_roots <span class="ot">&lt;-</span> <span class="fu">map</span>(numbers, sqrt)</span>
<span id="cb176-27"><a href="advanced-techniques.html#cb176-27" tabindex="-1"></a></span>
<span id="cb176-28"><a href="advanced-techniques.html#cb176-28" tabindex="-1"></a><span class="co"># Show result</span></span>
<span id="cb176-29"><a href="advanced-techniques.html#cb176-29" tabindex="-1"></a>square_roots</span>
<span id="cb176-30"><a href="advanced-techniques.html#cb176-30" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb176-31"><a href="advanced-techniques.html#cb176-31" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb176-32"><a href="advanced-techniques.html#cb176-32" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb176-33"><a href="advanced-techniques.html#cb176-33" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb176-34"><a href="advanced-techniques.html#cb176-34" tabindex="-1"></a><span class="co">#&gt; [1] 1.414214</span></span>
<span id="cb176-35"><a href="advanced-techniques.html#cb176-35" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb176-36"><a href="advanced-techniques.html#cb176-36" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb176-37"><a href="advanced-techniques.html#cb176-37" tabindex="-1"></a><span class="co">#&gt; [1] 1.732051</span></span>
<span id="cb176-38"><a href="advanced-techniques.html#cb176-38" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb176-39"><a href="advanced-techniques.html#cb176-39" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb176-40"><a href="advanced-techniques.html#cb176-40" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb176-41"><a href="advanced-techniques.html#cb176-41" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb176-42"><a href="advanced-techniques.html#cb176-42" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb176-43"><a href="advanced-techniques.html#cb176-43" tabindex="-1"></a><span class="co">#&gt; [1] 2.236068</span></span></code></pre></div></li>
<li><p><strong><code>reduce()</code></strong>: Combines elements of a vector or list applying a function cumulatively. It’s like having a machine taking two elements of our collection, combining them using the function we indicate, and then combining the result with the next element, and so on until all elements are combined.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="advanced-techniques.html#cb177-1" tabindex="-1"></a><span class="co"># Create a vector of numbers</span></span>
<span id="cb177-2"><a href="advanced-techniques.html#cb177-2" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb177-3"><a href="advanced-techniques.html#cb177-3" tabindex="-1"></a></span>
<span id="cb177-4"><a href="advanced-techniques.html#cb177-4" tabindex="-1"></a><span class="co"># Calculate sum of numbers using reduce()</span></span>
<span id="cb177-5"><a href="advanced-techniques.html#cb177-5" tabindex="-1"></a>sum_result <span class="ot">&lt;-</span> <span class="fu">reduce</span>(numbers, <span class="st">`</span><span class="at">+</span><span class="st">`</span>)</span>
<span id="cb177-6"><a href="advanced-techniques.html#cb177-6" tabindex="-1"></a></span>
<span id="cb177-7"><a href="advanced-techniques.html#cb177-7" tabindex="-1"></a><span class="co"># Show result</span></span>
<span id="cb177-8"><a href="advanced-techniques.html#cb177-8" tabindex="-1"></a>sum_result</span>
<span id="cb177-9"><a href="advanced-techniques.html#cb177-9" tabindex="-1"></a><span class="co">#&gt; [1] 15</span></span>
<span id="cb177-10"><a href="advanced-techniques.html#cb177-10" tabindex="-1"></a></span>
<span id="cb177-11"><a href="advanced-techniques.html#cb177-11" tabindex="-1"></a><span class="co"># Calculate product of numbers</span></span>
<span id="cb177-12"><a href="advanced-techniques.html#cb177-12" tabindex="-1"></a>product_result <span class="ot">&lt;-</span> <span class="fu">reduce</span>(numbers, <span class="st">`</span><span class="at">*</span><span class="st">`</span>)</span>
<span id="cb177-13"><a href="advanced-techniques.html#cb177-13" tabindex="-1"></a></span>
<span id="cb177-14"><a href="advanced-techniques.html#cb177-14" tabindex="-1"></a><span class="co"># Show result</span></span>
<span id="cb177-15"><a href="advanced-techniques.html#cb177-15" tabindex="-1"></a>product_result</span>
<span id="cb177-16"><a href="advanced-techniques.html#cb177-16" tabindex="-1"></a><span class="co">#&gt; [1] 120</span></span></code></pre></div></li>
<li><p><strong><code>keep()</code></strong>: Filters elements of a vector or list meeting a condition. It’s like having a sieve letting pass only elements meeting the condition we indicate.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="advanced-techniques.html#cb178-1" tabindex="-1"></a><span class="co"># Create a vector of numbers</span></span>
<span id="cb178-2"><a href="advanced-techniques.html#cb178-2" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb178-3"><a href="advanced-techniques.html#cb178-3" tabindex="-1"></a></span>
<span id="cb178-4"><a href="advanced-techniques.html#cb178-4" tabindex="-1"></a><span class="co"># Filter even numbers</span></span>
<span id="cb178-5"><a href="advanced-techniques.html#cb178-5" tabindex="-1"></a>evens <span class="ot">&lt;-</span> <span class="fu">keep</span>(numbers, <span class="sc">~</span> . <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb178-6"><a href="advanced-techniques.html#cb178-6" tabindex="-1"></a></span>
<span id="cb178-7"><a href="advanced-techniques.html#cb178-7" tabindex="-1"></a><span class="co"># Show result</span></span>
<span id="cb178-8"><a href="advanced-techniques.html#cb178-8" tabindex="-1"></a>evens</span>
<span id="cb178-9"><a href="advanced-techniques.html#cb178-9" tabindex="-1"></a><span class="co">#&gt; [1] 2 4</span></span>
<span id="cb178-10"><a href="advanced-techniques.html#cb178-10" tabindex="-1"></a></span>
<span id="cb178-11"><a href="advanced-techniques.html#cb178-11" tabindex="-1"></a><span class="co"># Filter numbers greater than 3</span></span>
<span id="cb178-12"><a href="advanced-techniques.html#cb178-12" tabindex="-1"></a>greater_than_3 <span class="ot">&lt;-</span> <span class="fu">keep</span>(numbers, <span class="sc">~</span> . <span class="sc">&gt;</span> <span class="dv">3</span>)</span>
<span id="cb178-13"><a href="advanced-techniques.html#cb178-13" tabindex="-1"></a></span>
<span id="cb178-14"><a href="advanced-techniques.html#cb178-14" tabindex="-1"></a><span class="co"># Show result</span></span>
<span id="cb178-15"><a href="advanced-techniques.html#cb178-15" tabindex="-1"></a>greater_than_3  <span class="co"># Output: 4 5</span></span>
<span id="cb178-16"><a href="advanced-techniques.html#cb178-16" tabindex="-1"></a><span class="co">#&gt; [1] 4 5</span></span></code></pre></div></li>
</ul>
<p>The <code>~</code> symbol in higher-order functions is used to define an anonymous function. This means you are creating a function “on the fly”, without needing to give it an explicit name. The part following <code>~</code> is the body of this function, specifying operations to be performed on each element of the vector or list to which the function is applied. The dot <code>.</code> is used as a placeholder to refer to the current element.</p>
<p>These functions, along with other higher-order functions like <code>map2()</code>, <code>pmap()</code>, <code>accumulate()</code>, and <code>every()</code>, give us great flexibility for processing data functionally in R.</p>
</div>
<div id="examples-4" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Examples<a href="advanced-techniques.html#examples-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s see some examples of how to apply functional programming in R:</p>
<ul>
<li><p><strong>Calculate the sum of squares of even numbers in a vector:</strong></p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="advanced-techniques.html#cb179-1" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb179-2"><a href="advanced-techniques.html#cb179-2" tabindex="-1"></a>sum_squares_evens <span class="ot">&lt;-</span> numbers <span class="sc">|&gt;</span></span>
<span id="cb179-3"><a href="advanced-techniques.html#cb179-3" tabindex="-1"></a>  <span class="fu">keep</span>(<span class="sc">~</span>. <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb179-4"><a href="advanced-techniques.html#cb179-4" tabindex="-1"></a>  <span class="fu">map_dbl</span>(<span class="sc">~</span>. <span class="sc">^</span><span class="dv">2</span>) <span class="sc">|&gt;</span></span>
<span id="cb179-5"><a href="advanced-techniques.html#cb179-5" tabindex="-1"></a>  <span class="fu">reduce</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span>)</span>
<span id="cb179-6"><a href="advanced-techniques.html#cb179-6" tabindex="-1"></a></span>
<span id="cb179-7"><a href="advanced-techniques.html#cb179-7" tabindex="-1"></a>sum_squares_evens</span>
<span id="cb179-8"><a href="advanced-techniques.html#cb179-8" tabindex="-1"></a><span class="co">#&gt; [1] 20</span></span></code></pre></div></li>
<li><p><strong>Filter cities with a population greater than 5 million:</strong></p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="advanced-techniques.html#cb180-1" tabindex="-1"></a>cities <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb180-2"><a href="advanced-techniques.html#cb180-2" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">name =</span> <span class="st">&quot;New York&quot;</span>, <span class="at">population =</span> <span class="fl">8.4e6</span>),</span>
<span id="cb180-3"><a href="advanced-techniques.html#cb180-3" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">name =</span> <span class="st">&quot;Los Angeles&quot;</span>, <span class="at">population =</span> <span class="fl">3.9e6</span>),</span>
<span id="cb180-4"><a href="advanced-techniques.html#cb180-4" tabindex="-1"></a>  <span class="fu">list</span>(<span class="at">name =</span> <span class="st">&quot;Chicago&quot;</span>, <span class="at">population =</span> <span class="fl">2.7e6</span>)</span>
<span id="cb180-5"><a href="advanced-techniques.html#cb180-5" tabindex="-1"></a>)</span>
<span id="cb180-6"><a href="advanced-techniques.html#cb180-6" tabindex="-1"></a></span>
<span id="cb180-7"><a href="advanced-techniques.html#cb180-7" tabindex="-1"></a>big_cities <span class="ot">&lt;-</span> cities <span class="sc">|&gt;</span></span>
<span id="cb180-8"><a href="advanced-techniques.html#cb180-8" tabindex="-1"></a>  <span class="fu">keep</span>(<span class="sc">~</span>.x<span class="sc">$</span>population <span class="sc">&gt;</span> <span class="fl">5e6</span>)</span>
<span id="cb180-9"><a href="advanced-techniques.html#cb180-9" tabindex="-1"></a></span>
<span id="cb180-10"><a href="advanced-techniques.html#cb180-10" tabindex="-1"></a>big_cities</span>
<span id="cb180-11"><a href="advanced-techniques.html#cb180-11" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb180-12"><a href="advanced-techniques.html#cb180-12" tabindex="-1"></a><span class="co">#&gt; [[1]]$name</span></span>
<span id="cb180-13"><a href="advanced-techniques.html#cb180-13" tabindex="-1"></a><span class="co">#&gt; [1] &quot;New York&quot;</span></span>
<span id="cb180-14"><a href="advanced-techniques.html#cb180-14" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb180-15"><a href="advanced-techniques.html#cb180-15" tabindex="-1"></a><span class="co">#&gt; [[1]]$population</span></span>
<span id="cb180-16"><a href="advanced-techniques.html#cb180-16" tabindex="-1"></a><span class="co">#&gt; [1] 8400000</span></span></code></pre></div>
<p>In this example, “x” acts as a placeholder to represent each element of the <code>cities</code> list as it iterates over it. That is, in each iteration, “x” will take the value of one of the cities in the list.</p>
<p><strong>Why is “x” used?</strong></p>
<ul>
<li><strong>Anonymous function:</strong> The expression <code>~ .x$population &gt; 5e6</code> defines an anonymous function. This function takes an element of the list as input and returns a logical value (TRUE or FALSE) depending on whether that city’s population is greater than 5 million.</li>
<li><strong>Access to elements:</strong> The <code>$</code> symbol is used to access elements of a list. In this case, <code>.x$population</code> accesses the “population” element of the current list element (represented by “x”).</li>
<li><strong>Conciseness:</strong> Using “x” makes the code more concise and readable, avoiding the need to define a named function explicitly for this operation.</li>
</ul>
<p>You can use any name you want instead of “x”, as long as it is consistent within the anonymous function.</p></li>
</ul>
<p>Functional programming is a powerful paradigm that can help you write cleaner, more efficient, and maintainable code. As you become familiar with its principles and tools, you will be able to apply them to a wide variety of data analysis problems.</p>
</div>
</div>
<div id="r6-the-future-of-oop-in-r" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> R6: The future of OOP in R<a href="advanced-techniques.html#r6-the-future-of-oop-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In R, Object-Oriented Programming (OOP) can be implemented in several ways. Traditionally, R has used systems called S3 and S4 for OOP.</p>
<p><strong>S3</strong> is an informal and flexible system. It is based on the idea of generic functions, which can have different methods depending on the class of the object they apply to. For example, the <code>print()</code> function is a generic function having different methods for printing different types of objects, such as vectors, lists, or data frames.</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="advanced-techniques.html#cb181-1" tabindex="-1"></a><span class="co"># Example of generic function in S3</span></span>
<span id="cb181-2"><a href="advanced-techniques.html#cb181-2" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))  <span class="co"># Prints a numeric vector</span></span>
<span id="cb181-3"><a href="advanced-techniques.html#cb181-3" tabindex="-1"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb181-4"><a href="advanced-techniques.html#cb181-4" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="dv">2</span>))  <span class="co"># Prints a list</span></span>
<span id="cb181-5"><a href="advanced-techniques.html#cb181-5" tabindex="-1"></a><span class="co">#&gt; $a</span></span>
<span id="cb181-6"><a href="advanced-techniques.html#cb181-6" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb181-7"><a href="advanced-techniques.html#cb181-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb181-8"><a href="advanced-techniques.html#cb181-8" tabindex="-1"></a><span class="co">#&gt; $b</span></span>
<span id="cb181-9"><a href="advanced-techniques.html#cb181-9" tabindex="-1"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p><strong>S4</strong> is a more formal and structured system than S3. It defines classes and methods more explicitly, using special syntax. S4 is often used in packages requiring a more rigorous object structure, like Bioconductor.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="advanced-techniques.html#cb182-1" tabindex="-1"></a><span class="co"># Example of class definition in S4</span></span>
<span id="cb182-2"><a href="advanced-techniques.html#cb182-2" tabindex="-1"></a><span class="fu">setClass</span>(<span class="st">&quot;Person&quot;</span>, <span class="at">slots =</span> <span class="fu">c</span>(<span class="at">name =</span> <span class="st">&quot;character&quot;</span>, <span class="at">age =</span> <span class="st">&quot;numeric&quot;</span>))</span>
<span id="cb182-3"><a href="advanced-techniques.html#cb182-3" tabindex="-1"></a></span>
<span id="cb182-4"><a href="advanced-techniques.html#cb182-4" tabindex="-1"></a><span class="co"># Example of object creation in S4</span></span>
<span id="cb182-5"><a href="advanced-techniques.html#cb182-5" tabindex="-1"></a>my_person <span class="ot">&lt;-</span> <span class="fu">new</span>(<span class="st">&quot;Person&quot;</span>, <span class="at">name =</span> <span class="st">&quot;John&quot;</span>, <span class="at">age =</span> <span class="dv">30</span>)</span>
<span id="cb182-6"><a href="advanced-techniques.html#cb182-6" tabindex="-1"></a></span>
<span id="cb182-7"><a href="advanced-techniques.html#cb182-7" tabindex="-1"></a>my_person</span>
<span id="cb182-8"><a href="advanced-techniques.html#cb182-8" tabindex="-1"></a><span class="co">#&gt; An object of class &quot;Person&quot;</span></span>
<span id="cb182-9"><a href="advanced-techniques.html#cb182-9" tabindex="-1"></a><span class="co">#&gt; Slot &quot;name&quot;:</span></span>
<span id="cb182-10"><a href="advanced-techniques.html#cb182-10" tabindex="-1"></a><span class="co">#&gt; [1] &quot;John&quot;</span></span>
<span id="cb182-11"><a href="advanced-techniques.html#cb182-11" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb182-12"><a href="advanced-techniques.html#cb182-12" tabindex="-1"></a><span class="co">#&gt; Slot &quot;age&quot;:</span></span>
<span id="cb182-13"><a href="advanced-techniques.html#cb182-13" tabindex="-1"></a><span class="co">#&gt; [1] 30</span></span></code></pre></div>
<p>However, both S3 and S4 can be somewhat confusing and limited, especially for more complex projects. Luckily, there is a more modern and robust alternative: the R6 package. This package offers a more intuitive and efficient way to implement OOP in R, with features facilitating code organization, reuse, and maintenance. If you are new to OOP, don’t worry about S3 and S4 details for now. With R6, you can learn basic OOP concepts more easily and apply them to your data analysis projects.</p>
<div id="the-r6-package-classes-methods-encapsulation-and-inheritance" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> The R6 package: Classes, methods, encapsulation, and inheritance<a href="advanced-techniques.html#the-r6-package-classes-methods-encapsulation-and-inheritance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The R6 package implements a class and object system similar to other object-oriented programming languages like Python or Java. It provides a robust and efficient way to create objects with attributes and methods, allowing encapsulation and inheritance.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="advanced-techniques.html#cb183-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;R6&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="advanced-techniques.html#cb184-1" tabindex="-1"></a><span class="fu">library</span>(R6)</span></code></pre></div>
<p><strong>Classes:</strong></p>
<p>A class is like a blueprint or template for creating objects. It defines the attributes (data) and methods (functions) that objects of that class will have. In R6, classes are created with the <code>R6Class()</code> function.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="advanced-techniques.html#cb185-1" tabindex="-1"></a></span>
<span id="cb185-2"><a href="advanced-techniques.html#cb185-2" tabindex="-1"></a><span class="co"># Define a &quot;Person&quot; class</span></span>
<span id="cb185-3"><a href="advanced-techniques.html#cb185-3" tabindex="-1"></a>Person <span class="ot">&lt;-</span> <span class="fu">R6Class</span>(<span class="st">&quot;Person&quot;</span>,</span>
<span id="cb185-4"><a href="advanced-techniques.html#cb185-4" tabindex="-1"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb185-5"><a href="advanced-techniques.html#cb185-5" tabindex="-1"></a>    <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb185-6"><a href="advanced-techniques.html#cb185-6" tabindex="-1"></a>    <span class="at">age =</span> <span class="cn">NULL</span>,</span>
<span id="cb185-7"><a href="advanced-techniques.html#cb185-7" tabindex="-1"></a>    </span>
<span id="cb185-8"><a href="advanced-techniques.html#cb185-8" tabindex="-1"></a>    <span class="co"># Constructor</span></span>
<span id="cb185-9"><a href="advanced-techniques.html#cb185-9" tabindex="-1"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(name, age) {</span>
<span id="cb185-10"><a href="advanced-techniques.html#cb185-10" tabindex="-1"></a>      self<span class="sc">$</span>name <span class="ot">&lt;-</span> name</span>
<span id="cb185-11"><a href="advanced-techniques.html#cb185-11" tabindex="-1"></a>      self<span class="sc">$</span>age <span class="ot">&lt;-</span> age</span>
<span id="cb185-12"><a href="advanced-techniques.html#cb185-12" tabindex="-1"></a>    },</span>
<span id="cb185-13"><a href="advanced-techniques.html#cb185-13" tabindex="-1"></a>    </span>
<span id="cb185-14"><a href="advanced-techniques.html#cb185-14" tabindex="-1"></a>    <span class="co"># Method to greet</span></span>
<span id="cb185-15"><a href="advanced-techniques.html#cb185-15" tabindex="-1"></a>    <span class="at">greet =</span> <span class="cf">function</span>() {</span>
<span id="cb185-16"><a href="advanced-techniques.html#cb185-16" tabindex="-1"></a>      <span class="fu">cat</span>(<span class="st">&quot;Hello, my name is&quot;</span>, self<span class="sc">$</span>name, <span class="st">&quot;and I am&quot;</span>, self<span class="sc">$</span>age, <span class="st">&quot;years old.</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb185-17"><a href="advanced-techniques.html#cb185-17" tabindex="-1"></a>    }</span>
<span id="cb185-18"><a href="advanced-techniques.html#cb185-18" tabindex="-1"></a>  )</span>
<span id="cb185-19"><a href="advanced-techniques.html#cb185-19" tabindex="-1"></a>)</span></code></pre></div>
<p>In this example, a <code>Person</code> class is defined with <code>name</code> and <code>age</code> attributes, and <code>greet()</code> method. The <code>public</code> list defines public members of the class, i.e., attributes and methods accessible from outside the object.</p>
<p><strong>Objects:</strong></p>
<p>An object is an instance of a class. It is a concrete entity having attributes and methods defined by the class. In R6, objects are created with the <code>$new()</code> method.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="advanced-techniques.html#cb186-1" tabindex="-1"></a><span class="co"># Create an object of class &quot;Person&quot;</span></span>
<span id="cb186-2"><a href="advanced-techniques.html#cb186-2" tabindex="-1"></a>juan <span class="ot">&lt;-</span> Person<span class="sc">$</span><span class="fu">new</span>(<span class="at">name =</span> <span class="st">&quot;Juan&quot;</span>, <span class="at">age =</span> <span class="dv">30</span>)</span>
<span id="cb186-3"><a href="advanced-techniques.html#cb186-3" tabindex="-1"></a></span>
<span id="cb186-4"><a href="advanced-techniques.html#cb186-4" tabindex="-1"></a>juan</span>
<span id="cb186-5"><a href="advanced-techniques.html#cb186-5" tabindex="-1"></a><span class="co">#&gt; &lt;Person&gt;</span></span>
<span id="cb186-6"><a href="advanced-techniques.html#cb186-6" tabindex="-1"></a><span class="co">#&gt;   Public:</span></span>
<span id="cb186-7"><a href="advanced-techniques.html#cb186-7" tabindex="-1"></a><span class="co">#&gt;     age: 30</span></span>
<span id="cb186-8"><a href="advanced-techniques.html#cb186-8" tabindex="-1"></a><span class="co">#&gt;     clone: function (deep = FALSE) </span></span>
<span id="cb186-9"><a href="advanced-techniques.html#cb186-9" tabindex="-1"></a><span class="co">#&gt;     greet: function () </span></span>
<span id="cb186-10"><a href="advanced-techniques.html#cb186-10" tabindex="-1"></a><span class="co">#&gt;     initialize: function (name, age) </span></span>
<span id="cb186-11"><a href="advanced-techniques.html#cb186-11" tabindex="-1"></a><span class="co">#&gt;     name: Juan</span></span></code></pre></div>
<p><strong>Methods:</strong></p>
<p>Methods are functions operating on an object’s attributes. They allow accessing and modifying object data, as well as performing other actions. In R6, methods are defined within the <code>public</code> list of the class.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="advanced-techniques.html#cb187-1" tabindex="-1"></a><span class="co"># Call greet() method of object &quot;juan&quot;</span></span>
<span id="cb187-2"><a href="advanced-techniques.html#cb187-2" tabindex="-1"></a>juan<span class="sc">$</span><span class="fu">greet</span>()</span>
<span id="cb187-3"><a href="advanced-techniques.html#cb187-3" tabindex="-1"></a><span class="co">#&gt; Hello, my name is Juan and I am 30 years old.</span></span></code></pre></div>
<p><strong>Encapsulation:</strong></p>
<p>Encapsulation is a mechanism allowing hiding internal details of an object and controlling access to its attributes. This protects object data and facilitates usage. In R6, encapsulation is achieved by distinguishing between public and private members.</p>
<p>Public members are defined in <code>public</code> list and can be accessed from outside the object. Private members are defined in <code>private</code> list and can only be accessed from within the object, through methods.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="advanced-techniques.html#cb188-1" tabindex="-1"></a><span class="co"># Define a &quot;BankAccount&quot; class with encapsulation</span></span>
<span id="cb188-2"><a href="advanced-techniques.html#cb188-2" tabindex="-1"></a>BankAccount <span class="ot">&lt;-</span> <span class="fu">R6Class</span>(<span class="st">&quot;BankAccount&quot;</span>,</span>
<span id="cb188-3"><a href="advanced-techniques.html#cb188-3" tabindex="-1"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb188-4"><a href="advanced-techniques.html#cb188-4" tabindex="-1"></a>    <span class="at">holder =</span> <span class="cn">NULL</span>,</span>
<span id="cb188-5"><a href="advanced-techniques.html#cb188-5" tabindex="-1"></a>    </span>
<span id="cb188-6"><a href="advanced-techniques.html#cb188-6" tabindex="-1"></a>    <span class="co"># Constructor</span></span>
<span id="cb188-7"><a href="advanced-techniques.html#cb188-7" tabindex="-1"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(holder) {</span>
<span id="cb188-8"><a href="advanced-techniques.html#cb188-8" tabindex="-1"></a>      self<span class="sc">$</span>holder <span class="ot">&lt;-</span> holder</span>
<span id="cb188-9"><a href="advanced-techniques.html#cb188-9" tabindex="-1"></a>      private<span class="sc">$</span>balance <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb188-10"><a href="advanced-techniques.html#cb188-10" tabindex="-1"></a>    },</span>
<span id="cb188-11"><a href="advanced-techniques.html#cb188-11" tabindex="-1"></a>    </span>
<span id="cb188-12"><a href="advanced-techniques.html#cb188-12" tabindex="-1"></a>    <span class="co"># Method to deposit money</span></span>
<span id="cb188-13"><a href="advanced-techniques.html#cb188-13" tabindex="-1"></a>    <span class="at">deposit =</span> <span class="cf">function</span>(amount) {</span>
<span id="cb188-14"><a href="advanced-techniques.html#cb188-14" tabindex="-1"></a>      private<span class="sc">$</span>balance <span class="ot">&lt;-</span> private<span class="sc">$</span>balance <span class="sc">+</span> amount</span>
<span id="cb188-15"><a href="advanced-techniques.html#cb188-15" tabindex="-1"></a>    },</span>
<span id="cb188-16"><a href="advanced-techniques.html#cb188-16" tabindex="-1"></a>    </span>
<span id="cb188-17"><a href="advanced-techniques.html#cb188-17" tabindex="-1"></a>    <span class="co"># Method to withdraw money</span></span>
<span id="cb188-18"><a href="advanced-techniques.html#cb188-18" tabindex="-1"></a>    <span class="at">withdraw =</span> <span class="cf">function</span>(amount) {</span>
<span id="cb188-19"><a href="advanced-techniques.html#cb188-19" tabindex="-1"></a>      <span class="cf">if</span> (amount <span class="sc">&lt;=</span> private<span class="sc">$</span>balance) {</span>
<span id="cb188-20"><a href="advanced-techniques.html#cb188-20" tabindex="-1"></a>        private<span class="sc">$</span>balance <span class="ot">&lt;-</span> private<span class="sc">$</span>balance <span class="sc">-</span> amount</span>
<span id="cb188-21"><a href="advanced-techniques.html#cb188-21" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb188-22"><a href="advanced-techniques.html#cb188-22" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">&quot;Insufficient funds.&quot;</span>)</span>
<span id="cb188-23"><a href="advanced-techniques.html#cb188-23" tabindex="-1"></a>      }</span>
<span id="cb188-24"><a href="advanced-techniques.html#cb188-24" tabindex="-1"></a>    },</span>
<span id="cb188-25"><a href="advanced-techniques.html#cb188-25" tabindex="-1"></a>    </span>
<span id="cb188-26"><a href="advanced-techniques.html#cb188-26" tabindex="-1"></a>    <span class="co"># Method to check balance</span></span>
<span id="cb188-27"><a href="advanced-techniques.html#cb188-27" tabindex="-1"></a>    <span class="at">check_balance =</span> <span class="cf">function</span>() {</span>
<span id="cb188-28"><a href="advanced-techniques.html#cb188-28" tabindex="-1"></a>      <span class="fu">return</span>(private<span class="sc">$</span>balance)</span>
<span id="cb188-29"><a href="advanced-techniques.html#cb188-29" tabindex="-1"></a>    }</span>
<span id="cb188-30"><a href="advanced-techniques.html#cb188-30" tabindex="-1"></a>  ),</span>
<span id="cb188-31"><a href="advanced-techniques.html#cb188-31" tabindex="-1"></a>  <span class="at">private =</span> <span class="fu">list</span>(</span>
<span id="cb188-32"><a href="advanced-techniques.html#cb188-32" tabindex="-1"></a>    <span class="at">balance =</span> <span class="cn">NULL</span></span>
<span id="cb188-33"><a href="advanced-techniques.html#cb188-33" tabindex="-1"></a>  )</span>
<span id="cb188-34"><a href="advanced-techniques.html#cb188-34" tabindex="-1"></a>)</span></code></pre></div>
<p><strong>Inheritance:</strong></p>
<p>Inheritance is a mechanism allowing creating new classes from existing classes, inheriting their attributes and methods. This facilitates code reuse and creation of class hierarchies. In R6, inheritance is specified with <code>inherit</code> argument of <code>R6Class()</code> function.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="advanced-techniques.html#cb189-1" tabindex="-1"></a><span class="co"># Define a &quot;Student&quot; class inheriting from &quot;Person&quot;</span></span>
<span id="cb189-2"><a href="advanced-techniques.html#cb189-2" tabindex="-1"></a>Student <span class="ot">&lt;-</span> <span class="fu">R6Class</span>(<span class="st">&quot;Student&quot;</span>,</span>
<span id="cb189-3"><a href="advanced-techniques.html#cb189-3" tabindex="-1"></a>  <span class="at">inherit =</span> Person,</span>
<span id="cb189-4"><a href="advanced-techniques.html#cb189-4" tabindex="-1"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb189-5"><a href="advanced-techniques.html#cb189-5" tabindex="-1"></a>    <span class="at">major =</span> <span class="cn">NULL</span>,</span>
<span id="cb189-6"><a href="advanced-techniques.html#cb189-6" tabindex="-1"></a>    </span>
<span id="cb189-7"><a href="advanced-techniques.html#cb189-7" tabindex="-1"></a>    <span class="co"># Constructor</span></span>
<span id="cb189-8"><a href="advanced-techniques.html#cb189-8" tabindex="-1"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(name, age, major) {</span>
<span id="cb189-9"><a href="advanced-techniques.html#cb189-9" tabindex="-1"></a>      super<span class="sc">$</span><span class="fu">initialize</span>(name, age)</span>
<span id="cb189-10"><a href="advanced-techniques.html#cb189-10" tabindex="-1"></a>      self<span class="sc">$</span>major <span class="ot">&lt;-</span> major</span>
<span id="cb189-11"><a href="advanced-techniques.html#cb189-11" tabindex="-1"></a>    },</span>
<span id="cb189-12"><a href="advanced-techniques.html#cb189-12" tabindex="-1"></a>    </span>
<span id="cb189-13"><a href="advanced-techniques.html#cb189-13" tabindex="-1"></a>    <span class="co"># Method to show student info</span></span>
<span id="cb189-14"><a href="advanced-techniques.html#cb189-14" tabindex="-1"></a>    <span class="at">show_info =</span> <span class="cf">function</span>() {</span>
<span id="cb189-15"><a href="advanced-techniques.html#cb189-15" tabindex="-1"></a>      super<span class="sc">$</span><span class="fu">greet</span>()</span>
<span id="cb189-16"><a href="advanced-techniques.html#cb189-16" tabindex="-1"></a>      <span class="fu">cat</span>(<span class="st">&quot;Major:&quot;</span>, self<span class="sc">$</span>major, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb189-17"><a href="advanced-techniques.html#cb189-17" tabindex="-1"></a>    }</span>
<span id="cb189-18"><a href="advanced-techniques.html#cb189-18" tabindex="-1"></a>  )</span>
<span id="cb189-19"><a href="advanced-techniques.html#cb189-19" tabindex="-1"></a>)</span>
<span id="cb189-20"><a href="advanced-techniques.html#cb189-20" tabindex="-1"></a></span>
<span id="cb189-21"><a href="advanced-techniques.html#cb189-21" tabindex="-1"></a><span class="co"># Create an object of class &quot;Student&quot;</span></span>
<span id="cb189-22"><a href="advanced-techniques.html#cb189-22" tabindex="-1"></a>maria <span class="ot">&lt;-</span> Student<span class="sc">$</span><span class="fu">new</span>(<span class="at">name =</span> <span class="st">&quot;Maria&quot;</span>, <span class="at">age =</span> <span class="dv">20</span>, <span class="at">major =</span> <span class="st">&quot;Engineering&quot;</span>)</span>
<span id="cb189-23"><a href="advanced-techniques.html#cb189-23" tabindex="-1"></a></span>
<span id="cb189-24"><a href="advanced-techniques.html#cb189-24" tabindex="-1"></a><span class="co"># Call method show_info()</span></span>
<span id="cb189-25"><a href="advanced-techniques.html#cb189-25" tabindex="-1"></a>maria<span class="sc">$</span><span class="fu">show_info</span>()</span>
<span id="cb189-26"><a href="advanced-techniques.html#cb189-26" tabindex="-1"></a><span class="co">#&gt; Hello, my name is Maria and I am 20 years old.</span></span>
<span id="cb189-27"><a href="advanced-techniques.html#cb189-27" tabindex="-1"></a><span class="co">#&gt; Major: Engineering</span></span></code></pre></div>
<p>In this example, <code>Student</code> class inherits from <code>Person</code> class. <code>Student</code> constructor calls parent class constructor (<code>super$initialize()</code>) to initialize inherited attributes. <code>show_info()</code> method calls parent class <code>greet()</code> method (<code>super$greet()</code>) and then shows student-specific information.</p>
<p>With R6, you can create classes and objects with a high degree of flexibility and control, allowing you to apply OOP effectively in your data analysis projects.</p>
</div>
</div>
<div id="exercises-4" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Exercises<a href="advanced-techniques.html#exercises-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Below, you will find a series of exercises with different levels of difficulty. It is time to put into practice what you have learned in this chapter.</p>
<ol start="43" style="list-style-type: decimal">
<li>Create an expression representing the sum of two variables <code>a</code> and <code>b</code>.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="advanced-techniques.html#cb190-1" tabindex="-1"></a>expression <span class="ot">&lt;-</span> <span class="fu">quote</span>(a <span class="sc">+</span> b)</span></code></pre></div>
</details>
<ol start="44" style="list-style-type: decimal">
<li>Create an expression representing the multiplication of two variables <code>x</code> and <code>y</code>, and then evaluate it.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="advanced-techniques.html#cb191-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb191-2"><a href="advanced-techniques.html#cb191-2" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb191-3"><a href="advanced-techniques.html#cb191-3" tabindex="-1"></a>expression <span class="ot">&lt;-</span> <span class="fu">quote</span>(x <span class="sc">*</span> y)</span>
<span id="cb191-4"><a href="advanced-techniques.html#cb191-4" tabindex="-1"></a><span class="fu">eval</span>(expression)</span>
<span id="cb191-5"><a href="advanced-techniques.html#cb191-5" tabindex="-1"></a><span class="co">#&gt; [1] 50</span></span></code></pre></div>
</details>
<ol start="45" style="list-style-type: decimal">
<li>Create a vector of numbers and use <code>map()</code> function to calculate the square of each number.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="advanced-techniques.html#cb192-1" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb192-2"><a href="advanced-techniques.html#cb192-2" tabindex="-1"></a>squares <span class="ot">&lt;-</span> <span class="fu">map</span>(numbers, <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb192-3"><a href="advanced-techniques.html#cb192-3" tabindex="-1"></a>squares</span>
<span id="cb192-4"><a href="advanced-techniques.html#cb192-4" tabindex="-1"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb192-5"><a href="advanced-techniques.html#cb192-5" tabindex="-1"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb192-6"><a href="advanced-techniques.html#cb192-6" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb192-7"><a href="advanced-techniques.html#cb192-7" tabindex="-1"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb192-8"><a href="advanced-techniques.html#cb192-8" tabindex="-1"></a><span class="co">#&gt; [1] 4</span></span>
<span id="cb192-9"><a href="advanced-techniques.html#cb192-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb192-10"><a href="advanced-techniques.html#cb192-10" tabindex="-1"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb192-11"><a href="advanced-techniques.html#cb192-11" tabindex="-1"></a><span class="co">#&gt; [1] 9</span></span>
<span id="cb192-12"><a href="advanced-techniques.html#cb192-12" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb192-13"><a href="advanced-techniques.html#cb192-13" tabindex="-1"></a><span class="co">#&gt; [[4]]</span></span>
<span id="cb192-14"><a href="advanced-techniques.html#cb192-14" tabindex="-1"></a><span class="co">#&gt; [1] 16</span></span>
<span id="cb192-15"><a href="advanced-techniques.html#cb192-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb192-16"><a href="advanced-techniques.html#cb192-16" tabindex="-1"></a><span class="co">#&gt; [[5]]</span></span>
<span id="cb192-17"><a href="advanced-techniques.html#cb192-17" tabindex="-1"></a><span class="co">#&gt; [1] 25</span></span></code></pre></div>
</details>
<ol start="46" style="list-style-type: decimal">
<li>Create a vector of numbers and use <code>filter()</code> function to get only even numbers.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="advanced-techniques.html#cb193-1" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb193-2"><a href="advanced-techniques.html#cb193-2" tabindex="-1"></a>evens <span class="ot">&lt;-</span> <span class="fu">keep</span>(numbers, <span class="sc">~</span> . <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb193-3"><a href="advanced-techniques.html#cb193-3" tabindex="-1"></a>evens</span>
<span id="cb193-4"><a href="advanced-techniques.html#cb193-4" tabindex="-1"></a><span class="co">#&gt; [1] 2 4</span></span></code></pre></div>
</details>
<ol start="47" style="list-style-type: decimal">
<li>Create a function called <code>create_power_function()</code> receiving a number <code>n</code> as argument and returning a function raising its argument to power <code>n</code>.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="advanced-techniques.html#cb194-1" tabindex="-1"></a>create_power_function <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb194-2"><a href="advanced-techniques.html#cb194-2" tabindex="-1"></a>  <span class="cf">function</span>(x) x<span class="sc">^</span>n</span>
<span id="cb194-3"><a href="advanced-techniques.html#cb194-3" tabindex="-1"></a>}</span></code></pre></div>
</details>
<ol start="48" style="list-style-type: decimal">
<li>Create a vector of numbers and use <code>reduce()</code> function to calculate the product of all numbers.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="advanced-techniques.html#cb195-1" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb195-2"><a href="advanced-techniques.html#cb195-2" tabindex="-1"></a>product <span class="ot">&lt;-</span> <span class="fu">reduce</span>(numbers, <span class="st">`</span><span class="at">*</span><span class="st">`</span>)</span>
<span id="cb195-3"><a href="advanced-techniques.html#cb195-3" tabindex="-1"></a>product</span>
<span id="cb195-4"><a href="advanced-techniques.html#cb195-4" tabindex="-1"></a><span class="co">#&gt; [1] 120</span></span></code></pre></div>
</details>
<ol start="49" style="list-style-type: decimal">
<li>Create a class called <code>Pet</code> with attributes <code>name</code>, <code>species</code> and <code>age</code>, and methods <code>introduce()</code> (showing name, species and age of pet) and <code>have_birthday()</code> (incrementing pet age by 1).</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="advanced-techniques.html#cb196-1" tabindex="-1"></a><span class="fu">library</span>(R6)</span>
<span id="cb196-2"><a href="advanced-techniques.html#cb196-2" tabindex="-1"></a></span>
<span id="cb196-3"><a href="advanced-techniques.html#cb196-3" tabindex="-1"></a>Pet <span class="ot">&lt;-</span> <span class="fu">R6Class</span>(<span class="st">&quot;Pet&quot;</span>,</span>
<span id="cb196-4"><a href="advanced-techniques.html#cb196-4" tabindex="-1"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb196-5"><a href="advanced-techniques.html#cb196-5" tabindex="-1"></a>    <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb196-6"><a href="advanced-techniques.html#cb196-6" tabindex="-1"></a>    <span class="at">species =</span> <span class="cn">NULL</span>,</span>
<span id="cb196-7"><a href="advanced-techniques.html#cb196-7" tabindex="-1"></a>    <span class="at">age =</span> <span class="cn">NULL</span>,</span>
<span id="cb196-8"><a href="advanced-techniques.html#cb196-8" tabindex="-1"></a>    </span>
<span id="cb196-9"><a href="advanced-techniques.html#cb196-9" tabindex="-1"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(name, species, age) {</span>
<span id="cb196-10"><a href="advanced-techniques.html#cb196-10" tabindex="-1"></a>      self<span class="sc">$</span>name <span class="ot">&lt;-</span> name</span>
<span id="cb196-11"><a href="advanced-techniques.html#cb196-11" tabindex="-1"></a>      self<span class="sc">$</span>species <span class="ot">&lt;-</span> species</span>
<span id="cb196-12"><a href="advanced-techniques.html#cb196-12" tabindex="-1"></a>      self<span class="sc">$</span>age <span class="ot">&lt;-</span> age</span>
<span id="cb196-13"><a href="advanced-techniques.html#cb196-13" tabindex="-1"></a>    },</span>
<span id="cb196-14"><a href="advanced-techniques.html#cb196-14" tabindex="-1"></a>    </span>
<span id="cb196-15"><a href="advanced-techniques.html#cb196-15" tabindex="-1"></a>    <span class="at">introduce =</span> <span class="cf">function</span>() {</span>
<span id="cb196-16"><a href="advanced-techniques.html#cb196-16" tabindex="-1"></a>      <span class="fu">cat</span>(<span class="st">&quot;Hello, I am&quot;</span>, self<span class="sc">$</span>name, <span class="st">&quot;, a&quot;</span>, self<span class="sc">$</span>species, <span class="st">&quot;of&quot;</span>, self<span class="sc">$</span>age, <span class="st">&quot;years old.</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb196-17"><a href="advanced-techniques.html#cb196-17" tabindex="-1"></a>    },</span>
<span id="cb196-18"><a href="advanced-techniques.html#cb196-18" tabindex="-1"></a>    </span>
<span id="cb196-19"><a href="advanced-techniques.html#cb196-19" tabindex="-1"></a>    <span class="at">have_birthday =</span> <span class="cf">function</span>() {</span>
<span id="cb196-20"><a href="advanced-techniques.html#cb196-20" tabindex="-1"></a>      self<span class="sc">$</span>age <span class="ot">&lt;-</span> self<span class="sc">$</span>age <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb196-21"><a href="advanced-techniques.html#cb196-21" tabindex="-1"></a>    }</span>
<span id="cb196-22"><a href="advanced-techniques.html#cb196-22" tabindex="-1"></a>  )</span>
<span id="cb196-23"><a href="advanced-techniques.html#cb196-23" tabindex="-1"></a>)</span></code></pre></div>
</details>
<ol start="50" style="list-style-type: decimal">
<li>Create a function called <code>create_flexible_sum_function()</code> receiving a number <code>n</code> as argument and returning a function adding <code>n</code> to the sum of all arguments passed to it.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="advanced-techniques.html#cb197-1" tabindex="-1"></a>create_flexible_sum_function <span class="ot">&lt;-</span> <span class="cf">function</span>(n) {</span>
<span id="cb197-2"><a href="advanced-techniques.html#cb197-2" tabindex="-1"></a>  <span class="cf">function</span>(...) {</span>
<span id="cb197-3"><a href="advanced-techniques.html#cb197-3" tabindex="-1"></a>    <span class="fu">sum</span>(<span class="fu">c</span>(...)) <span class="sc">+</span> n</span>
<span id="cb197-4"><a href="advanced-techniques.html#cb197-4" tabindex="-1"></a>  }</span>
<span id="cb197-5"><a href="advanced-techniques.html#cb197-5" tabindex="-1"></a>}</span>
<span id="cb197-6"><a href="advanced-techniques.html#cb197-6" tabindex="-1"></a></span>
<span id="cb197-7"><a href="advanced-techniques.html#cb197-7" tabindex="-1"></a><span class="co"># Tests</span></span>
<span id="cb197-8"><a href="advanced-techniques.html#cb197-8" tabindex="-1"></a><span class="co"># Create a function adding 5 to any set of numbers</span></span>
<span id="cb197-9"><a href="advanced-techniques.html#cb197-9" tabindex="-1"></a>sum_5 <span class="ot">&lt;-</span> <span class="fu">create_flexible_sum_function</span>(<span class="dv">5</span>)</span>
<span id="cb197-10"><a href="advanced-techniques.html#cb197-10" tabindex="-1"></a></span>
<span id="cb197-11"><a href="advanced-techniques.html#cb197-11" tabindex="-1"></a><span class="co"># Usage examples and verification</span></span>
<span id="cb197-12"><a href="advanced-techniques.html#cb197-12" tabindex="-1"></a><span class="fu">sum_5</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb197-13"><a href="advanced-techniques.html#cb197-13" tabindex="-1"></a><span class="co">#&gt; [1] 14</span></span>
<span id="cb197-14"><a href="advanced-techniques.html#cb197-14" tabindex="-1"></a></span>
<span id="cb197-15"><a href="advanced-techniques.html#cb197-15" tabindex="-1"></a><span class="fu">sum_5</span>(<span class="dv">10</span>, <span class="dv">20</span>)</span>
<span id="cb197-16"><a href="advanced-techniques.html#cb197-16" tabindex="-1"></a><span class="co">#&gt; [1] 35</span></span>
<span id="cb197-17"><a href="advanced-techniques.html#cb197-17" tabindex="-1"></a></span>
<span id="cb197-18"><a href="advanced-techniques.html#cb197-18" tabindex="-1"></a><span class="fu">sum_5</span>()</span>
<span id="cb197-19"><a href="advanced-techniques.html#cb197-19" tabindex="-1"></a><span class="co">#&gt; [1] 5</span></span></code></pre></div>
</details>
<ol start="51" style="list-style-type: decimal">
<li>Create a function called <code>create_dynamic_plot()</code> receiving a data frame, a plot type (“scatter”, “histogram” or “boxplot”), and a list of options for the plot (like title, color, labels, etc.). The function should generate the specified plot with given options.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="advanced-techniques.html#cb198-1" tabindex="-1"></a>create_dynamic_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(data, plot_type, options) {</span>
<span id="cb198-2"><a href="advanced-techniques.html#cb198-2" tabindex="-1"></a>  <span class="co"># Create base plot expression</span></span>
<span id="cb198-3"><a href="advanced-techniques.html#cb198-3" tabindex="-1"></a>  <span class="cf">if</span> (plot_type <span class="sc">==</span> <span class="st">&quot;scatter&quot;</span>) {</span>
<span id="cb198-4"><a href="advanced-techniques.html#cb198-4" tabindex="-1"></a>    expression <span class="ot">&lt;-</span> <span class="fu">quote</span>(<span class="fu">plot</span>(data[[options<span class="sc">$</span>var_x]], data[[options<span class="sc">$</span>var_y]],</span>
<span id="cb198-5"><a href="advanced-techniques.html#cb198-5" tabindex="-1"></a>                            <span class="at">xlab =</span> options<span class="sc">$</span>labels_x, <span class="at">ylab =</span> options<span class="sc">$</span>labels_y,</span>
<span id="cb198-6"><a href="advanced-techniques.html#cb198-6" tabindex="-1"></a>                            <span class="at">main =</span> options<span class="sc">$</span>title, <span class="at">col =</span> options<span class="sc">$</span>color))</span>
<span id="cb198-7"><a href="advanced-techniques.html#cb198-7" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (plot_type <span class="sc">==</span> <span class="st">&quot;histogram&quot;</span>) {</span>
<span id="cb198-8"><a href="advanced-techniques.html#cb198-8" tabindex="-1"></a>    expression <span class="ot">&lt;-</span> <span class="fu">quote</span>(<span class="fu">hist</span>(data[[options<span class="sc">$</span>var_x]], </span>
<span id="cb198-9"><a href="advanced-techniques.html#cb198-9" tabindex="-1"></a>                            <span class="at">main =</span> options<span class="sc">$</span>title, </span>
<span id="cb198-10"><a href="advanced-techniques.html#cb198-10" tabindex="-1"></a>                            <span class="at">xlab =</span> options<span class="sc">$</span>labels_x, <span class="at">col =</span> options<span class="sc">$</span>color))</span>
<span id="cb198-11"><a href="advanced-techniques.html#cb198-11" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (plot_type <span class="sc">==</span> <span class="st">&quot;boxplot&quot;</span>) {</span>
<span id="cb198-12"><a href="advanced-techniques.html#cb198-12" tabindex="-1"></a>    expression <span class="ot">&lt;-</span> <span class="fu">quote</span>(<span class="fu">boxplot</span>(data[[options<span class="sc">$</span>var_x]], </span>
<span id="cb198-13"><a href="advanced-techniques.html#cb198-13" tabindex="-1"></a>                               <span class="at">main =</span> options<span class="sc">$</span>title, </span>
<span id="cb198-14"><a href="advanced-techniques.html#cb198-14" tabindex="-1"></a>                               <span class="at">ylab =</span> options<span class="sc">$</span>labels_y, <span class="at">col =</span> options<span class="sc">$</span>color))</span>
<span id="cb198-15"><a href="advanced-techniques.html#cb198-15" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb198-16"><a href="advanced-techniques.html#cb198-16" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">&quot;Invalid plot type.&quot;</span>)</span>
<span id="cb198-17"><a href="advanced-techniques.html#cb198-17" tabindex="-1"></a>  }</span>
<span id="cb198-18"><a href="advanced-techniques.html#cb198-18" tabindex="-1"></a>  </span>
<span id="cb198-19"><a href="advanced-techniques.html#cb198-19" tabindex="-1"></a>  <span class="co"># Evaluate base expression</span></span>
<span id="cb198-20"><a href="advanced-techniques.html#cb198-20" tabindex="-1"></a>  <span class="fu">eval</span>(expression)</span>
<span id="cb198-21"><a href="advanced-techniques.html#cb198-21" tabindex="-1"></a>}</span>
<span id="cb198-22"><a href="advanced-techniques.html#cb198-22" tabindex="-1"></a></span>
<span id="cb198-23"><a href="advanced-techniques.html#cb198-23" tabindex="-1"></a><span class="co"># Create sample data</span></span>
<span id="cb198-24"><a href="advanced-techniques.html#cb198-24" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>), <span class="at">y =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>))</span>
<span id="cb198-25"><a href="advanced-techniques.html#cb198-25" tabindex="-1"></a></span>
<span id="cb198-26"><a href="advanced-techniques.html#cb198-26" tabindex="-1"></a><span class="co"># Tests</span></span>
<span id="cb198-27"><a href="advanced-techniques.html#cb198-27" tabindex="-1"></a><span class="co"># Scatter plot</span></span>
<span id="cb198-28"><a href="advanced-techniques.html#cb198-28" tabindex="-1"></a>options_scatter <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">var_x =</span> <span class="st">&quot;x&quot;</span>, <span class="at">var_y =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb198-29"><a href="advanced-techniques.html#cb198-29" tabindex="-1"></a>                            <span class="at">title =</span> <span class="st">&quot;Scatter Plot&quot;</span>,</span>
<span id="cb198-30"><a href="advanced-techniques.html#cb198-30" tabindex="-1"></a>                            <span class="at">labels_x =</span> <span class="st">&quot;Variable X&quot;</span>,</span>
<span id="cb198-31"><a href="advanced-techniques.html#cb198-31" tabindex="-1"></a>                            <span class="at">labels_y =</span> <span class="st">&quot;Variable Y&quot;</span>,</span>
<span id="cb198-32"><a href="advanced-techniques.html#cb198-32" tabindex="-1"></a>                            <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb198-33"><a href="advanced-techniques.html#cb198-33" tabindex="-1"></a><span class="fu">create_dynamic_plot</span>(data, <span class="st">&quot;scatter&quot;</span>, options_scatter)</span>
<span id="cb198-34"><a href="advanced-techniques.html#cb198-34" tabindex="-1"></a></span>
<span id="cb198-35"><a href="advanced-techniques.html#cb198-35" tabindex="-1"></a><span class="co"># Histogram</span></span>
<span id="cb198-36"><a href="advanced-techniques.html#cb198-36" tabindex="-1"></a>options_histogram <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">var_x =</span> <span class="st">&quot;x&quot;</span>,</span>
<span id="cb198-37"><a href="advanced-techniques.html#cb198-37" tabindex="-1"></a>                            <span class="at">title =</span> <span class="st">&quot;Histogram&quot;</span>,</span>
<span id="cb198-38"><a href="advanced-techniques.html#cb198-38" tabindex="-1"></a>                            <span class="at">labels_x =</span> <span class="st">&quot;Values&quot;</span>,</span>
<span id="cb198-39"><a href="advanced-techniques.html#cb198-39" tabindex="-1"></a>                            <span class="at">color =</span> <span class="st">&quot;green&quot;</span>)</span>
<span id="cb198-40"><a href="advanced-techniques.html#cb198-40" tabindex="-1"></a><span class="fu">create_dynamic_plot</span>(data, <span class="st">&quot;histogram&quot;</span>, options_histogram)</span>
<span id="cb198-41"><a href="advanced-techniques.html#cb198-41" tabindex="-1"></a></span>
<span id="cb198-42"><a href="advanced-techniques.html#cb198-42" tabindex="-1"></a><span class="co"># Boxplot</span></span>
<span id="cb198-43"><a href="advanced-techniques.html#cb198-43" tabindex="-1"></a>options_boxplot <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">var_x =</span> <span class="st">&quot;y&quot;</span>,</span>
<span id="cb198-44"><a href="advanced-techniques.html#cb198-44" tabindex="-1"></a>                         <span class="at">title =</span> <span class="st">&quot;Boxplot&quot;</span>,</span>
<span id="cb198-45"><a href="advanced-techniques.html#cb198-45" tabindex="-1"></a>                         <span class="at">labels_y =</span> <span class="st">&quot;Values&quot;</span>,</span>
<span id="cb198-46"><a href="advanced-techniques.html#cb198-46" tabindex="-1"></a>                         <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb198-47"><a href="advanced-techniques.html#cb198-47" tabindex="-1"></a><span class="fu">create_dynamic_plot</span>(data, <span class="st">&quot;boxplot&quot;</span>, options_boxplot)</span></code></pre></div>
<img src="Data-Science-con-R_files/figure-html/unnamed-chunk-269-1.png" alt="" width="80%" style="display: block; margin: auto;" /><img src="Data-Science-con-R_files/figure-html/unnamed-chunk-269-2.png" alt="" width="80%" style="display: block; margin: auto;" /><img src="Data-Science-con-R_files/figure-html/unnamed-chunk-269-3.png" alt="" width="80%" style="display: block; margin: auto;" />
</details>
<ol start="52" style="list-style-type: decimal">
<li>Create a class called <code>Dog</code> inheriting from <code>Pet</code> class (from previous exercises). <code>Dog</code> class should have an additional attribute called <code>breed</code> and a method called <code>bark()</code>.</li>
</ol>
<details>
<summary type="button">
Solution
</summary>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="advanced-techniques.html#cb199-1" tabindex="-1"></a>Dog <span class="ot">&lt;-</span> <span class="fu">R6Class</span>(<span class="st">&quot;Dog&quot;</span>,</span>
<span id="cb199-2"><a href="advanced-techniques.html#cb199-2" tabindex="-1"></a>  <span class="at">inherit =</span> Pet,</span>
<span id="cb199-3"><a href="advanced-techniques.html#cb199-3" tabindex="-1"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb199-4"><a href="advanced-techniques.html#cb199-4" tabindex="-1"></a>    <span class="at">breed =</span> <span class="cn">NULL</span>,</span>
<span id="cb199-5"><a href="advanced-techniques.html#cb199-5" tabindex="-1"></a>    </span>
<span id="cb199-6"><a href="advanced-techniques.html#cb199-6" tabindex="-1"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(name, age, breed) {</span>
<span id="cb199-7"><a href="advanced-techniques.html#cb199-7" tabindex="-1"></a>      super<span class="sc">$</span><span class="fu">initialize</span>(name, <span class="st">&quot;dog&quot;</span>, age)</span>
<span id="cb199-8"><a href="advanced-techniques.html#cb199-8" tabindex="-1"></a>      self<span class="sc">$</span>breed <span class="ot">&lt;-</span> breed</span>
<span id="cb199-9"><a href="advanced-techniques.html#cb199-9" tabindex="-1"></a>    },</span>
<span id="cb199-10"><a href="advanced-techniques.html#cb199-10" tabindex="-1"></a>    </span>
<span id="cb199-11"><a href="advanced-techniques.html#cb199-11" tabindex="-1"></a>    <span class="at">bark =</span> <span class="cf">function</span>() {</span>
<span id="cb199-12"><a href="advanced-techniques.html#cb199-12" tabindex="-1"></a>      <span class="fu">cat</span>(<span class="st">&quot;Woof! Woof!</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb199-13"><a href="advanced-techniques.html#cb199-13" tabindex="-1"></a>    }</span>
<span id="cb199-14"><a href="advanced-techniques.html#cb199-14" tabindex="-1"></a>  )</span>
<span id="cb199-15"><a href="advanced-techniques.html#cb199-15" tabindex="-1"></a>)</span></code></pre></div>
</details>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="data-frames.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ggplot-and-dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": true,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": null
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": null,
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
